(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Yd={exports:{}},wl={};var hv;function ub(){if(hv)return wl;hv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return wl.Fragment=e,wl.jsx=n,wl.jsxs=n,wl}var fv;function cb(){return fv||(fv=1,Yd.exports=ub()),Yd.exports}var C=cb(),Xd={exports:{}},Se={};var dv;function hb(){if(dv)return Se;dv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function q(x){return x===null||typeof x!="object"?null:(x=V&&x[V]||x["@@iterator"],typeof x=="function"?x:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,te={};function fe(x,$,re){this.props=x,this.context=$,this.refs=te,this.updater=re||W}fe.prototype.isReactComponent={},fe.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},fe.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function pe(){}pe.prototype=fe.prototype;function ce(x,$,re){this.props=x,this.context=$,this.refs=te,this.updater=re||W}var Ne=ce.prototype=new pe;Ne.constructor=ce,ee(Ne,fe.prototype),Ne.isPureReactComponent=!0;var z=Array.isArray;function ne(){}var w={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function R(x,$,re){var le=re.ref;return{$$typeof:s,type:x,key:$,ref:le!==void 0?le:null,props:re}}function I(x,$){return R(x.type,$,x.props)}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function P(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(re){return $[re]})}var N=/\/+/g;function Ge(x,$){return typeof x=="object"&&x!==null&&x.key!=null?P(""+x.key):$.toString(36)}function ut(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ne,ne):(x.status="pending",x.then(function($){x.status==="pending"&&(x.status="fulfilled",x.value=$)},function($){x.status==="pending"&&(x.status="rejected",x.reason=$)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function G(x,$,re,le,ve){var Ce=typeof x;(Ce==="undefined"||Ce==="boolean")&&(x=null);var ze=!1;if(x===null)ze=!0;else switch(Ce){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(x.$$typeof){case s:case e:ze=!0;break;case T:return ze=x._init,G(ze(x._payload),$,re,le,ve)}}if(ze)return ve=ve(x),ze=le===""?"."+Ge(x,0):le,z(ve)?(re="",ze!=null&&(re=ze.replace(N,"$&/")+"/"),G(ve,$,re,"",function(lr){return lr})):ve!=null&&(D(ve)&&(ve=I(ve,re+(ve.key==null||x&&x.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+ze)),$.push(ve)),1;ze=0;var Ot=le===""?".":le+":";if(z(x))for(var rt=0;rt<x.length;rt++)le=x[rt],Ce=Ot+Ge(le,rt),ze+=G(le,$,re,Ce,ve);else if(rt=q(x),typeof rt=="function")for(x=rt.call(x),rt=0;!(le=x.next()).done;)le=le.value,Ce=Ot+Ge(le,rt++),ze+=G(le,$,re,Ce,ve);else if(Ce==="object"){if(typeof x.then=="function")return G(ut(x),$,re,le,ve);throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ze}function se(x,$,re){if(x==null)return x;var le=[],ve=0;return G(x,le,"","",function(Ce){return $.call(re,Ce,ve++)}),le}function J(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(re){(x._status===0||x._status===-1)&&(x._status=1,x._result=re)},function(re){(x._status===0||x._status===-1)&&(x._status=2,x._result=re)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var Te=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ve={map:se,forEach:function(x,$,re){se(x,function(){$.apply(this,arguments)},re)},count:function(x){var $=0;return se(x,function(){$++}),$},toArray:function(x){return se(x,function($){return $})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Se.Activity=S,Se.Children=Ve,Se.Component=fe,Se.Fragment=n,Se.Profiler=l,Se.PureComponent=ce,Se.StrictMode=r,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Se.__COMPILER_RUNTIME={__proto__:null,c:function(x){return w.H.useMemoCache(x)}},Se.cache=function(x){return function(){return x.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(x,$,re){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var le=ee({},x.props),ve=x.key;if($!=null)for(Ce in $.key!==void 0&&(ve=""+$.key),$)!b.call($,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&$.ref===void 0||(le[Ce]=$[Ce]);var Ce=arguments.length-2;if(Ce===1)le.children=re;else if(1<Ce){for(var ze=Array(Ce),Ot=0;Ot<Ce;Ot++)ze[Ot]=arguments[Ot+2];le.children=ze}return R(x.type,ve,le)},Se.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Se.createElement=function(x,$,re){var le,ve={},Ce=null;if($!=null)for(le in $.key!==void 0&&(Ce=""+$.key),$)b.call($,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ve[le]=$[le]);var ze=arguments.length-2;if(ze===1)ve.children=re;else if(1<ze){for(var Ot=Array(ze),rt=0;rt<ze;rt++)Ot[rt]=arguments[rt+2];ve.children=Ot}if(x&&x.defaultProps)for(le in ze=x.defaultProps,ze)ve[le]===void 0&&(ve[le]=ze[le]);return R(x,Ce,ve)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(x){return{$$typeof:p,render:x}},Se.isValidElement=D,Se.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:J}},Se.memo=function(x,$){return{$$typeof:_,type:x,compare:$===void 0?null:$}},Se.startTransition=function(x){var $=w.T,re={};w.T=re;try{var le=x(),ve=w.S;ve!==null&&ve(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ne,Te)}catch(Ce){Te(Ce)}finally{$!==null&&re.types!==null&&($.types=re.types),w.T=$}},Se.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Se.use=function(x){return w.H.use(x)},Se.useActionState=function(x,$,re){return w.H.useActionState(x,$,re)},Se.useCallback=function(x,$){return w.H.useCallback(x,$)},Se.useContext=function(x){return w.H.useContext(x)},Se.useDebugValue=function(){},Se.useDeferredValue=function(x,$){return w.H.useDeferredValue(x,$)},Se.useEffect=function(x,$){return w.H.useEffect(x,$)},Se.useEffectEvent=function(x){return w.H.useEffectEvent(x)},Se.useId=function(){return w.H.useId()},Se.useImperativeHandle=function(x,$,re){return w.H.useImperativeHandle(x,$,re)},Se.useInsertionEffect=function(x,$){return w.H.useInsertionEffect(x,$)},Se.useLayoutEffect=function(x,$){return w.H.useLayoutEffect(x,$)},Se.useMemo=function(x,$){return w.H.useMemo(x,$)},Se.useOptimistic=function(x,$){return w.H.useOptimistic(x,$)},Se.useReducer=function(x,$,re){return w.H.useReducer(x,$,re)},Se.useRef=function(x){return w.H.useRef(x)},Se.useState=function(x){return w.H.useState(x)},Se.useSyncExternalStore=function(x,$,re){return w.H.useSyncExternalStore(x,$,re)},Se.useTransition=function(){return w.H.useTransition()},Se.version="19.2.0",Se}var mv;function Fm(){return mv||(mv=1,Xd.exports=hb()),Xd.exports}var Ee=Fm(),$d={exports:{}},Rl={},Zd={exports:{}},Jd={};var pv;function fb(){return pv||(pv=1,(function(s){function e(G,se){var J=G.length;G.push(se);e:for(;0<J;){var Te=J-1>>>1,Ve=G[Te];if(0<l(Ve,se))G[Te]=se,G[J]=Ve,J=Te;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var se=G[0],J=G.pop();if(J!==se){G[0]=J;e:for(var Te=0,Ve=G.length,x=Ve>>>1;Te<x;){var $=2*(Te+1)-1,re=G[$],le=$+1,ve=G[le];if(0>l(re,J))le<Ve&&0>l(ve,re)?(G[Te]=ve,G[le]=J,Te=le):(G[Te]=re,G[$]=J,Te=$);else if(le<Ve&&0>l(ve,J))G[Te]=ve,G[le]=J,Te=le;else break e}}return se}function l(G,se){var J=G.sortIndex-se.sortIndex;return J!==0?J:G.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],_=[],T=1,S=null,V=3,q=!1,W=!1,ee=!1,te=!1,fe=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function Ne(G){for(var se=n(_);se!==null;){if(se.callback===null)r(_);else if(se.startTime<=G)r(_),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(_)}}function z(G){if(ee=!1,Ne(G),!W)if(n(g)!==null)W=!0,ne||(ne=!0,P());else{var se=n(_);se!==null&&ut(z,se.startTime-G)}}var ne=!1,w=-1,b=5,R=-1;function I(){return te?!0:!(s.unstable_now()-R<b)}function D(){if(te=!1,ne){var G=s.unstable_now();R=G;var se=!0;try{e:{W=!1,ee&&(ee=!1,pe(w),w=-1),q=!0;var J=V;try{t:{for(Ne(G),S=n(g);S!==null&&!(S.expirationTime>G&&I());){var Te=S.callback;if(typeof Te=="function"){S.callback=null,V=S.priorityLevel;var Ve=Te(S.expirationTime<=G);if(G=s.unstable_now(),typeof Ve=="function"){S.callback=Ve,Ne(G),se=!0;break t}S===n(g)&&r(g),Ne(G)}else r(g);S=n(g)}if(S!==null)se=!0;else{var x=n(_);x!==null&&ut(z,x.startTime-G),se=!1}}break e}finally{S=null,V=J,q=!1}se=void 0}}finally{se?P():ne=!1}}}var P;if(typeof ce=="function")P=function(){ce(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Ge=N.port2;N.port1.onmessage=D,P=function(){Ge.postMessage(null)}}else P=function(){fe(D,0)};function ut(G,se){w=fe(function(){G(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(G){switch(V){case 1:case 2:case 3:var se=3;break;default:se=V}var J=V;V=se;try{return G()}finally{V=J}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=V;V=G;try{return se()}finally{V=J}},s.unstable_scheduleCallback=function(G,se,J){var Te=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Te+J:Te):J=Te,G){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=J+Ve,G={id:T++,callback:se,priorityLevel:G,startTime:J,expirationTime:Ve,sortIndex:-1},J>Te?(G.sortIndex=J,e(_,G),n(g)===null&&G===n(_)&&(ee?(pe(w),w=-1):ee=!0,ut(z,J-Te))):(G.sortIndex=Ve,e(g,G),W||q||(W=!0,ne||(ne=!0,P()))),G},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(G){var se=V;return function(){var J=V;V=se;try{return G.apply(this,arguments)}finally{V=J}}}})(Jd)),Jd}var gv;function db(){return gv||(gv=1,Zd.exports=fb()),Zd.exports}var Wd={exports:{}},$t={};var yv;function mb(){if(yv)return $t;yv=1;var s=Fm();function e(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,_,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:g,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(g,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(g,_,null,T)},$t.flushSync=function(g){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=_,r.p=T,r.d.f()}},$t.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},$t.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},$t.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var T=_.as,S=p(T,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:q}):T==="script"&&r.d.X(g,{crossOrigin:S,integrity:V,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},$t.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=p(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},$t.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,S=p(T,_.crossOrigin);r.d.L(g,T,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},$t.preloadModule=function(g,_){if(typeof g=="string")if(_){var T=p(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},$t.requestFormReset=function(g){r.d.r(g)},$t.unstable_batchedUpdates=function(g,_){return g(_)},$t.useFormState=function(g,_,T){return d.H.useFormState(g,_,T)},$t.useFormStatus=function(){return d.H.useHostTransitionStatus()},$t.version="19.2.0",$t}var _v;function pb(){if(_v)return Wd.exports;_v=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Wd.exports=mb(),Wd.exports}var vv;function gb(){if(vv)return Rl;vv=1;var s=db(),e=Fm(),n=pb();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function _(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===o)return g(h),i;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,o=f;break}if(E===o){y=!0,o=h,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,o=h;break}if(E===o){y=!0,o=f,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),pe=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),Ne=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case fe:return"Profiler";case te:return"StrictMode";case z:return"Suspense";case ne:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ce:return t.displayName||"Context";case pe:return(t._context.displayName||"Context")+".Consumer";case Ne:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return i=t.displayName||null,i!==null?i:Ge(t.type)||"Memo";case b:i=t._payload,t=t._init;try{return Ge(t(i))}catch{}}return null}var ut=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Te=[],Ve=-1;function x(t){return{current:t}}function $(t){0>Ve||(t.current=Te[Ve],Te[Ve]=null,Ve--)}function re(t,i){Ve++,Te[Ve]=t.current,t.current=i}var le=x(null),ve=x(null),Ce=x(null),ze=x(null);function Ot(t,i){switch(re(Ce,i),re(ve,t),re(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?x_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=x_(i),t=P_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(le),re(le,t)}function rt(){$(le),$(ve),$(Ce)}function lr(t){t.memoizedState!==null&&re(ze,t);var i=le.current,a=P_(i,t.type);i!==a&&(re(ve,t),re(le,a))}function Wr(t){ve.current===t&&($(le),$(ve)),ze.current===t&&($(ze),Tl._currentValue=J)}var ea,ta;function ii(t){if(ea===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ea=i&&i[1]||"",ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ea+t+ta}var To=!1;function ur(t,i){if(!t||To)return"";To=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var B=F}Reflect.construct(t,[],X)}else{try{X.call()}catch(F){B=F}t.call(X.prototype)}}else{try{throw Error()}catch(F){B=F}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var O=y.split(`
`),j=E.split(`
`);for(h=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===O.length||h===j.length)for(o=O.length-1,h=j.length-1;1<=o&&0<=h&&O[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(O[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||O[o]!==j[h]){var Q=`
`+O[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{To=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ii(a):""}function Ao(t,i){switch(t.tag){case 26:case 27:case 5:return ii(t.type);case 16:return ii("Lazy");case 13:return t.child!==i&&i!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return ur(t.type,!1);case 11:return ur(t.type.render,!1);case 1:return ur(t.type,!0);case 31:return ii("Activity");default:return""}}function So(t){try{var i="",a=null;do i+=Ao(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var vt=Object.prototype.hasOwnProperty,Vt=s.unstable_scheduleCallback,as=s.unstable_cancelCallback,Xh=s.unstable_shouldYield,cu=s.unstable_requestPaint,tn=s.unstable_now,cr=s.unstable_getCurrentPriorityLevel,bo=s.unstable_ImmediatePriority,wo=s.unstable_UserBlockingPriority,os=s.unstable_NormalPriority,$h=s.unstable_LowPriority,hu=s.unstable_IdlePriority,fu=s.log,du=s.unstable_setDisableYieldValue,jn=null,jt=null;function bn(t){if(typeof fu=="function"&&du(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(jn,t)}catch{}}var dt=Math.clz32?Math.clz32:pu,mu=Math.log,na=Math.LN2;function pu(t){return t>>>=0,t===0?32:31-(mu(t)/na|0)|0}var si=256,hr=262144,Et=4194304;function ri(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ai(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(y&=E,y!==0?h=ri(y):a||(a=E&~t,a!==0&&(h=ri(a))))):(E=o&~f,E!==0?h=ri(E):y!==0?h=ri(y):a||(a=o&~t,a!==0&&(h=ri(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Bn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Zh(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function oi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function fr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jh(t,i,a,o,h,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,O=t.expirationTimes,j=t.hiddenUpdates;for(a=y&~a;0<a;){var Q=31-dt(a),X=1<<Q;E[Q]=0,O[Q]=-1;var B=j[Q];if(B!==null)for(j[Q]=null,Q=0;Q<B.length;Q++){var F=B[Q];F!==null&&(F.lane&=-536870913)}a&=~X}o!==0&&dr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~i))}function dr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-dt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ro(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-dt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Co(t,i){var a=i&-i;return a=(a&42)!==0?1:mr(a),(a&(t.suspendedLanes|i))!==0?0:a}function mr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function yu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:sv(t.type))}function qn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Hn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Hn,Ut="__reactProps$"+Hn,li="__reactContainer$"+Hn,ia="__reactEvents$"+Hn,Wh="__reactListeners$"+Hn,_u="__reactHandles$"+Hn,vu="__reactResources$"+Hn,ui="__reactMarker$"+Hn;function sa(t){delete t[Tt],delete t[Ut],delete t[ia],delete t[Wh],delete t[_u]}function ci(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[li]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=q_(t);t!==null;){if(a=t[Tt])return a;t=q_(t)}return i}t=a,a=t.parentNode}return null}function wn(t){if(t=t[Tt]||t[li]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function mn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function hi(t){var i=t[vu];return i||(i=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[ui]=!0}var Io=new Set,No={};function fi(t,i){di(t,i),di(t+"Capture",i)}function di(t,i){for(No[t]=i,t=0;t<i.length;t++)Io.add(i[t])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},Vo={};function Eu(t){return vt.call(Vo,t)?!0:vt.call(Oo,t)?!1:Do.test(t)?Vo[t]=!0:(Oo[t]=!0,!1)}function ra(t,i,a){if(Eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function pn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ls(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,f.call(this,y)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=ls(t)?"checked":"value";t._valueTracker=Mo(t,i,""+t[i])}}function pr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=ls(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gr=/[\n"\\]/g;function rn(t){return t.replace(gr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function aa(t,i,a,o,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),i!=null?y==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),i!=null?xo(t,y,Lt(i)):a!=null?xo(t,y,Lt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Lt(E):t.removeAttribute("name")}function Tu(t,i,a,o,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ke(t)}function xo(t,i,a){i==="number"&&mi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function us(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Au(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function cs(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(ut(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ke(t)}function an(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Su.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Uo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Po(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Po(t,f,i[f])}function oa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(t){return hs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Fn(){}var Lo=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fs=null,pi=null;function yr(t){var i=wn(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Ut]||null;if(!h)throw Error(r(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&pr(o)}break e;case"textarea":Au(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&us(t,!!a.multiple,i,!1)}}}var ua=!1;function ds(t,i,a){if(ua)return t(i,a);ua=!0;try{var o=t(i);return o}finally{if(ua=!1,(fs!==null||pi!==null)&&(yc(),fs&&(i=fs,t=pi,pi=fs=null,yr(i),t)))for(i=0;i<t.length;i++)yr(t[i])}}function Gn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Ut]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(Cn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){_r=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{_r=!1}var gi=null,ko=null,vr=null;function zo(){if(vr)return vr;var t,i=ko,a=i.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var y=a-t;for(o=1;o<=y&&i[a-o]===h[f-o];o++);return vr=h.slice(t,1<o?1-o:void 0)}function Er(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function xi(){return!0}function Qn(){return!1}function Bt(t){function i(a,o,h,f,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Qn,this.isPropagationStopped=Qn,this}return S(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),i}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Bt(Pi),ms=S({},Pi,{view:0,detail:0}),jo=Bt(ms),ps,ca,_i,ha=S({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(ps=t.screenX-_i.screenX,ca=t.screenY-_i.screenY):ca=ps=0,_i=t),ps)},movementY:function(t){return"movementY"in t?t.movementY:ca}}),Bo=Bt(ha),Tr=S({},ha,{dataTransfer:0}),wu=Bt(Tr),Ru=S({},ms,{relatedTarget:0}),Ar=Bt(Ru),qo=S({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=Bt(qo),fa=S({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Iu=Bt(fa),Nu=S({},Pi,{data:0}),vi=Bt(Nu),Du={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Vu[t])?!!i[t]:!1}function gs(){return Mu}var nn=S({},ms,{key:function(t){if(t.key){var i=Du[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Er(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ou[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(t){return t.type==="keypress"?Er(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Er(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xu=Bt(nn),Pu=S({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=Bt(Pu),u=S({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=Bt(u),v=S({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),L=S({},ha,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Bt(L),ie=S({},Pi,{newState:0,oldState:0}),we=Bt(ie),mt=[9,13,27,32],He=Cn&&"CompositionEvent"in window,at=null;Cn&&"documentMode"in document&&(at=document.documentMode);var In=Cn&&"TextEvent"in window&&!at,Ei=Cn&&(!He||at&&8<at&&11>=at),Kn=" ",Yn=!1;function Sr(t,i){switch(t){case"keyup":return mt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ma=!1;function MA(t,i){switch(t){case"compositionend":return da(i);case"keypress":return i.which!==32?null:(Yn=!0,Kn);case"textInput":return t=i.data,t===Kn&&Yn?null:t;default:return null}}function xA(t,i){if(ma)return t==="compositionend"||!He&&Sr(t,i)?(t=zo(),vr=ko=gi=null,ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ei&&i.locale!=="ko"?null:i.data;default:return null}}var PA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!PA[t.type]:i==="textarea"}function Qp(t,i,a,o){fs?pi?pi.push(o):pi=[o]:fs=o,i=bc(i,"onChange"),0<i.length&&(a=new yi("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Ho=null,Fo=null;function UA(t){I_(t,0)}function Uu(t){var i=mn(t);if(pr(i))return t}function Kp(t,i){if(t==="change")return i}var Yp=!1;if(Cn){var ef;if(Cn){var tf="oninput"in document;if(!tf){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),tf=typeof Xp.oninput=="function"}ef=tf}else ef=!1;Yp=ef&&(!document.documentMode||9<document.documentMode)}function $p(){Ho&&(Ho.detachEvent("onpropertychange",Zp),Fo=Ho=null)}function Zp(t){if(t.propertyName==="value"&&Uu(Fo)){var i=[];Qp(i,Fo,t,Rn(t)),ds(UA,i)}}function LA(t,i,a){t==="focusin"?($p(),Ho=i,Fo=a,Ho.attachEvent("onpropertychange",Zp)):t==="focusout"&&$p()}function kA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(Fo)}function zA(t,i){if(t==="click")return Uu(i)}function jA(t,i){if(t==="input"||t==="change")return Uu(i)}function BA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var gn=typeof Object.is=="function"?Object.is:BA;function Go(t,i){if(gn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!vt.call(i,h)||!gn(t[h],i[h]))return!1}return!0}function Jp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wp(t,i){var a=Jp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jp(a)}}function eg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?eg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function tg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=mi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=mi(t.document)}return i}function nf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var qA=Cn&&"documentMode"in document&&11>=document.documentMode,pa=null,sf=null,Qo=null,rf=!1;function ng(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rf||pa==null||pa!==mi(o)||(o=pa,"selectionStart"in o&&nf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qo&&Go(Qo,o)||(Qo=o,o=bc(sf,"onSelect"),0<o.length&&(i=new yi("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=pa)))}function br(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ga={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},af={},ig={};Cn&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function wr(t){if(af[t])return af[t];if(!ga[t])return t;var i=ga[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ig)return af[t]=i[a];return t}var sg=wr("animationend"),rg=wr("animationiteration"),ag=wr("animationstart"),HA=wr("transitionrun"),FA=wr("transitionstart"),GA=wr("transitioncancel"),og=wr("transitionend"),lg=new Map,of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");of.push("scrollEnd");function Xn(t,i){lg.set(t,i),fi(i,[t])}var Lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Nn=[],ya=0,lf=0;function ku(){for(var t=ya,i=lf=ya=0;i<t;){var a=Nn[i];Nn[i++]=null;var o=Nn[i];Nn[i++]=null;var h=Nn[i];Nn[i++]=null;var f=Nn[i];if(Nn[i++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}f!==0&&ug(a,h,f)}}function zu(t,i,a,o){Nn[ya++]=t,Nn[ya++]=i,Nn[ya++]=a,Nn[ya++]=o,lf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function uf(t,i,a,o){return zu(t,i,a,o),ju(t)}function Rr(t,i){return zu(t,null,null,i),ju(t)}function ug(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-dt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function ju(t){if(50<ml)throw ml=0,_d=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var _a={};function QA(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,i,a,o){return new QA(t,i,a,o)}function cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Li(t,i){var a=t.alternate;return a===null?(a=yn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function cg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Bu(t,i,a,o,h,f){var y=0;if(o=t,typeof t=="function")cf(t)&&(y=1);else if(typeof t=="string")y=ZS(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=yn(31,a,i,h),t.elementType=R,t.lanes=f,t;case ee:return Cr(a.children,h,f,i);case te:y=8,h|=24;break;case fe:return t=yn(12,a,i,h|2),t.elementType=fe,t.lanes=f,t;case z:return t=yn(13,a,i,h),t.elementType=z,t.lanes=f,t;case ne:return t=yn(19,a,i,h),t.elementType=ne,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ce:y=10;break e;case pe:y=9;break e;case Ne:y=11;break e;case w:y=14;break e;case b:y=16,o=null;break e}y=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=yn(y,a,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Cr(t,i,a,o){return t=yn(7,t,o,i),t.lanes=a,t}function hf(t,i,a){return t=yn(6,t,null,i),t.lanes=a,t}function hg(t){var i=yn(18,null,null,0);return i.stateNode=t,i}function ff(t,i,a){return i=yn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var fg=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var a=fg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:So(i)},fg.set(t,i),i)}return{value:t,source:i,stack:So(i)}}var va=[],Ea=0,qu=null,Ko=0,On=[],Vn=0,ys=null,Ti=1,Ai="";function ki(t,i){va[Ea++]=Ko,va[Ea++]=qu,qu=t,Ko=i}function dg(t,i,a){On[Vn++]=Ti,On[Vn++]=Ai,On[Vn++]=ys,ys=t;var o=Ti;t=Ai;var h=32-dt(o)-1;o&=~(1<<h),a+=1;var f=32-dt(i)+h;if(30<f){var y=h-h%5;f=(o&(1<<y)-1).toString(32),o>>=y,h-=y,Ti=1<<32-dt(i)+h|a<<h|o,Ai=f+t}else Ti=1<<f|a<<h|o,Ai=t}function df(t){t.return!==null&&(ki(t,1),dg(t,1,0))}function mf(t){for(;t===qu;)qu=va[--Ea],va[Ea]=null,Ko=va[--Ea],va[Ea]=null;for(;t===ys;)ys=On[--Vn],On[Vn]=null,Ai=On[--Vn],On[Vn]=null,Ti=On[--Vn],On[Vn]=null}function mg(t,i){On[Vn++]=Ti,On[Vn++]=Ai,On[Vn++]=ys,Ti=i.id,Ai=i.overflow,ys=t}var qt=null,nt=null,ke=!1,_s=null,Mn=!1,pf=Error(r(519));function vs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(Dn(i,t)),pf}function pg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Tt]=t,i[Ut]=o,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<gl.length;a++)Oe(gl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),Tu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),cs(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||V_(i.textContent,a)?(o.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),o.onScroll!=null&&Oe("scroll",i),o.onScrollEnd!=null&&Oe("scrollend",i),o.onClick!=null&&(i.onclick=Fn),i=!0):i=!1,i||vs(t,!0)}function gg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:qt=qt.return}}function Ta(t){if(t!==qt)return!1;if(!ke)return gg(t),ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Md(t.type,t.memoizedProps)),a=!a),a&&nt&&vs(t),gg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=B_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));nt=B_(t)}else i===27?(i=nt,Ms(t.type)?(t=kd,kd=null,nt=t):nt=i):nt=qt?Pn(t.stateNode.nextSibling):null;return!0}function Ir(){nt=qt=null,ke=!1}function gf(){var t=_s;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),_s=null),t}function Yo(t){_s===null?_s=[t]:_s.push(t)}var yf=x(null),Nr=null,zi=null;function Es(t,i,a){re(yf,i._currentValue),i._currentValue=a}function ji(t){t._currentValue=yf.current,$(yf)}function _f(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function vf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var O=0;O<i.length;O++)if(E.context===i[O]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),_f(f.return,a,t),o||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),_f(y,a,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Aa(t,i,a,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;gn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===ze.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&vf(i,t,a,o),i.flags|=262144}function Hu(t){for(t=t.firstContext;t!==null;){if(!gn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Dr(t){Nr=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return yg(Nr,t)}function Fu(t,i){return Nr===null&&Dr(t),yg(t,i)}function yg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},zi===null){if(t===null)throw Error(r(308));zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else zi=zi.next=i;return a}var KA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},YA=s.unstable_scheduleCallback,XA=s.unstable_NormalPriority,bt={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ef(){return{controller:new KA,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&YA(XA,function(){t.controller.abort()})}var $o=null,Tf=0,Sa=0,ba=null;function $A(t,i){if($o===null){var a=$o=[];Tf=0,Sa=bd(),ba={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Tf++,i.then(_g,_g),i}function _g(){if(--Tf===0&&$o!==null){ba!==null&&(ba.status="fulfilled");var t=$o;$o=null,Sa=0,ba=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function ZA(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var vg=G.S;G.S=function(t,i){n_=tn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&$A(t,i),vg!==null&&vg(t,i)};var Or=x(null);function Af(){var t=Or.current;return t!==null?t:et.pooledCache}function Gu(t,i){i===null?re(Or,Or.current):re(Or,i.pool)}function Eg(){var t=Af();return t===null?null:{parent:bt._currentValue,pool:t}}var wa=Error(r(460)),Sf=Error(r(474)),Qu=Error(r(542)),Ku={then:function(){}};function Tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ag(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Fn,Fn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bg(t),t;default:if(typeof i.status=="string")i.then(Fn,Fn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,bg(t),t}throw Mr=i,wa}}function Vr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Mr=a,wa):a}}var Mr=null;function Sg(){if(Mr===null)throw Error(r(459));var t=Mr;return Mr=null,t}function bg(t){if(t===wa||t===Qu)throw Error(r(483))}var Ra=null,Zo=0;function Yu(t){var i=Zo;return Zo+=1,Ra===null&&(Ra=[]),Ag(Ra,t,i)}function Jo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Xu(t,i){throw i.$$typeof===V?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function wg(t){function i(U,M){if(t){var k=U.deletions;k===null?(U.deletions=[M],U.flags|=16):k.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Li(U,M),U.index=0,U.sibling=null,U}function f(U,M,k){return U.index=k,t?(k=U.alternate,k!==null?(k=k.index,k<M?(U.flags|=67108866,M):k):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function y(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,k,K){return M===null||M.tag!==6?(M=hf(k,U.mode,K),M.return=U,M):(M=h(M,k),M.return=U,M)}function O(U,M,k,K){var de=k.type;return de===ee?Q(U,M,k.props.children,K,k.key):M!==null&&(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===b&&Vr(de)===M.type)?(M=h(M,k.props),Jo(M,k),M.return=U,M):(M=Bu(k.type,k.key,k.props,null,U.mode,K),Jo(M,k),M.return=U,M)}function j(U,M,k,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=ff(k,U.mode,K),M.return=U,M):(M=h(M,k.children||[]),M.return=U,M)}function Q(U,M,k,K,de){return M===null||M.tag!==7?(M=Cr(k,U.mode,K,de),M.return=U,M):(M=h(M,k),M.return=U,M)}function X(U,M,k){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=hf(""+M,U.mode,k),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case q:return k=Bu(M.type,M.key,M.props,null,U.mode,k),Jo(k,M),k.return=U,k;case W:return M=ff(M,U.mode,k),M.return=U,M;case b:return M=Vr(M),X(U,M,k)}if(ut(M)||P(M))return M=Cr(M,U.mode,k,null),M.return=U,M;if(typeof M.then=="function")return X(U,Yu(M),k);if(M.$$typeof===ce)return X(U,Fu(U,M),k);Xu(U,M)}return null}function B(U,M,k,K){var de=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return de!==null?null:E(U,M,""+k,K);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case q:return k.key===de?O(U,M,k,K):null;case W:return k.key===de?j(U,M,k,K):null;case b:return k=Vr(k),B(U,M,k,K)}if(ut(k)||P(k))return de!==null?null:Q(U,M,k,K,null);if(typeof k.then=="function")return B(U,M,Yu(k),K);if(k.$$typeof===ce)return B(U,M,Fu(U,k),K);Xu(U,k)}return null}function F(U,M,k,K,de){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(k)||null,E(M,U,""+K,de);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return U=U.get(K.key===null?k:K.key)||null,O(M,U,K,de);case W:return U=U.get(K.key===null?k:K.key)||null,j(M,U,K,de);case b:return K=Vr(K),F(U,M,k,K,de)}if(ut(K)||P(K))return U=U.get(k)||null,Q(M,U,K,de,null);if(typeof K.then=="function")return F(U,M,k,Yu(K),de);if(K.$$typeof===ce)return F(U,M,k,Fu(M,K),de);Xu(M,K)}return null}function ue(U,M,k,K){for(var de=null,Be=null,he=M,Ie=M=0,xe=null;he!==null&&Ie<k.length;Ie++){he.index>Ie?(xe=he,he=null):xe=he.sibling;var qe=B(U,he,k[Ie],K);if(qe===null){he===null&&(he=xe);break}t&&he&&qe.alternate===null&&i(U,he),M=f(qe,M,Ie),Be===null?de=qe:Be.sibling=qe,Be=qe,he=xe}if(Ie===k.length)return a(U,he),ke&&ki(U,Ie),de;if(he===null){for(;Ie<k.length;Ie++)he=X(U,k[Ie],K),he!==null&&(M=f(he,M,Ie),Be===null?de=he:Be.sibling=he,Be=he);return ke&&ki(U,Ie),de}for(he=o(he);Ie<k.length;Ie++)xe=F(he,U,Ie,k[Ie],K),xe!==null&&(t&&xe.alternate!==null&&he.delete(xe.key===null?Ie:xe.key),M=f(xe,M,Ie),Be===null?de=xe:Be.sibling=xe,Be=xe);return t&&he.forEach(function(ks){return i(U,ks)}),ke&&ki(U,Ie),de}function ge(U,M,k,K){if(k==null)throw Error(r(151));for(var de=null,Be=null,he=M,Ie=M=0,xe=null,qe=k.next();he!==null&&!qe.done;Ie++,qe=k.next()){he.index>Ie?(xe=he,he=null):xe=he.sibling;var ks=B(U,he,qe.value,K);if(ks===null){he===null&&(he=xe);break}t&&he&&ks.alternate===null&&i(U,he),M=f(ks,M,Ie),Be===null?de=ks:Be.sibling=ks,Be=ks,he=xe}if(qe.done)return a(U,he),ke&&ki(U,Ie),de;if(he===null){for(;!qe.done;Ie++,qe=k.next())qe=X(U,qe.value,K),qe!==null&&(M=f(qe,M,Ie),Be===null?de=qe:Be.sibling=qe,Be=qe);return ke&&ki(U,Ie),de}for(he=o(he);!qe.done;Ie++,qe=k.next())qe=F(he,U,Ie,qe.value,K),qe!==null&&(t&&qe.alternate!==null&&he.delete(qe.key===null?Ie:qe.key),M=f(qe,M,Ie),Be===null?de=qe:Be.sibling=qe,Be=qe);return t&&he.forEach(function(lb){return i(U,lb)}),ke&&ki(U,Ie),de}function We(U,M,k,K){if(typeof k=="object"&&k!==null&&k.type===ee&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case q:e:{for(var de=k.key;M!==null;){if(M.key===de){if(de=k.type,de===ee){if(M.tag===7){a(U,M.sibling),K=h(M,k.props.children),K.return=U,U=K;break e}}else if(M.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===b&&Vr(de)===M.type){a(U,M.sibling),K=h(M,k.props),Jo(K,k),K.return=U,U=K;break e}a(U,M);break}else i(U,M);M=M.sibling}k.type===ee?(K=Cr(k.props.children,U.mode,K,k.key),K.return=U,U=K):(K=Bu(k.type,k.key,k.props,null,U.mode,K),Jo(K,k),K.return=U,U=K)}return y(U);case W:e:{for(de=k.key;M!==null;){if(M.key===de)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){a(U,M.sibling),K=h(M,k.children||[]),K.return=U,U=K;break e}else{a(U,M);break}else i(U,M);M=M.sibling}K=ff(k,U.mode,K),K.return=U,U=K}return y(U);case b:return k=Vr(k),We(U,M,k,K)}if(ut(k))return ue(U,M,k,K);if(P(k)){if(de=P(k),typeof de!="function")throw Error(r(150));return k=de.call(k),ge(U,M,k,K)}if(typeof k.then=="function")return We(U,M,Yu(k),K);if(k.$$typeof===ce)return We(U,M,Fu(U,k),K);Xu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,M!==null&&M.tag===6?(a(U,M.sibling),K=h(M,k),K.return=U,U=K):(a(U,M),K=hf(k,U.mode,K),K.return=U,U=K),y(U)):a(U,M)}return function(U,M,k,K){try{Zo=0;var de=We(U,M,k,K);return Ra=null,de}catch(he){if(he===wa||he===Qu)throw he;var Be=yn(29,he,null,U.mode);return Be.lanes=K,Be.return=U,Be}finally{}}}var xr=wg(!0),Rg=wg(!1),Ts=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function As(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ss(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Fe&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=ju(t),ug(t,null,a),i}return zu(t,o,i,a),ju(t)}function Wo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ro(t,a)}}function Rf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Cf=!1;function el(){if(Cf){var t=ba;if(t!==null)throw t}}function tl(t,i,a,o){Cf=!1;var h=t.updateQueue;Ts=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var O=E,j=O.next;O.next=null,y===null?f=j:y.next=j,y=O;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=O))}if(f!==null){var X=h.baseState;y=0,Q=j=O=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(Me&B)===B:(o&B)===B){B!==0&&B===Sa&&(Cf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,ge=E;B=i;var We=a;switch(ge.tag){case 1:if(ue=ge.payload,typeof ue=="function"){X=ue.call(We,X,B);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ge.payload,B=typeof ue=="function"?ue.call(We,X,B):ue,B==null)break e;X=S({},X,B);break e;case 2:Ts=!0}}B=E.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=F,O=X):Q=Q.next=F,y|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(O=X),h.baseState=O,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Is|=y,t.lanes=y,t.memoizedState=X}}function Cg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Ig(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Cg(a[t],i)}var Ca=x(null),$u=x(0);function Ng(t,i){t=Xi,re($u,t),re(Ca,i),Xi=t|i.baseLanes}function If(){re($u,Xi),re(Ca,Ca.current)}function Nf(){Xi=$u.current,$(Ca),$($u)}var _n=x(null),xn=null;function bs(t){var i=t.alternate;re(pt,pt.current&1),re(_n,t),xn===null&&(i===null||Ca.current!==null||i.memoizedState!==null)&&(xn=t)}function Df(t){re(pt,pt.current),re(_n,t),xn===null&&(xn=t)}function Dg(t){t.tag===22?(re(pt,pt.current),re(_n,t),xn===null&&(xn=t)):ws()}function ws(){re(pt,pt.current),re(_n,_n.current)}function vn(t){$(_n),xn===t&&(xn=null),$(pt)}var pt=x(0);function Zu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ud(a)||Ld(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Bi=0,Re=null,Ze=null,wt=null,Ju=!1,Ia=!1,Pr=!1,Wu=0,nl=0,Na=null,JA=0;function ct(){throw Error(r(321))}function Of(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!gn(t[a],i[a]))return!1;return!0}function Vf(t,i,a,o,h,f){return Bi=f,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?dy:Kf,Pr=!1,f=a(o,h),Pr=!1,Ia&&(f=Vg(i,a,o,h)),Og(t),f}function Og(t){G.H=rl;var i=Ze!==null&&Ze.next!==null;if(Bi=0,wt=Ze=Re=null,Ju=!1,nl=0,Na=null,i)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&Hu(t)&&(Rt=!0))}function Vg(t,i,a,o){Re=t;var h=0;do{if(Ia&&(Na=null),nl=0,Ia=!1,25<=h)throw Error(r(301));if(h+=1,wt=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=my,f=i(a,o)}while(Ia);return f}function WA(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?il(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),i}function Mf(){var t=Wu!==0;return Wu=0,t}function xf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Pf(t){if(Ju){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ju=!1}Bi=0,wt=Ze=Re=null,Ia=!1,nl=Wu=0,Na=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Re.memoizedState=wt=t:wt=wt.next=t,wt}function gt(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=wt===null?Re.memoizedState:wt.next;if(i!==null)wt=i,Ze=t;else{if(t===null)throw Re.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},wt===null?Re.memoizedState=wt=t:wt=wt.next=t}return wt}function ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var i=nl;return nl+=1,Na===null&&(Na=[]),t=Ag(Na,t,i),i=Re,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?dy:Kf),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===ce)return Ht(t)}throw Error(r(438,String(t)))}function Uf(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Re.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ec(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=I;return i.index++,a}function qi(t,i){return typeof i=="function"?i(t):i}function nc(t){var i=gt();return Lf(i,Ze,t)}function Lf(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var E=y=null,O=null,j=i,Q=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Me&X)===X:(Bi&X)===X){var B=j.revertLane;if(B===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Sa&&(Q=!0);else if((Bi&B)===B){j=j.next,B===Sa&&(Q=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(E=O=X,y=f):O=O.next=X,Re.lanes|=B,Is|=B;X=j.action,Pr&&a(f,X),f=j.hasEagerState?j.eagerState:a(f,X)}else B={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(E=O=B,y=f):O=O.next=B,Re.lanes|=X,Is|=X;j=j.next}while(j!==null&&j!==i);if(O===null?y=f:O.next=E,!gn(f,t.memoizedState)&&(Rt=!0,Q&&(a=ba,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=O,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function kf(t){var i=gt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);gn(f,i.memoizedState)||(Rt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Mg(t,i,a){var o=Re,h=gt(),f=ke;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!gn((Ze||h).memoizedState,a);if(y&&(h.memoizedState=a,Rt=!0),h=h.queue,Bf(Ug.bind(null,o,h,t),[t]),h.getSnapshot!==i||y||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,Da(9,{destroy:void 0},Pg.bind(null,o,h,a,i),null),et===null)throw Error(r(349));f||(Bi&127)!==0||xg(o,i,a)}return a}function xg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=ec(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Pg(t,i,a,o){i.value=a,i.getSnapshot=o,Lg(i)&&kg(t)}function Ug(t,i,a){return a(function(){Lg(i)&&kg(t)})}function Lg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!gn(t,a)}catch{return!0}}function kg(t){var i=Rr(t,2);i!==null&&hn(i,t,2)}function zf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Pr){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},i}function zg(t,i,a,o){return t.baseState=a,Lf(t,Ze,typeof o=="function"?o:qi)}function eS(t,i,a,o,h){if(rc(t))throw Error(r(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,jg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function jg(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=G.T,y={};G.T=y;try{var E=a(h,o),O=G.S;O!==null&&O(y,E),Bg(t,i,E)}catch(j){jf(t,i,j)}finally{f!==null&&y.types!==null&&(f.types=y.types),G.T=f}}else try{f=a(h,o),Bg(t,i,f)}catch(j){jf(t,i,j)}}function Bg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){qg(t,i,o)},function(o){return jf(t,i,o)}):qg(t,i,a)}function qg(t,i,a){i.status="fulfilled",i.value=a,Hg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,jg(t,a)))}function jf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Hg(i),i=i.next;while(i!==o)}t.action=null}function Hg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Fg(t,i){return i}function Gg(t,i){if(ke){var a=et.formState;if(a!==null){e:{var o=Re;if(ke){if(nt){t:{for(var h=nt,f=Mn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Pn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){nt=Pn(h.nextSibling),o=h.data==="F!";break e}}vs(o)}o=!1}o&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:i},a.queue=o,a=cy.bind(null,Re,o),o.dispatch=a,o=zf(!1),f=Qf.bind(null,Re,!1,o.queue),o=sn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=eS.bind(null,Re,h,f,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Qg(t){var i=gt();return Kg(i,Ze,t)}function Kg(t,i,a){if(i=Lf(t,i,Fg)[0],t=nc(qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=il(i)}catch(y){throw y===wa?Qu:y}else o=i;i=gt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Da(9,{destroy:void 0},tS.bind(null,h,a),null)),[o,f,t]}function tS(t,i){t.action=i}function Yg(t){var i=gt(),a=Ze;if(a!==null)return Kg(i,a,t);gt(),i=i.memoizedState,a=gt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Da(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Re.updateQueue,i===null&&(i=ec(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Xg(){return gt().memoizedState}function ic(t,i,a,o){var h=sn();Re.flags|=t,h.memoizedState=Da(1|i,{destroy:void 0},a,o===void 0?null:o)}function sc(t,i,a,o){var h=gt();o=o===void 0?null:o;var f=h.memoizedState.inst;Ze!==null&&o!==null&&Of(o,Ze.memoizedState.deps)?h.memoizedState=Da(i,f,a,o):(Re.flags|=t,h.memoizedState=Da(1|i,f,a,o))}function $g(t,i){ic(8390656,8,t,i)}function Bf(t,i){sc(2048,8,t,i)}function nS(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=ec(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Zg(t){var i=gt().memoizedState;return nS({ref:i,nextImpl:t}),function(){if((Fe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Jg(t,i){return sc(4,2,t,i)}function Wg(t,i){return sc(4,4,t,i)}function ey(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ty(t,i,a){a=a!=null?a.concat([t]):null,sc(4,4,ey.bind(null,i,t),a)}function qf(){}function ny(t,i){var a=gt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Of(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function iy(t,i){var a=gt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Of(i,o[1]))return o[0];if(o=t(),Pr){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[o,i],o}function Hf(t,i,a){return a===void 0||(Bi&1073741824)!==0&&(Me&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=s_(),Re.lanes|=t,Is|=t,a)}function sy(t,i,a,o){return gn(a,i)?a:Ca.current!==null?(t=Hf(t,a,o),gn(t,i)||(Rt=!0),t):(Bi&42)===0||(Bi&1073741824)!==0&&(Me&261930)===0?(Rt=!0,t.memoizedState=a):(t=s_(),Re.lanes|=t,Is|=t,i)}function ry(t,i,a,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,Qf(t,!1,i,a);try{var O=h(),j=G.S;if(j!==null&&j(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Q=ZA(O,o);sl(t,i,Q,An(t))}else sl(t,i,o,An(t))}catch(X){sl(t,i,{then:function(){},status:"rejected",reason:X},An())}finally{se.p=f,y!==null&&E.types!==null&&(y.types=E.types),G.T=y}}function iS(){}function Ff(t,i,a,o){if(t.tag!==5)throw Error(r(476));var h=ay(t).queue;ry(t,h,i,J,a===null?iS:function(){return oy(t),a(o)})}function ay(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:J},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function oy(t){var i=ay(t);i.next===null&&(i=t.alternate.memoizedState),sl(t,i.next.queue,{},An())}function Gf(){return Ht(Tl)}function ly(){return gt().memoizedState}function uy(){return gt().memoizedState}function sS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=As(a);var o=Ss(i,t,a);o!==null&&(hn(o,i,a),Wo(o,i,a)),i={cache:Ef()},t.payload=i;return}i=i.return}}function rS(t,i,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},rc(t)?hy(i,a):(a=uf(t,i,a,o),a!==null&&(hn(a,t,o),fy(a,i,o)))}function cy(t,i,a){var o=An();sl(t,i,a,o)}function sl(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(t))hy(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var y=i.lastRenderedState,E=f(y,a);if(h.hasEagerState=!0,h.eagerState=E,gn(E,y))return zu(t,i,h,0),et===null&&ku(),!1}catch{}finally{}if(a=uf(t,i,h,o),a!==null)return hn(a,t,o),fy(a,i,o),!0}return!1}function Qf(t,i,a,o){if(o={lane:2,revertLane:bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(i)throw Error(r(479))}else i=uf(t,a,o,2),i!==null&&hn(i,t,2)}function rc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function hy(t,i){Ia=Ju=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function fy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ro(t,a)}}var rl={readContext:Ht,use:tc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};rl.useEffectEvent=ct;var dy={readContext:Ht,use:tc,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:$g,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ic(4194308,4,ey.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ic(4194308,4,t,i)},useInsertionEffect:function(t,i){ic(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var o=t();if(Pr){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=sn();if(a!==void 0){var h=a(i);if(Pr){bn(!0);try{a(i)}finally{bn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=rS.bind(null,Re,t),[o.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=zf(t);var i=t.queue,a=cy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(t,i){var a=sn();return Hf(a,t,i)},useTransition:function(){var t=zf(!1);return t=ry.bind(null,Re,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Re,h=sn();if(ke){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),et===null)throw Error(r(349));(Me&127)!==0||xg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,$g(Ug.bind(null,o,f,t),[t]),o.flags|=2048,Da(9,{destroy:void 0},Pg.bind(null,o,f,a,i),null),a},useId:function(){var t=sn(),i=et.identifierPrefix;if(ke){var a=Ai,o=Ti;a=(o&~(1<<32-dt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=JA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Gf,useFormState:Gg,useActionState:Gg,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Qf.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:Uf,useCacheRefresh:function(){return sn().memoizedState=sS.bind(null,Re)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Fe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Kf={readContext:Ht,use:tc,useCallback:ny,useContext:Ht,useEffect:Bf,useImperativeHandle:ty,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:iy,useReducer:nc,useRef:Xg,useState:function(){return nc(qi)},useDebugValue:qf,useDeferredValue:function(t,i){var a=gt();return sy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=nc(qi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Mg,useId:ly,useHostTransitionStatus:Gf,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,i){var a=gt();return zg(a,Ze,t,i)},useMemoCache:Uf,useCacheRefresh:uy};Kf.useEffectEvent=Zg;var my={readContext:Ht,use:tc,useCallback:ny,useContext:Ht,useEffect:Bf,useImperativeHandle:ty,useInsertionEffect:Jg,useLayoutEffect:Wg,useMemo:iy,useReducer:kf,useRef:Xg,useState:function(){return kf(qi)},useDebugValue:qf,useDeferredValue:function(t,i){var a=gt();return Ze===null?Hf(a,t,i):sy(a,Ze.memoizedState,t,i)},useTransition:function(){var t=kf(qi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:il(t),i]},useSyncExternalStore:Mg,useId:ly,useHostTransitionStatus:Gf,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,i){var a=gt();return Ze!==null?zg(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Uf,useCacheRefresh:uy};my.useEffectEvent=Zg;function Yf(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:S({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=An(),h=As(o);h.payload=i,a!=null&&(h.callback=a),i=Ss(t,h,o),i!==null&&(hn(i,t,o),Wo(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=An(),h=As(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ss(t,h,o),i!==null&&(hn(i,t,o),Wo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),o=As(a);o.tag=2,i!=null&&(o.callback=i),i=Ss(t,o,a),i!==null&&(hn(i,t,a),Wo(i,t,a))}};function py(t,i,a,o,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,y):i.prototype&&i.prototype.isPureReactComponent?!Go(a,o)||!Go(h,f):!0}function gy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Xf.enqueueReplaceState(i,i.state,null)}function Ur(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=S({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function yy(t){Lu(t)}function _y(t){console.error(t)}function vy(t){Lu(t)}function ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Ey(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(t,i,a){return a=As(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(t,i)},a}function Ty(t){return t=As(t),t.tag=3,t}function Ay(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Ey(i,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Ey(i,a,o),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function aS(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Aa(i,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return xn===null?_c():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ku?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Td(t,o,h)),!1;case 22:return a.flags|=65536,o===Ku?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Td(t,o,h)),!1}throw Error(r(435,a.tag))}return Td(t,o,h),_c(),!1}if(ke)return i=_n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==pf&&(t=Error(r(422),{cause:o}),Yo(Dn(t,a)))):(o!==pf&&(i=Error(r(423),{cause:o}),Yo(Dn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Dn(o,a),h=$f(t.stateNode,o,h),Rf(t,h),ht!==4&&(ht=2)),!1;var f=Error(r(520),{cause:o});if(f=Dn(f,a),dl===null?dl=[f]:dl.push(f),ht!==4&&(ht=2),i===null)return!0;o=Dn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=$f(a.stateNode,o,t),Rf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ty(h),Ay(h,t,a,o),Rf(a,h),!1}a=a.return}while(a!==null);return!1}var Zf=Error(r(461)),Rt=!1;function Ft(t,i,a,o){i.child=t===null?Rg(i,null,a,o):xr(i,t.child,a,o)}function Sy(t,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return Dr(i),o=Vf(t,i,a,y,f,h),E=Mf(),t!==null&&!Rt?(xf(t,i,h),Hi(t,i,h)):(ke&&E&&df(i),i.flags|=1,Ft(t,i,o,h),i.child)}function by(t,i,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!cf(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,wy(t,i,f,o,h)):(t=Bu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!rd(t,h)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(y,o)&&t.ref===i.ref)return Hi(t,i,h)}return i.flags|=1,t=Li(f,o),t.ref=i.ref,t.return=i,i.child=t}function wy(t,i,a,o,h){if(t!==null){var f=t.memoizedProps;if(Go(f,o)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=o=f,rd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Hi(t,i,h)}return Jf(t,i,a,o,h)}function Ry(t,i,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Cy(t,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gu(i,f!==null?f.cachePool:null),f!==null?Ng(i,f):If(),Dg(i);else return o=i.lanes=536870912,Cy(t,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Gu(i,f.cachePool),Ng(i,f),ws(),i.memoizedState=null):(t!==null&&Gu(i,null),If(),ws());return Ft(t,i,h,a),i.child}function al(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Cy(t,i,a,o,h){var f=Af();return f=f===null?null:{parent:bt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&Gu(i,null),If(),Dg(i),t!==null&&Aa(t,i,o,!0),i.childLanes=h,null}function oc(t,i){return i=uc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Iy(t,i,a){return xr(i,t.child,null,a),t=oc(i,i.pendingProps),t.flags|=2,vn(i),i.memoizedState=null,t}function oS(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(o.mode==="hidden")return t=oc(i,o),i.lanes=536870912,al(null,t);if(Df(i),(t=nt)?(t=j_(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ys!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=hg(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw vs(i);return i.lanes=536870912,null}return oc(i,o)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(Df(i),h)if(i.flags&256)i.flags&=-257,i=Iy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Rt||Aa(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(o=et,o!==null&&(y=Co(o,a),y!==0&&y!==f.retryLane))throw f.retryLane=y,Rr(t,y),hn(o,t,y),Zf;_c(),i=Iy(t,i,a)}else t=f.treeContext,nt=Pn(y.nextSibling),qt=i,ke=!0,_s=null,Mn=!1,t!==null&&mg(i,t),i=oc(i,o),i.flags|=4096;return i}return t=Li(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function lc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Jf(t,i,a,o,h){return Dr(i),a=Vf(t,i,a,o,void 0,h),o=Mf(),t!==null&&!Rt?(xf(t,i,h),Hi(t,i,h)):(ke&&o&&df(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Ny(t,i,a,o,h,f){return Dr(i),i.updateQueue=null,a=Vg(i,o,a,h),Og(t),o=Mf(),t!==null&&!Rt?(xf(t,i,f),Hi(t,i,f)):(ke&&o&&df(i),i.flags|=1,Ft(t,i,a,f),i.child)}function Dy(t,i,a,o,h){if(Dr(i),i.stateNode===null){var f=_a,y=a.contextType;typeof y=="object"&&y!==null&&(f=Ht(y)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},bf(i),y=a.contextType,f.context=typeof y=="object"&&y!==null?Ht(y):_a,f.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Yf(i,a,y,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Xf.enqueueReplaceState(f,f.state,null),tl(i,o,f,h),el(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var E=i.memoizedProps,O=Ur(a,E);f.props=O;var j=f.context,Q=a.contextType;y=_a,typeof Q=="object"&&Q!==null&&(y=Ht(Q));var X=a.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==y)&&gy(i,f,o,y),Ts=!1;var B=i.memoizedState;f.state=B,tl(i,o,f,h),el(),j=i.memoizedState,E||B!==j||Ts?(typeof X=="function"&&(Yf(i,a,X,o),j=i.memoizedState),(O=Ts||py(i,a,O,o,B,j,y))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=y,o=O):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,wf(t,i),y=i.memoizedProps,Q=Ur(a,y),f.props=Q,X=i.pendingProps,B=f.context,j=a.contextType,O=_a,typeof j=="object"&&j!==null&&(O=Ht(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||B!==O)&&gy(i,f,o,O),Ts=!1,B=i.memoizedState,f.state=B,tl(i,o,f,h),el();var F=i.memoizedState;y!==X||B!==F||Ts||t!==null&&t.dependencies!==null&&Hu(t.dependencies)?(typeof E=="function"&&(Yf(i,a,E,o),F=i.memoizedState),(Q=Ts||py(i,a,Q,o,B,F,O)||t!==null&&t.dependencies!==null&&Hu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,O)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=F),f.props=o,f.state=F,f.context=O,o=Q):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,lc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=xr(i,t.child,null,h),i.child=xr(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=f.state,t=i.child):t=Hi(t,i,h),t}function Oy(t,i,a,o){return Ir(),i.flags|=256,Ft(t,i,a,o),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ed(t){return{baseLanes:t,cachePool:Eg()}}function td(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Tn),t}function Vy(t,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(pt.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(h?bs(i):ws(),(t=nt)?(t=j_(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ys!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=hg(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw vs(i);return Ld(t)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ws(),h=i.mode,E=uc({mode:"hidden",children:E},h),o=Cr(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=ed(a),o.childLanes=td(t,y,a),i.memoizedState=Wf,al(null,o)):(bs(i),nd(i,E))}var O=t.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(f)i.flags&256?(bs(i),i.flags&=-257,i=id(t,i,a)):i.memoizedState!==null?(ws(),i.child=t.child,i.flags|=128,i=null):(ws(),E=o.fallback,h=i.mode,o=uc({mode:"visible",children:o.children},h),E=Cr(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,xr(i,t.child,null,a),o=i.child,o.memoizedState=ed(a),o.childLanes=td(t,y,a),i.memoizedState=Wf,i=al(null,o));else if(bs(i),Ld(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(r(419)),o.stack="",o.digest=y,Yo({value:o,source:null,stack:null}),i=id(t,i,a)}else if(Rt||Aa(t,i,a,!1),y=(a&t.childLanes)!==0,Rt||y){if(y=et,y!==null&&(o=Co(y,a),o!==0&&o!==O.retryLane))throw O.retryLane=o,Rr(t,o),hn(y,t,o),Zf;Ud(E)||_c(),i=id(t,i,a)}else Ud(E)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,nt=Pn(E.nextSibling),qt=i,ke=!0,_s=null,Mn=!1,t!==null&&mg(i,t),i=nd(i,o.children),i.flags|=4096);return i}return h?(ws(),E=o.fallback,h=i.mode,O=t.child,j=O.sibling,o=Li(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,j!==null?E=Li(j,E):(E=Cr(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,al(null,o),o=i.child,E=t.child.memoizedState,E===null?E=ed(a):(h=E.cachePool,h!==null?(O=bt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Eg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=td(t,y,a),i.memoizedState=Wf,al(t.child,o)):(bs(i),a=t.child,t=a.sibling,a=Li(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(y=i.deletions,y===null?(i.deletions=[t],i.flags|=16):y.push(t)),i.child=a,i.memoizedState=null,a)}function nd(t,i){return i=uc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function uc(t,i){return t=yn(22,t,null,i),t.lanes=0,t}function id(t,i,a){return xr(i,t.child,null,a),t=nd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function My(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),_f(t.return,i,a)}function sd(t,i,a,o,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=a,y.tailMode=h,y.treeForkCount=f)}function xy(t,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var y=pt.current,E=(y&2)!==0;if(E?(y=y&1|2,i.flags|=128):y&=1,re(pt,y),Ft(t,i,o,a),o=ke?Ko:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&My(t,a,i);else if(t.tag===19)My(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Zu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),sd(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Zu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}sd(i,!0,a,null,f,o);break;case"together":sd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Hi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Is|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Aa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Li(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Li(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function rd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Hu(t)))}function lS(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Es(i,bt,t.memoizedState.cache),Ir();break;case 27:case 5:lr(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Es(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Df(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(bs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Vy(t,i,a):(bs(i),t=Hi(t,i,a),t!==null?t.sibling:null);bs(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Aa(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return xy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(pt,pt.current),o)break;return null;case 22:return i.lanes=0,Ry(t,i,a,i.pendingProps);case 24:Es(i,bt,t.memoizedState.cache)}return Hi(t,i,a)}function Py(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!rd(t,a)&&(i.flags&128)===0)return Rt=!1,lS(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,ke&&(i.flags&1048576)!==0&&dg(i,Ko,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Vr(i.elementType),i.type=t,typeof t=="function")cf(t)?(o=Ur(t,o),i.tag=1,i=Dy(null,i,t,o,a)):(i.tag=0,i=Jf(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ne){i.tag=11,i=Sy(null,i,t,o,a);break e}else if(h===w){i.tag=14,i=by(null,i,t,o,a);break e}}throw i=Ge(t)||t,Error(r(306,i,""))}}return i;case 0:return Jf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ur(o,i.pendingProps),Dy(t,i,o,h,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,wf(t,i),tl(i,o,null,a);var y=i.memoizedState;if(o=y.cache,Es(i,bt,o),o!==f.cache&&vf(i,[bt],a,!0),el(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Oy(t,i,o,a);break e}else if(o!==h){h=Dn(Error(r(424)),i),Yo(h),i=Oy(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Pn(t.firstChild),qt=i,ke=!0,_s=null,Mn=!0,a=Rg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ir(),o===h){i=Hi(t,i,a);break e}Ft(t,i,o,a)}i=i.child}return i;case 26:return lc(t,i),t===null?(a=Q_(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,t=i.pendingProps,o=wc(Ce.current).createElement(a),o[Tt]=i,o[Ut]=t,Gt(o,a,t),At(o),i.stateNode=o):i.memoizedState=Q_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return lr(i),t===null&&ke&&(o=i.stateNode=H_(i.type,i.pendingProps,Ce.current),qt=i,Mn=!0,h=nt,Ms(i.type)?(kd=h,nt=Pn(o.firstChild)):nt=h),Ft(t,i,i.pendingProps.children,a),lc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((h=o=nt)&&(o=kS(o,i.type,i.pendingProps,Mn),o!==null?(i.stateNode=o,qt=i,nt=Pn(o.firstChild),Mn=!1,h=!0):h=!1),h||vs(i)),lr(i),h=i.type,f=i.pendingProps,y=t!==null?t.memoizedProps:null,o=f.children,Md(h,f)?o=null:y!==null&&Md(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=Vf(t,i,WA,null,null,a),Tl._currentValue=h),lc(t,i),Ft(t,i,o,a),i.child;case 6:return t===null&&ke&&((t=a=nt)&&(a=zS(a,i.pendingProps,Mn),a!==null?(i.stateNode=a,qt=i,nt=null,t=!0):t=!1),t||vs(i)),null;case 13:return Vy(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=xr(i,null,o,a):Ft(t,i,o,a),i.child;case 11:return Sy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Es(i,i.type,o.value),Ft(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Dr(i),h=Ht(h),o=o(h),i.flags|=1,Ft(t,i,o,a),i.child;case 14:return by(t,i,i.type,i.pendingProps,a);case 15:return wy(t,i,i.type,i.pendingProps,a);case 19:return xy(t,i,a);case 31:return oS(t,i,a);case 22:return Ry(t,i,a,i.pendingProps);case 24:return Dr(i),o=Ht(bt),t===null?(h=Af(),h===null&&(h=et,f=Ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},bf(i),Es(i,bt,h)):((t.lanes&a)!==0&&(wf(t,i),tl(i,null,null,a),el()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Es(i,bt,o)):(o=f.cache,Es(i,bt,o),o!==h.cache&&vf(i,[bt],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Fi(t){t.flags|=4}function ad(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(l_())t.flags|=8192;else throw Mr=Ku,Sf}else t.flags&=-16777217}function Uy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Z_(i))if(l_())t.flags|=8192;else throw Mr=Ku,Sf}function cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?gu():536870912,t.lanes|=i,xa|=i)}function ol(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function uS(t,i,a){var o=i.pendingProps;switch(mf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ji(bt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ta(i)?Fi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,gf())),it(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(Fi(i),f!==null?(it(i),Uy(i,f)):(it(i),ad(i,h,null,o,a))):f?f!==t.memoizedState?(Fi(i),it(i),Uy(i,f)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Fi(i),it(i),ad(i,h,t,o,a)),null;case 27:if(Wr(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Fi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return it(i),null}t=le.current,Ta(i)?pg(i):(t=H_(h,o,a),i.stateNode=t,Fi(i))}return it(i),null;case 5:if(Wr(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Fi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return it(i),null}if(f=le.current,Ta(i))pg(i);else{var y=wc(Ce.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(h,{is:o.is}):y.createElement(h)}}f[Tt]=i,f[Ut]=o;e:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break e;for(;y.sibling===null;){if(y.return===null||y.return===i)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=f;e:switch(Gt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Fi(i)}}return it(i),ad(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Fi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ce.current,Ta(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=qt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||V_(t.nodeValue,a)),t||vs(i,!0)}else t=wc(t).createTextNode(o),t[Tt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ta(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Tt]=i}else Ir(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(vn(i),i):(vn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return it(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ta(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Tt]=i}else Ir(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(vn(i),i):(vn(i),null)}return vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),it(i),null);case 4:return rt(),t===null&&Id(i.stateNode.containerInfo),it(i),null;case 10:return ji(i.type),it(i),null;case 19:if($(pt),o=i.memoizedState,o===null)return it(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)ol(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Zu(t),f!==null){for(i.flags|=128,ol(o,!1),t=f.updateQueue,i.updateQueue=t,cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)cg(a,t),a=a.sibling;return re(pt,pt.current&1|2),ke&&ki(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&tn()>pc&&(i.flags|=128,h=!0,ol(o,!1),i.lanes=4194304)}else{if(!h)if(t=Zu(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,cc(i,t),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!ke)return it(i),null}else 2*tn()-o.renderingStartTime>pc&&a!==536870912&&(i.flags|=128,h=!0,ol(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tn(),t.sibling=null,a=pt.current,re(pt,h?a&1|2:a&1),ke&&ki(i,o.treeForkCount),t):(it(i),null);case 22:case 23:return vn(i),Nf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&$(Or),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ji(bt),it(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function cS(t,i){switch(mf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(bt),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Wr(i),null;case 31:if(i.memoizedState!==null){if(vn(i),i.alternate===null)throw Error(r(340));Ir()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(vn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ir()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(pt),null;case 4:return rt(),null;case 10:return ji(i.type),null;case 22:case 23:return vn(i),Nf(),t!==null&&$(Or),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(bt),null;case 25:return null;default:return null}}function Ly(t,i){switch(mf(i),i.tag){case 3:ji(bt),rt();break;case 26:case 27:case 5:Wr(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&vn(i);break;case 13:vn(i);break;case 19:$(pt);break;case 10:ji(i.type);break;case 22:case 23:vn(i),Nf(),t!==null&&$(Or);break;case 24:ji(bt)}}function ll(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,y=a.inst;o=f(),y.destroy=o}a=a.next}while(a!==h)}}catch(E){Xe(i,i.return,E)}}function Rs(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=i;var O=a,j=E;try{j()}catch(Q){Xe(h,O,Q)}}}o=o.next}while(o!==f)}}catch(Q){Xe(i,i.return,Q)}}function ky(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ig(i,a)}catch(o){Xe(t,t.return,o)}}}function zy(t,i,a){a.props=Ur(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Xe(t,i,o)}}function ul(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Xe(t,i,h)}}function Si(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function jy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function od(t,i,a){try{var o=t.stateNode;VS(o,t.type,a,i),o[Ut]=i}catch(h){Xe(t,t.return,h)}}function By(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ms(t.type)||t.tag===4}function ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||By(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ms(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Fn));else if(o!==4&&(o===27&&Ms(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(ud(t,i,a),t=t.sibling;t!==null;)ud(t,i,a),t=t.sibling}function hc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Ms(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(hc(t,i,a),t=t.sibling;t!==null;)hc(t,i,a),t=t.sibling}function qy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,o,a),i[Tt]=t,i[Ut]=a}catch(f){Xe(t,t.return,f)}}var Gi=!1,Ct=!1,cd=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,kt=null;function hS(t,i){if(t=t.containerInfo,Od=Vc,t=tg(t),nf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,E=-1,O=-1,j=0,Q=0,X=t,B=null;t:for(;;){for(var F;X!==a||h!==0&&X.nodeType!==3||(E=y+h),X!==f||o!==0&&X.nodeType!==3||(O=y+o),X.nodeType===3&&(y+=X.nodeValue.length),(F=X.firstChild)!==null;)B=X,X=F;for(;;){if(X===t)break t;if(B===a&&++j===h&&(E=y),B===f&&++Q===o&&(O=y),(F=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=F}a=E===-1||O===-1?null:{start:E,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vd={focusedElem:t,selectionRange:a},Vc=!1,kt=i;kt!==null;)if(i=kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,kt=t;else for(;kt!==null;){switch(i=kt,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ue=Ur(a.type,h);t=o.getSnapshotBeforeUpdate(ue,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Xe(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Pd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,kt=t;break}kt=i.return}}function Fy(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(t,a),o&4&&ll(5,a);break;case 1:if(Ki(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(y){Xe(a,a.return,y)}else{var h=Ur(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xe(a,a.return,y)}}o&64&&ky(a),o&512&&ul(a,a.return);break;case 3:if(Ki(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ig(t,i)}catch(y){Xe(a,a.return,y)}}break;case 27:i===null&&o&4&&qy(a);case 26:case 5:Ki(t,a),i===null&&o&4&&jy(a),o&512&&ul(a,a.return);break;case 12:Ki(t,a);break;case 31:Ki(t,a),o&4&&Ky(t,a);break;case 13:Ki(t,a),o&4&&Yy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ES.bind(null,a),jS(t,a))));break;case 22:if(o=a.memoizedState!==null||Gi,!o){i=i!==null&&i.memoizedState!==null||Ct,h=Gi;var f=Ct;Gi=o,(Ct=i)&&!f?Yi(t,a,(a.subtreeFlags&8772)!==0):Ki(t,a),Gi=h,Ct=f}break;case 30:break;default:Ki(t,a)}}function Gy(t){var i=t.alternate;i!==null&&(t.alternate=null,Gy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&sa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,on=!1;function Qi(t,i,a){for(a=a.child;a!==null;)Qy(t,i,a),a=a.sibling}function Qy(t,i,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Ct||Si(a,i),Qi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Si(a,i);var o=ot,h=on;Ms(a.type)&&(ot=a.stateNode,on=!1),Qi(t,i,a),_l(a.stateNode),ot=o,on=h;break;case 5:Ct||Si(a,i);case 6:if(o=ot,h=on,ot=null,Qi(t,i,a),ot=o,on=h,ot!==null)if(on)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(f){Xe(a,i,f)}else try{ot.removeChild(a.stateNode)}catch(f){Xe(a,i,f)}break;case 18:ot!==null&&(on?(t=ot,k_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),qa(t)):k_(ot,a.stateNode));break;case 4:o=ot,h=on,ot=a.stateNode.containerInfo,on=!0,Qi(t,i,a),ot=o,on=h;break;case 0:case 11:case 14:case 15:Rs(2,a,i),Ct||Rs(4,a,i),Qi(t,i,a);break;case 1:Ct||(Si(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&zy(a,i,o)),Qi(t,i,a);break;case 21:Qi(t,i,a);break;case 22:Ct=(o=Ct)||a.memoizedState!==null,Qi(t,i,a),Ct=o;break;default:Qi(t,i,a)}}function Ky(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{qa(t)}catch(a){Xe(i,i.return,a)}}}function Yy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qa(t)}catch(a){Xe(i,i.return,a)}}function fS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Hy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Hy),i;default:throw Error(r(435,t.tag))}}function fc(t,i){var a=fS(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=TS.bind(null,t,o);o.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,y=i,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Ms(E.type)){ot=E.stateNode,on=!1;break e}break;case 5:ot=E.stateNode,on=!1;break e;case 3:case 4:ot=E.stateNode.containerInfo,on=!0;break e}E=E.return}if(ot===null)throw Error(r(160));Qy(f,y,h),ot=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Xy(i,t),i=i.sibling}var $n=null;function Xy(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),un(t),o&4&&(Rs(3,t,t.return),ll(3,t),Rs(5,t,t.return));break;case 1:ln(i,t),un(t),o&512&&(Ct||a===null||Si(a,a.return)),o&64&&Gi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=$n;if(ln(i,t),un(t),o&512&&(Ct||a===null||Si(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[Tt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,o,a),f[Tt]=t,At(f),o=f;break e;case"link":var y=X_("link","href",h).get(o+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(o),Gt(f,o,a),h.head.appendChild(f);break;case"meta":if(y=X_("meta","content",h).get(o+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break t}}f=h.createElement(o),Gt(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Tt]=t,At(f),o=f}t.stateNode=o}else $_(h,t.type,t.stateNode);else t.stateNode=Y_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?$_(h,t.type,t.stateNode):Y_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&od(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),un(t),o&512&&(Ct||a===null||Si(a,a.return)),a!==null&&o&4&&od(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),un(t),o&512&&(Ct||a===null||Si(a,a.return)),t.flags&32){h=t.stateNode;try{an(h,"")}catch(ue){Xe(t,t.return,ue)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,od(t,h,a!==null?a.memoizedProps:h)),o&1024&&(cd=!0);break;case 6:if(ln(i,t),un(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ue){Xe(t,t.return,ue)}}break;case 3:if(Ic=null,h=$n,$n=Rc(i.containerInfo),ln(i,t),$n=h,un(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{qa(i.containerInfo)}catch(ue){Xe(t,t.return,ue)}cd&&(cd=!1,$y(t));break;case 4:o=$n,$n=Rc(t.stateNode.containerInfo),ln(i,t),un(t),$n=o;break;case 12:ln(i,t),un(t);break;case 31:ln(i,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 13:ln(i,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(mc=tn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,j=Gi,Q=Ct;if(Gi=j||h,Ct=Q||O,ln(i,t),Ct=Q,Gi=j,un(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||Gi||Ct||Lr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(f=O.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=O.stateNode;var X=O.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ue){Xe(O,O.return,ue)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(ue){Xe(O,O.return,ue)}}}else if(i.tag===18){if(a===null){O=i;try{var F=O.stateNode;h?z_(F,!0):z_(O.stateNode,!1)}catch(ue){Xe(O,O.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,fc(t,a))));break;case 19:ln(i,t),un(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,fc(t,o)));break;case 30:break;case 21:break;default:ln(i,t),un(t)}}function un(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(By(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=ld(t);hc(t,f,h);break;case 5:var y=a.stateNode;a.flags&32&&(an(y,""),a.flags&=-33);var E=ld(t);hc(t,E,y);break;case 3:case 4:var O=a.stateNode.containerInfo,j=ld(t);ud(t,j,O);break;default:throw Error(r(161))}}catch(Q){Xe(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function $y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;$y(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ki(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fy(t,i.alternate,i),i=i.sibling}function Lr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Rs(4,i,i.return),Lr(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&zy(i,i.return,a),Lr(i);break;case 27:_l(i.stateNode);case 26:case 5:Si(i,i.return),Lr(i);break;case 22:i.memoizedState===null&&Lr(i);break;case 30:Lr(i);break;default:Lr(i)}t=t.sibling}}function Yi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,y=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,a),ll(4,f);break;case 1:if(Yi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Xe(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)Cg(O[h],E)}catch(j){Xe(o,o.return,j)}}a&&y&64&&ky(f),ul(f,f.return);break;case 27:qy(f);case 26:case 5:Yi(h,f,a),a&&o===null&&y&4&&jy(f),ul(f,f.return);break;case 12:Yi(h,f,a);break;case 31:Yi(h,f,a),a&&y&4&&Ky(h,f);break;case 13:Yi(h,f,a),a&&y&4&&Yy(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,a),ul(f,f.return);break;case 30:break;default:Yi(h,f,a)}i=i.sibling}}function hd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Xo(a))}function fd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t))}function Zn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Zy(t,i,a,o),i=i.sibling}function Zy(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,o),h&2048&&ll(9,i);break;case 1:Zn(t,i,a,o);break;case 3:Zn(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){Zn(t,i,a,o),t=i.stateNode;try{var f=i.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Xe(i,i.return,O)}}else Zn(t,i,a,o);break;case 31:Zn(t,i,a,o);break;case 13:Zn(t,i,a,o);break;case 23:break;case 22:f=i.stateNode,y=i.alternate,i.memoizedState!==null?f._visibility&2?Zn(t,i,a,o):cl(t,i):f._visibility&2?Zn(t,i,a,o):(f._visibility|=2,Oa(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&hd(y,i);break;case 24:Zn(t,i,a,o),h&2048&&fd(i.alternate,i);break;default:Zn(t,i,a,o)}}function Oa(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,y=i,E=a,O=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:Oa(f,y,E,O,h),ll(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Oa(f,y,E,O,h):cl(f,y):(Q._visibility|=2,Oa(f,y,E,O,h)),h&&j&2048&&hd(y.alternate,y);break;case 24:Oa(f,y,E,O,h),h&&j&2048&&fd(y.alternate,y);break;default:Oa(f,y,E,O,h)}i=i.sibling}}function cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:cl(a,o),h&2048&&hd(o.alternate,o);break;case 24:cl(a,o),h&2048&&fd(o.alternate,o);break;default:cl(a,o)}i=i.sibling}}var hl=8192;function Va(t,i,a){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Jy(t,i,a),t=t.sibling}function Jy(t,i,a){switch(t.tag){case 26:Va(t,i,a),t.flags&hl&&t.memoizedState!==null&&JS(a,$n,t.memoizedState,t.memoizedProps);break;case 5:Va(t,i,a);break;case 3:case 4:var o=$n;$n=Rc(t.stateNode.containerInfo),Va(t,i,a),$n=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,Va(t,i,a),hl=o):Va(t,i,a));break;default:Va(t,i,a)}}function Wy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];kt=o,t_(o,t)}Wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)e_(t),t=t.sibling}function e_(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Rs(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,dc(t)):fl(t);break;default:fl(t)}}function dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];kt=o,t_(o,t)}Wy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Rs(8,i,i.return),dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,dc(i));break;default:dc(i)}t=t.sibling}}function t_(t,i){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:Rs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,kt=o;else e:for(a=t;kt!==null;){o=kt;var h=o.sibling,f=o.return;if(Gy(o),o===a){kt=null;break e}if(h!==null){h.return=f,kt=h;break e}kt=f}}}var dS={getCacheForType:function(t){var i=Ht(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(bt).controller.signal}},mS=typeof WeakMap=="function"?WeakMap:Map,Fe=0,et=null,De=null,Me=0,Ye=0,En=null,Cs=!1,Ma=!1,dd=!1,Xi=0,ht=0,Is=0,kr=0,md=0,Tn=0,xa=0,dl=null,cn=null,pd=!1,mc=0,n_=0,pc=1/0,gc=null,Ns=null,Mt=0,Ds=null,Pa=null,$i=0,gd=0,yd=null,i_=null,ml=0,_d=null;function An(){return(Fe&2)!==0&&Me!==0?Me&-Me:G.T!==null?bd():yu()}function s_(){if(Tn===0)if((Me&536870912)===0||ke){var t=hr;hr<<=1,(hr&3932160)===0&&(hr=262144),Tn=t}else Tn=536870912;return t=_n.current,t!==null&&(t.flags|=32),Tn}function hn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ua(t,0),Os(t,Me,Tn,!1)),fr(t,a),((Fe&2)===0||t!==et)&&(t===et&&((Fe&2)===0&&(kr|=a),ht===4&&Os(t,Me,Tn,!1)),bi(t))}function r_(t,i,a){if((Fe&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Bn(t,i),h=o?yS(t,i):Ed(t,i,!0),f=o;do{if(h===0){Ma&&!o&&Os(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!pS(a)){h=Ed(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;e:{var E=t;h=dl;var O=E.current.memoizedState.isDehydrated;if(O&&(Ua(E,y).flags|=256),y=Ed(E,y,!1),y!==2){if(dd&&!O){E.errorRecoveryDisabledLanes|=f,kr|=f,h=4;break e}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ua(t,0),Os(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Os(o,i,Tn,!Cs);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=mc+300-tn(),10<h)){if(Os(o,i,Tn,!Cs),ai(o,0,!0)!==0)break e;$i=i,o.timeoutHandle=U_(a_.bind(null,o,a,cn,gc,pd,i,Tn,kr,xa,Cs,f,"Throttled",-0,0),h);break e}a_(o,a,cn,gc,pd,i,Tn,kr,xa,Cs,f,null,-0,0)}}break}while(!0);bi(t)}function a_(t,i,a,o,h,f,y,E,O,j,Q,X,B,F){if(t.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Jy(i,f,X);var ue=(f&62914560)===f?mc-tn():(f&4194048)===f?n_-tn():0;if(ue=WS(X,ue),ue!==null){$i=f,t.cancelPendingCommit=ue(m_.bind(null,t,i,f,a,o,h,y,E,O,Q,X,null,B,F)),Os(t,f,y,!j);return}}m_(t,i,f,a,o,h,y,E,O)}function pS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Os(t,i,a,o){i&=~md,i&=~kr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-dt(h),y=1<<f;o[f]=-1,h&=~y}a!==0&&dr(t,a,i)}function yc(){return(Fe&6)===0?(pl(0),!1):!0}function vd(){if(De!==null){if(Ye===0)var t=De.return;else t=De,zi=Nr=null,Pf(t),Ra=null,Zo=0,t=De;for(;t!==null;)Ly(t.alternate,t),t=t.return;De=null}}function Ua(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,PS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),$i=0,vd(),et=t,De=a=Li(t.current,null),Me=i,Ye=0,En=null,Cs=!1,Ma=Bn(t,i),dd=!1,xa=Tn=md=kr=Is=ht=0,cn=dl=null,pd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-dt(o),f=1<<h;i|=t[h],o&=~f}return Xi=i,ku(),a}function o_(t,i){Re=null,G.H=rl,i===wa||i===Qu?(i=Sg(),Ye=3):i===Sf?(i=Sg(),Ye=4):Ye=i===Zf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,De===null&&(ht=1,ac(t,Dn(i,t.current)))}function l_(){var t=_n.current;return t===null?!0:(Me&4194048)===Me?xn===null:(Me&62914560)===Me||(Me&536870912)!==0?t===xn:!1}function u_(){var t=G.H;return G.H=rl,t===null?rl:t}function c_(){var t=G.A;return G.A=dS,t}function _c(){ht=4,Cs||(Me&4194048)!==Me&&_n.current!==null||(Ma=!0),(Is&134217727)===0&&(kr&134217727)===0||et===null||Os(et,Me,Tn,!1)}function Ed(t,i,a){var o=Fe;Fe|=2;var h=u_(),f=c_();(et!==t||Me!==i)&&(gc=null,Ua(t,i)),i=!1;var y=ht;e:do try{if(Ye!==0&&De!==null){var E=De,O=En;switch(Ye){case 8:vd(),y=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(i=!0);var j=Ye;if(Ye=0,En=null,La(t,E,O,j),a&&Ma){y=0;break e}break;default:j=Ye,Ye=0,En=null,La(t,E,O,j)}}gS(),y=ht;break}catch(Q){o_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,zi=Nr=null,Fe=o,G.H=h,G.A=f,De===null&&(et=null,Me=0,ku()),y}function gS(){for(;De!==null;)h_(De)}function yS(t,i){var a=Fe;Fe|=2;var o=u_(),h=c_();et!==t||Me!==i?(gc=null,pc=tn()+500,Ua(t,i)):Ma=Bn(t,i);e:do try{if(Ye!==0&&De!==null){i=De;var f=En;t:switch(Ye){case 1:Ye=0,En=null,La(t,i,f,1);break;case 2:case 9:if(Tg(f)){Ye=0,En=null,f_(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),bi(t)},f.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Tg(f)?(Ye=0,En=null,f_(i)):(Ye=0,En=null,La(t,i,f,7));break;case 5:var y=null;switch(De.tag){case 26:y=De.memoizedState;case 5:case 27:var E=De;if(y?Z_(y):E.stateNode.complete){Ye=0,En=null;var O=E.sibling;if(O!==null)De=O;else{var j=E.return;j!==null?(De=j,vc(j)):De=null}break t}}Ye=0,En=null,La(t,i,f,5);break;case 6:Ye=0,En=null,La(t,i,f,6);break;case 8:vd(),ht=6;break e;default:throw Error(r(462))}}_S();break}catch(Q){o_(t,Q)}while(!0);return zi=Nr=null,G.H=o,G.A=h,Fe=a,De!==null?0:(et=null,Me=0,ku(),ht)}function _S(){for(;De!==null&&!Xh();)h_(De)}function h_(t){var i=Py(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,i===null?vc(t):De=i}function f_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ny(a,i,i.pendingProps,i.type,void 0,Me);break;case 11:i=Ny(a,i,i.pendingProps,i.type.render,i.ref,Me);break;case 5:Pf(i);default:Ly(a,i),i=De=cg(i,Xi),i=Py(a,i,Xi)}t.memoizedProps=t.pendingProps,i===null?vc(t):De=i}function La(t,i,a,o){zi=Nr=null,Pf(i),Ra=null,Zo=0;var h=i.return;try{if(aS(t,h,i,a,Me)){ht=1,ac(t,Dn(a,t.current)),De=null;return}}catch(f){if(h!==null)throw De=h,f;ht=1,ac(t,Dn(a,t.current)),De=null;return}i.flags&32768?(ke||o===1?t=!0:Ma||(Me&536870912)!==0?t=!1:(Cs=t=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),d_(i,t)):vc(i)}function vc(t){var i=t;do{if((i.flags&32768)!==0){d_(i,Cs);return}t=i.return;var a=uS(i.alternate,i,Xi);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function d_(t,i){do{var a=cS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function m_(t,i,a,o,h,f,y,E,O){t.cancelPendingCommit=null;do Ec();while(Mt!==0);if((Fe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=lf,Jh(t,a,f,y,E,O),t===et&&(De=et=null,Me=0),Pa=i,Ds=t,$i=a,gd=f,yd=h,i_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,AS(os,function(){return v_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=se.p,se.p=2,y=Fe,Fe|=4;try{hS(t,i,a)}finally{Fe=y,se.p=h,G.T=o}}Mt=1,p_(),g_(),y_()}}function p_(){if(Mt===1){Mt=0;var t=Ds,i=Pa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=se.p;se.p=2;var h=Fe;Fe|=4;try{Xy(i,t);var f=Vd,y=tg(t.containerInfo),E=f.focusedElem,O=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&eg(E.ownerDocument.documentElement,E)){if(O!==null&&nf(E)){var j=O.start,Q=O.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var F=B.getSelection(),ue=E.textContent.length,ge=Math.min(O.start,ue),We=O.end===void 0?ge:Math.min(O.end,ue);!F.extend&&ge>We&&(y=We,We=ge,ge=y);var U=Wp(E,ge),M=Wp(E,We);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var k=X.createRange();k.setStart(U.node,U.offset),F.removeAllRanges(),ge>We?(F.addRange(k),F.extend(M.node,M.offset)):(k.setEnd(M.node,M.offset),F.addRange(k))}}}}for(X=[],F=E;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Vc=!!Od,Vd=Od=null}finally{Fe=h,se.p=o,G.T=a}}t.current=i,Mt=2}}function g_(){if(Mt===2){Mt=0;var t=Ds,i=Pa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=se.p;se.p=2;var h=Fe;Fe|=4;try{Fy(t,i.alternate,i)}finally{Fe=h,se.p=o,G.T=a}}Mt=3}}function y_(){if(Mt===4||Mt===3){Mt=0,cu();var t=Ds,i=Pa,a=$i,o=i_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Pa=Ds=null,__(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ns=null),Mi(a),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(jn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=se.p,se.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<o.length;y++){var E=o[y];f(E.value,{componentStack:E.stack})}}finally{G.T=i,se.p=h}}($i&3)!==0&&Ec(),bi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===_d?ml++:(ml=0,_d=t):ml=0,pl(0)}}function __(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Xo(i)))}function Ec(){return p_(),g_(),y_(),v_()}function v_(){if(Mt!==5)return!1;var t=Ds,i=gd;gd=0;var a=Mi($i),o=G.T,h=se.p;try{se.p=32>a?32:a,G.T=null,a=yd,yd=null;var f=Ds,y=$i;if(Mt=0,Pa=Ds=null,$i=0,(Fe&6)!==0)throw Error(r(331));var E=Fe;if(Fe|=4,e_(f.current),Zy(f,f.current,y,a),Fe=E,pl(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{se.p=h,G.T=o,__(t,i)}}function E_(t,i,a){i=Dn(a,i),i=$f(t.stateNode,i,2),t=Ss(t,i,2),t!==null&&(fr(t,2),bi(t))}function Xe(t,i,a){if(t.tag===3)E_(t,t,a);else for(;i!==null;){if(i.tag===3){E_(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ns===null||!Ns.has(o))){t=Dn(a,t),a=Ty(2),o=Ss(i,a,2),o!==null&&(Ay(a,o,i,t),fr(o,2),bi(o));break}}i=i.return}}function Td(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new mS;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(dd=!0,h.add(a),t=vS.bind(null,t,i,a),i.then(t,t))}function vS(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(Me&a)===a&&(ht===4||ht===3&&(Me&62914560)===Me&&300>tn()-mc?(Fe&2)===0&&Ua(t,0):md|=a,xa===Me&&(xa=0)),bi(t)}function T_(t,i){i===0&&(i=gu()),t=Rr(t,i),t!==null&&(fr(t,i),bi(t))}function ES(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),T_(t,a)}function TS(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),T_(t,a)}function AS(t,i){return Vt(t,i)}var Tc=null,ka=null,Ad=!1,Ac=!1,Sd=!1,Vs=0;function bi(t){t!==ka&&t.next===null&&(ka===null?Tc=ka=t:ka=ka.next=t),Ac=!0,Ad||(Ad=!0,bS())}function pl(t,i){if(!Sd&&Ac){Sd=!0;do for(var a=!1,o=Tc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-dt(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,w_(o,f))}else f=Me,f=ai(o,o===et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(a=!0,w_(o,f));o=o.next}while(a);Sd=!1}}function SS(){A_()}function A_(){Ac=Ad=!1;var t=0;Vs!==0&&xS()&&(t=Vs);for(var i=tn(),a=null,o=Tc;o!==null;){var h=o.next,f=S_(o,i);f===0?(o.next=null,a===null?Tc=h:a.next=h,h===null&&(ka=a)):(a=o,(t!==0||(f&3)!==0)&&(Ac=!0)),o=h}Mt!==0&&Mt!==5||pl(t),Vs!==0&&(Vs=0)}function S_(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-dt(f),E=1<<y,O=h[y];O===-1?((E&a)===0||(E&o)!==0)&&(h[y]=Zh(E,i)):O<=i&&(t.expiredLanes|=E),f&=~E}if(i=et,a=Me,a=ai(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&as(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Bn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&as(o),Mi(a)){case 2:case 8:a=wo;break;case 32:a=os;break;case 268435456:a=hu;break;default:a=os}return o=b_.bind(null,t),a=Vt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&as(o),t.callbackPriority=2,t.callbackNode=null,2}function b_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ec()&&t.callbackNode!==a)return null;var o=Me;return o=ai(t,t===et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(r_(t,o,i),S_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?b_.bind(null,t):null)}function w_(t,i){if(Ec())return null;r_(t,i,!0)}function bS(){US(function(){(Fe&6)!==0?Vt(bo,SS):A_()})}function bd(){if(Vs===0){var t=Sa;t===0&&(t=si,si<<=1,(si&261888)===0&&(si=256)),Vs=t}return Vs}function R_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:la(""+t)}function C_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function wS(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=R_((h[Ut]||null).action),y=o.submitter;y&&(i=(i=y[Ut]||null)?R_(i.formAction):y.getAttribute("formAction"),i!==null&&(f=i,y=null));var E=new yi("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vs!==0){var O=y?C_(h,y):new FormData(h);Ff(a,{pending:!0,data:O,method:h.method,action:f},null,O)}}else typeof f=="function"&&(E.preventDefault(),O=y?C_(h,y):new FormData(h),Ff(a,{pending:!0,data:O,method:h.method,action:f},f,O))},currentTarget:h}]})}}for(var wd=0;wd<of.length;wd++){var Rd=of[wd],RS=Rd.toLowerCase(),CS=Rd[0].toUpperCase()+Rd.slice(1);Xn(RS,"on"+CS)}Xn(sg,"onAnimationEnd"),Xn(rg,"onAnimationIteration"),Xn(ag,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(HA,"onTransitionRun"),Xn(FA,"onTransitionStart"),Xn(GA,"onTransitionCancel"),Xn(og,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function I_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var y=o.length-1;0<=y;y--){var E=o[y],O=E.instance,j=E.currentTarget;if(E=E.listener,O!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Lu(Q)}h.currentTarget=null,f=O}else for(y=0;y<o.length;y++){if(E=o[y],O=E.instance,j=E.currentTarget,E=E.listener,O!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Lu(Q)}h.currentTarget=null,f=O}}}}function Oe(t,i){var a=i[ia];a===void 0&&(a=i[ia]=new Set);var o=t+"__bubble";a.has(o)||(N_(i,t,2,!1),a.add(o))}function Cd(t,i,a){var o=0;i&&(o|=4),N_(a,t,o,i)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Id(t){if(!t[Sc]){t[Sc]=!0,Io.forEach(function(a){a!=="selectionchange"&&(IS.has(a)||Cd(a,!1,t),Cd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Sc]||(i[Sc]=!0,Cd("selectionchange",!1,i))}}function N_(t,i,a,o){switch(sv(i)){case 2:var h=nb;break;case 8:h=ib;break;default:h=Hd}a=h.bind(null,i,a,t),h=void 0,!_r||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Nd(t,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=o.return;y!==null;){var O=y.tag;if((O===3||O===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=ci(E),y===null)return;if(O=y.tag,O===5||O===6||O===26||O===27){o=f=y;continue e}E=E.parentNode}}o=o.return}ds(function(){var j=f,Q=Rn(a),X=[];e:{var B=lg.get(t);if(B!==void 0){var F=yi,ue=t;switch(t){case"keypress":if(Er(a)===0)break e;case"keydown":case"keyup":F=xu;break;case"focusin":ue="focus",F=Ar;break;case"focusout":ue="blur",F=Ar;break;case"beforeblur":case"afterblur":F=Ar;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case sg:case rg:case ag:F=Cu;break;case og:F=A;break;case"scroll":case"scrollend":F=jo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ui;break;case"toggle":case"beforetoggle":F=we}var ge=(i&4)!==0,We=!ge&&(t==="scroll"||t==="scrollend"),U=ge?B!==null?B+"Capture":null:B;ge=[];for(var M=j,k;M!==null;){var K=M;if(k=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||k===null||U===null||(K=Gn(M,U),K!=null&&ge.push(yl(M,K,k))),We)break;M=M.return}0<ge.length&&(B=new F(B,ue,null,a,Q),X.push({event:B,listeners:ge}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&a!==Lo&&(ue=a.relatedTarget||a.fromElement)&&(ci(ue)||ue[li]))break e;if((F||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ue=a.relatedTarget||a.toElement,F=j,ue=ue?ci(ue):null,ue!==null&&(We=c(ue),ge=ue.tag,ue!==We||ge!==5&&ge!==27&&ge!==6)&&(ue=null)):(F=null,ue=j),F!==ue)){if(ge=Bo,K="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Ui,K="onPointerLeave",U="onPointerEnter",M="pointer"),We=F==null?B:mn(F),k=ue==null?B:mn(ue),B=new ge(K,M+"leave",F,a,Q),B.target=We,B.relatedTarget=k,K=null,ci(Q)===j&&(ge=new ge(U,M+"enter",ue,a,Q),ge.target=k,ge.relatedTarget=We,K=ge),We=K,F&&ue)t:{for(ge=NS,U=F,M=ue,k=0,K=U;K;K=ge(K))k++;K=0;for(var de=M;de;de=ge(de))K++;for(;0<k-K;)U=ge(U),k--;for(;0<K-k;)M=ge(M),K--;for(;k--;){if(U===M||M!==null&&U===M.alternate){ge=U;break t}U=ge(U),M=ge(M)}ge=null}else ge=null;F!==null&&D_(X,B,F,ge,!1),ue!==null&&We!==null&&D_(X,We,ue,ge,!0)}}e:{if(B=j?mn(j):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Be=Kp;else if(Gp(B))if(Yp)Be=jA;else{Be=kA;var he=LA}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&oa(j.elementType)&&(Be=Kp):Be=zA;if(Be&&(Be=Be(t,j))){Qp(X,Be,a,Q);break e}he&&he(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&xo(B,"number",B.value)}switch(he=j?mn(j):window,t){case"focusin":(Gp(he)||he.contentEditable==="true")&&(pa=he,sf=j,Qo=null);break;case"focusout":Qo=sf=pa=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,ng(X,a,Q);break;case"selectionchange":if(qA)break;case"keydown":case"keyup":ng(X,a,Q)}var Ie;if(He)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else ma?Sr(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(Ei&&a.locale!=="ko"&&(ma||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&ma&&(Ie=zo()):(gi=Q,ko="value"in gi?gi.value:gi.textContent,ma=!0)),he=bc(j,xe),0<he.length&&(xe=new vi(xe,t,null,a,Q),X.push({event:xe,listeners:he}),Ie?xe.data=Ie:(Ie=da(a),Ie!==null&&(xe.data=Ie)))),(Ie=In?MA(t,a):xA(t,a))&&(xe=bc(j,"onBeforeInput"),0<xe.length&&(he=new vi("onBeforeInput","beforeinput",null,a,Q),X.push({event:he,listeners:xe}),he.data=Ie)),wS(X,t,j,a,Q)}I_(X,i)})}function yl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function bc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(t,a),h!=null&&o.unshift(yl(t,h,f)),h=Gn(t,i),h!=null&&o.push(yl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function NS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function D_(t,i,a,o,h){for(var f=i._reactName,y=[];a!==null&&a!==o;){var E=a,O=E.alternate,j=E.stateNode;if(E=E.tag,O!==null&&O===o)break;E!==5&&E!==26&&E!==27||j===null||(O=j,h?(j=Gn(a,f),j!=null&&y.unshift(yl(a,j,O))):h||(j=Gn(a,f),j!=null&&y.push(yl(a,j,O)))),a=a.return}y.length!==0&&t.push({event:i,listeners:y})}var DS=/\r\n?/g,OS=/\u0000|\uFFFD/g;function O_(t){return(typeof t=="string"?t:""+t).replace(DS,`
`).replace(OS,"")}function V_(t,i){return i=O_(i),O_(t)===i}function Je(t,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||an(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&an(t,""+o);break;case"className":pn(t,"class",o);break;case"tabIndex":pn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(t,a,o);break;case"style":Uo(t,o,f);break;case"data":if(i!=="object"){pn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=la(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=la(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Fn);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=la(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),ra(t,"popover",o);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ra(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,ra(t,a,o))}}function Dd(t,i,a,o,h,f){switch(a){case"style":Uo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?an(t,o):(typeof o=="number"||typeof o=="bigint")&&an(t,""+o);break;case"onScroll":o!=null&&Oe("scroll",t);break;case"onScrollEnd":o!=null&&Oe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[Ut]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ra(t,a,o)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Je(t,i,f,y,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),o&&Je(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var E=f=y=h=null,O=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":y=Q;break;case"checked":O=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:Je(t,i,o,Q,a,null)}}Tu(t,f,E,O,j,y,h,!1);return;case"select":Oe("invalid",t),o=y=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Je(t,i,h,E,a,null)}i=f,a=y,t.multiple=!!o,i!=null?us(t,!!o,i,!1):a!=null&&us(t,!!o,a,!0);return;case"textarea":Oe("invalid",t),f=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Je(t,i,y,E,a,null)}cs(t,o,h,f);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(o=a[O],o!=null))switch(O){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Je(t,i,O,o,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(o=0;o<gl.length;o++)Oe(gl[o],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Je(t,i,j,o,a,null)}return;default:if(oa(i)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&Dd(t,i,Q,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Je(t,i,E,o,a,null))}function VS(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,O=null,j=null,Q=null;for(F in a){var X=a[F];if(a.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":O=X;default:o.hasOwnProperty(F)||Je(t,i,F,null,o,X)}}for(var B in o){var F=o[B];if(X=a[B],o.hasOwnProperty(B)&&(F!=null||X!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":Q=F;break;case"value":y=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:F!==X&&Je(t,i,B,F,o,X)}}aa(t,y,E,O,j,Q,f,h);return;case"select":F=y=E=B=null;for(f in a)if(O=a[f],a.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":F=O;default:o.hasOwnProperty(f)||Je(t,i,f,null,o,O)}for(h in o)if(f=o[h],O=a[h],o.hasOwnProperty(h)&&(f!=null||O!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==O&&Je(t,i,h,f,o,O)}i=E,a=y,o=F,B!=null?us(t,!!a,B,!1):!!o!=!!a&&(i!=null?us(t,!!a,i,!0):us(t,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Je(t,i,E,null,o,h)}for(y in o)if(h=o[y],f=a[y],o.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Je(t,i,y,h,o,f)}Au(t,B,F);return;case"option":for(var ue in a)if(B=a[ue],a.hasOwnProperty(ue)&&B!=null&&!o.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:Je(t,i,ue,null,o,B)}for(O in o)if(B=o[O],F=a[O],o.hasOwnProperty(O)&&B!==F&&(B!=null||F!=null))switch(O){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Je(t,i,O,B,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)B=a[ge],a.hasOwnProperty(ge)&&B!=null&&!o.hasOwnProperty(ge)&&Je(t,i,ge,null,o,B);for(j in o)if(B=o[j],F=a[j],o.hasOwnProperty(j)&&B!==F&&(B!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:Je(t,i,j,B,o,F)}return;default:if(oa(i)){for(var We in a)B=a[We],a.hasOwnProperty(We)&&B!==void 0&&!o.hasOwnProperty(We)&&Dd(t,i,We,void 0,o,B);for(Q in o)B=o[Q],F=a[Q],!o.hasOwnProperty(Q)||B===F||B===void 0&&F===void 0||Dd(t,i,Q,B,o,F);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&Je(t,i,U,null,o,B);for(X in o)B=o[X],F=a[X],!o.hasOwnProperty(X)||B===F||B==null&&F==null||Je(t,i,X,B,o,F)}function M_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&M_(y)){for(y=0,E=h.responseEnd,o+=1;o<a.length;o++){var O=a[o],j=O.startTime;if(j>E)break;var Q=O.transferSize,X=O.initiatorType;Q&&M_(X)&&(O=O.responseEnd,y+=Q*(O<E?1:(E-j)/(O-j)))}if(--o,i+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Od=null,Vd=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function x_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Md(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xd=null;function xS(){var t=window.event;return t&&t.type==="popstate"?t===xd?!1:(xd=t,!0):(xd=null,!1)}var U_=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,L_=typeof Promise=="function"?Promise:void 0,US=typeof queueMicrotask=="function"?queueMicrotask:typeof L_<"u"?function(t){return L_.resolve(null).then(t).catch(LS)}:U_;function LS(t){setTimeout(function(){throw t})}function Ms(t){return t==="head"}function k_(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),qa(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")_l(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,_l(a);for(var f=a.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=y}}else a==="body"&&_l(t.ownerDocument.body);a=h}while(a);qa(i)}function z_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Pd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Pd(a),sa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kS(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ui])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function zS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Pn(t.nextSibling),t===null))return null;return t}function j_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pn(t.nextSibling),t===null))return null;return t}function Ud(t){return t.data==="$?"||t.data==="$~"}function Ld(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Pn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var kd=null;function B_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Pn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function q_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function H_(t,i,a){switch(i=wc(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function _l(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);sa(t)}var Un=new Map,F_=new Set;function Rc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=se.d;se.d={f:BS,r:qS,D:HS,C:FS,L:GS,m:QS,X:YS,S:KS,M:XS};function BS(){var t=Zi.f(),i=yc();return t||i}function qS(t){var i=wn(t);i!==null&&i.tag===5&&i.type==="form"?oy(i):Zi.r(t)}var za=typeof document>"u"?null:document;function G_(t,i,a){var o=za;if(o&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),F_.has(h)||(F_.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Gt(i,"link",t),At(i),o.head.appendChild(i)))}}function HS(t){Zi.D(t),G_("dns-prefetch",t,null)}function FS(t,i){Zi.C(t,i),G_("preconnect",t,i)}function GS(t,i,a){Zi.L(t,i,a);var o=za;if(o&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var f=h;switch(i){case"style":f=ja(t);break;case"script":f=Ba(t)}Un.has(f)||(t=S({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(vl(f))||i==="script"&&o.querySelector(El(f))||(i=o.createElement("link"),Gt(i,"link",t),At(i),o.head.appendChild(i)))}}function QS(t,i){Zi.m(t,i);var a=za;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(t)}if(!Un.has(f)&&(t=S({rel:"modulepreload",href:t},i),Un.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(El(f)))return}o=a.createElement("link"),Gt(o,"link",t),At(o),a.head.appendChild(o)}}}function KS(t,i,a){Zi.S(t,i,a);var o=za;if(o&&t){var h=hi(o).hoistableStyles,f=ja(t);i=i||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(vl(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(f))&&zd(t,a);var O=y=o.createElement("link");At(O),Gt(O,"link",t),O._p=new Promise(function(j,Q){O.onload=j,O.onerror=Q}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cc(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function YS(t,i){Zi.X(t,i);var a=za;if(a&&t){var o=hi(a).hoistableScripts,h=Ba(t),f=o.get(h);f||(f=a.querySelector(El(h)),f||(t=S({src:t,async:!0},i),(i=Un.get(h))&&jd(t,i),f=a.createElement("script"),At(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function XS(t,i){Zi.M(t,i);var a=za;if(a&&t){var o=hi(a).hoistableScripts,h=Ba(t),f=o.get(h);f||(f=a.querySelector(El(h)),f||(t=S({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&jd(t,i),f=a.createElement("script"),At(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Q_(t,i,a,o){var h=(h=Ce.current)?Rc(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ja(a.href),a=hi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ja(a.href);var f=hi(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(vl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),f||$S(h,t,a,y.state))),i&&o===null)throw Error(r(528,""));return y}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=hi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ja(t){return'href="'+rn(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function K_(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function $S(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Gt(i,"link",a),At(i),t.head.appendChild(i))}function Ba(t){return'[src="'+rn(t)+'"]'}function El(t){return"script[async]"+t}function Y_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return i.instance=o,At(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),At(o),Gt(o,"style",h),Cc(o,a.precedence,t),i.instance=o;case"stylesheet":h=ja(a.href);var f=t.querySelector(vl(h));if(f)return i.state.loading|=4,i.instance=f,At(f),f;o=K_(a),(h=Un.get(h))&&zd(o,h),f=(t.ownerDocument||t).createElement("link"),At(f);var y=f;return y._p=new Promise(function(E,O){y.onload=E,y.onerror=O}),Gt(f,"link",o),i.state.loading|=4,Cc(f,a.precedence,t),i.instance=f;case"script":return f=Ba(a.src),(h=t.querySelector(El(f)))?(i.instance=h,At(h),h):(o=a,(h=Un.get(f))&&(o=S({},a),jd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Gt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Cc(o,a.precedence,t));return i.instance}function Cc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function jd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ic=null;function X_(t,i,a){if(Ic===null){var o=new Map,h=Ic=new Map;h.set(a,o)}else h=Ic,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ui]||f[Tt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(i)||"";y=t+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function $_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function ZS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Z_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function JS(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ja(o.href),f=i.querySelector(vl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Nc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=f,At(f);return}f=i.ownerDocument||i,o=K_(o),(h=Un.get(h))&&zd(o,h),f=f.createElement("link"),At(f);var y=f;y._p=new Promise(function(E,O){y.onload=E,y.onerror=O}),Gt(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Nc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Bd=0;function WS(t,i){return t.stylesheets&&t.count===0&&Oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Bd===0&&(Bd=62500*MS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Oc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Bd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Dc=null;function Oc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Dc=new Map,i.forEach(eb,t),Dc=null,Nc.call(t))}function eb(t,i){if(!(i.state.loading&4)){var a=Dc.get(t);if(a)var o=a.get(null);else{a=new Map,Dc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=i.instance,y=h.getAttribute("data-precedence"),f=a.get(y)||o,f===o&&a.set(null,h),a.set(y,h),this.count++,o=Nc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Tl={$$typeof:ce,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function tb(t,i,a,o,h,f,y,E,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function J_(t,i,a,o,h,f,y,E,O,j,Q,X){return t=new tb(t,i,a,y,O,j,Q,X,E),i=1,f===!0&&(i|=24),f=yn(3,null,null,i),t.current=f,f.stateNode=t,i=Ef(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},bf(f),t}function W_(t){return t?(t=_a,t):_a}function ev(t,i,a,o,h,f){h=W_(h),o.context===null?o.context=h:o.pendingContext=h,o=As(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ss(t,o,i),a!==null&&(hn(a,t,i),Wo(a,t,i))}function tv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function qd(t,i){tv(t,i),(t=t.alternate)&&tv(t,i)}function nv(t){if(t.tag===13||t.tag===31){var i=Rr(t,67108864);i!==null&&hn(i,t,67108864),qd(t,67108864)}}function iv(t){if(t.tag===13||t.tag===31){var i=An();i=mr(i);var a=Rr(t,i);a!==null&&hn(a,t,i),qd(t,i)}}var Vc=!0;function nb(t,i,a,o){var h=G.T;G.T=null;var f=se.p;try{se.p=2,Hd(t,i,a,o)}finally{se.p=f,G.T=h}}function ib(t,i,a,o){var h=G.T;G.T=null;var f=se.p;try{se.p=8,Hd(t,i,a,o)}finally{se.p=f,G.T=h}}function Hd(t,i,a,o){if(Vc){var h=Fd(o);if(h===null)Nd(t,i,o,Mc,a),rv(t,o);else if(rb(h,t,i,a,o))o.stopPropagation();else if(rv(t,o),i&4&&-1<sb.indexOf(t)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=ri(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var O=1<<31-dt(y);E.entanglements[1]|=O,y&=~O}bi(f),(Fe&6)===0&&(pc=tn()+500,pl(0))}}break;case 31:case 13:E=Rr(f,2),E!==null&&hn(E,f,2),yc(),qd(f,2)}if(f=Fd(o),f===null&&Nd(t,i,o,Mc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Nd(t,i,o,null,a)}}function Fd(t){return t=Rn(t),Gd(t)}var Mc=null;function Gd(t){if(Mc=null,t=ci(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Mc=t,null}function sv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cr()){case bo:return 2;case wo:return 8;case os:case $h:return 32;case hu:return 268435456;default:return 32}default:return 32}}var Qd=!1,xs=null,Ps=null,Us=null,Al=new Map,Sl=new Map,Ls=[],sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(t,i){switch(t){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(i.pointerId)}}function bl(t,i,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=wn(i),i!==null&&nv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function rb(t,i,a,o,h){switch(i){case"focusin":return xs=bl(xs,t,i,a,o,h),!0;case"dragenter":return Ps=bl(Ps,t,i,a,o,h),!0;case"mouseover":return Us=bl(Us,t,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return Al.set(f,bl(Al.get(f)||null,t,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Sl.set(f,bl(Sl.get(f)||null,t,i,a,o,h)),!0}return!1}function av(t){var i=ci(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,qn(t.priority,function(){iv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,qn(t.priority,function(){iv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Fd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Lo=o,a.target.dispatchEvent(o),Lo=null}else return i=wn(a),i!==null&&nv(i),t.blockedOn=a,!1;i.shift()}return!0}function ov(t,i,a){xc(t)&&a.delete(i)}function ab(){Qd=!1,xs!==null&&xc(xs)&&(xs=null),Ps!==null&&xc(Ps)&&(Ps=null),Us!==null&&xc(Us)&&(Us=null),Al.forEach(ov),Sl.forEach(ov)}function Pc(t,i){t.blockedOn===i&&(t.blockedOn=null,Qd||(Qd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ab)))}var Uc=null;function lv(t){Uc!==t&&(Uc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Uc===t&&(Uc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Gd(o||a)===null)continue;break}var f=wn(a);f!==null&&(t.splice(i,3),i-=3,Ff(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function qa(t){function i(O){return Pc(O,t)}xs!==null&&Pc(xs,t),Ps!==null&&Pc(Ps,t),Us!==null&&Pc(Us,t),Al.forEach(i),Sl.forEach(i);for(var a=0;a<Ls.length;a++){var o=Ls[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ls.length&&(a=Ls[0],a.blockedOn===null);)av(a),a.blockedOn===null&&Ls.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],y=h[Ut]||null;if(typeof f=="function")y||lv(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Ut]||null)E=y.formAction;else if(Gd(h)!==null)continue}else E=y.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),lv(a)}}}function uv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Kd(t){this._internalRoot=t}Lc.prototype.render=Kd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=An();ev(a,o,t,i,null,null)},Lc.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;ev(t.current,2,null,t,null,null),yc(),i[li]=null}};function Lc(t){this._internalRoot=t}Lc.prototype.unstable_scheduleHydration=function(t){if(t){var i=yu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Ls.length&&i!==0&&i<Ls[a].priority;a++);Ls.splice(a,0,t),a===0&&av(t)}};var cv=e.version;if(cv!=="19.2.0")throw Error(r(527,cv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var ob={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{jn=kc.inject(ob),jt=kc}catch{}}return Rl.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",h=yy,f=_y,y=vy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=J_(t,1,!1,null,null,a,o,null,h,f,y,uv),t[li]=i.current,Id(t),new Kd(i)},Rl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=yy,y=_y,E=vy,O=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=J_(t,1,!0,i,a??null,o,h,O,f,y,E,uv),i.context=W_(null),a=i.current,o=An(),o=mr(o),h=As(o),h.callback=null,Ss(a,h,o),a=o,i.current.lanes=a,fr(i,a),bi(i),t[li]=i.current,Id(t),new Lc(i)},Rl.version="19.2.0",Rl}var Ev;function yb(){if(Ev)return $d.exports;Ev=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),$d.exports=gb(),$d.exports}var _b=yb();const vb=()=>{};var Tv={};const eT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Eb=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],p=s[n++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},tT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,_=g?s[l+2]:0,T=c>>2,S=(c&3)<<4|p>>4;let V=(p&15)<<2|_>>6,q=_&63;g||(q=64,d||(V=64)),r.push(n[T],n[S],n[V],n[q])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(eT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Eb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const _=l<s.length?n[s.charAt(l)]:64;++l;const S=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new Tb;const V=c<<2|p>>4;if(r.push(V),_!==64){const q=p<<4&240|_>>2;if(r.push(q),S!==64){const W=_<<6&192|S;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Tb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ab=function(s){const e=eT(s);return tT.encodeByteArray(e,!0)},nh=function(s){return Ab(s).replace(/\./g,"")},nT=function(s){try{return tT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bb=()=>Sb().__FIREBASE_DEFAULTS__,wb=()=>{if(typeof process>"u"||typeof Tv>"u")return;const s=Tv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Rb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&nT(s[1]);return e&&JSON.parse(e)},Ah=()=>{try{return vb()||bb()||wb()||Rb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},iT=s=>Ah()?.emulatorHosts?.[s],Cb=s=>{const e=iT(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sT=()=>Ah()?.config,rT=s=>Ah()?.[`_${s}`];class Ib{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function uo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function aT(s){return(await fetch(s,{credentials:"include"})).ok}function Nb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(n)),nh(JSON.stringify(d)),""].join(".")}const Ml={};function Db(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?s.emulator.push(e):s.prod.push(e);return s}function Ob(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let Av=!1;function oT(s,e){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Ml[s]===e||Ml[s]||Av)return;Ml[s]=e;function n(V){return`__firebase__banner__${V}`}const r="__firebase__banner",c=Db().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function p(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function g(V,q){V.setAttribute("width","24"),V.setAttribute("id",q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Av=!0,d()},V}function T(V,q){V.setAttribute("id",q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=Ob(r),q=n("text"),W=document.getElementById(q)||document.createElement("span"),ee=n("learnmore"),te=document.getElementById(ee)||document.createElement("a"),fe=n("preprendIcon"),pe=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ce=V.element;p(ce),T(te,ee);const Ne=_();g(pe,fe),ce.append(pe,W,te,Ne),document.body.appendChild(ce)}c?(W.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function Mb(){const s=Ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Ub(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lb(){const s=en();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function kb(){return!Mb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zb(){try{return typeof indexedDB=="object"}catch{return!1}}function jb(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const Bb="FirebaseError";class rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Bb,Object.setPrototypeOf(this,rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?qb(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new rs(l,p,r)}}function qb(s,e){return s.replace(Hb,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const Hb=/\{\$([^}]+)}/g;function Fb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Fr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(Sv(c)&&Sv(d)){if(!Fr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function Sv(s){return s!==null&&typeof s=="object"}function Zl(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Cl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Il(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function Gb(s,e){const n=new Qb(s,e);return n.subscribe.bind(n)}class Qb{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Kb(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=em),l.error===void 0&&(l.error=em),l.complete===void 0&&(l.complete=em);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kb(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function em(){}function Pt(s){return s&&s._delegate?s._delegate:s}class Gr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zr="[DEFAULT]";class Yb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ib;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($b(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Xb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xb(s){return s===zr?void 0:s}function $b(s){return s.instantiationMode==="EAGER"}class Zb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Yb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const Jb={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Wb=Pe.INFO,e1={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},t1=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=e1[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gm{constructor(e){this.name=e,this._logLevel=Wb,this._logHandler=t1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const n1=(s,e)=>e.some(n=>s instanceof n);let bv,wv;function i1(){return bv||(bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s1(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,dm=new WeakMap,uT=new WeakMap,tm=new WeakMap,Qm=new WeakMap;function r1(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(Gs(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&lT.set(n,s)}).catch(()=>{}),Qm.set(e,s),e}function a1(s){if(dm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});dm.set(s,e)}let mm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return dm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||uT.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function o1(s){mm=s(mm)}function l1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(nm(this),e,...n);return uT.set(r,e.sort?e.sort():[e]),Gs(r)}:s1().includes(s)?function(...e){return s.apply(nm(this),e),Gs(lT.get(this))}:function(...e){return Gs(s.apply(nm(this),e))}}function u1(s){return typeof s=="function"?l1(s):(s instanceof IDBTransaction&&a1(s),n1(s,i1())?new Proxy(s,mm):s)}function Gs(s){if(s instanceof IDBRequest)return r1(s);if(tm.has(s))return tm.get(s);const e=u1(s);return e!==s&&(tm.set(s,e),Qm.set(e,s)),e}const nm=s=>Qm.get(s);function c1(s,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=Gs(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Gs(d.result),g.oldVersion,g.newVersion,Gs(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const h1=["get","getKey","getAll","getAllKeys","count"],f1=["put","add","delete","clear"],im=new Map;function Rv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=f1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||h1.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[n](...p),l&&g.done]))[0]};return im.set(e,c),c}o1(s=>({...s,get:(e,n,r)=>Rv(e,n)||s.get(e,n,r),has:(e,n)=>!!Rv(e,n)||s.has(e,n)}));class d1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m1(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function m1(s){return s.getComponent()?.type==="VERSION"}const pm="@firebase/app",Cv="0.14.6";const ts=new Gm("@firebase/app"),p1="@firebase/app-compat",g1="@firebase/analytics-compat",y1="@firebase/analytics",_1="@firebase/app-check-compat",v1="@firebase/app-check",E1="@firebase/auth",T1="@firebase/auth-compat",A1="@firebase/database",S1="@firebase/data-connect",b1="@firebase/database-compat",w1="@firebase/functions",R1="@firebase/functions-compat",C1="@firebase/installations",I1="@firebase/installations-compat",N1="@firebase/messaging",D1="@firebase/messaging-compat",O1="@firebase/performance",V1="@firebase/performance-compat",M1="@firebase/remote-config",x1="@firebase/remote-config-compat",P1="@firebase/storage",U1="@firebase/storage-compat",L1="@firebase/firestore",k1="@firebase/ai",z1="@firebase/firestore-compat",j1="firebase",B1="12.6.0";const gm="[DEFAULT]",q1={[pm]:"fire-core",[p1]:"fire-core-compat",[y1]:"fire-analytics",[g1]:"fire-analytics-compat",[v1]:"fire-app-check",[_1]:"fire-app-check-compat",[E1]:"fire-auth",[T1]:"fire-auth-compat",[A1]:"fire-rtdb",[S1]:"fire-data-connect",[b1]:"fire-rtdb-compat",[w1]:"fire-fn",[R1]:"fire-fn-compat",[C1]:"fire-iid",[I1]:"fire-iid-compat",[N1]:"fire-fcm",[D1]:"fire-fcm-compat",[O1]:"fire-perf",[V1]:"fire-perf-compat",[M1]:"fire-rc",[x1]:"fire-rc-compat",[P1]:"fire-gcs",[U1]:"fire-gcs-compat",[L1]:"fire-fst",[z1]:"fire-fst-compat",[k1]:"fire-vertex","fire-js":"fire-js",[j1]:"fire-js-all"};const ih=new Map,H1=new Map,ym=new Map;function Iv(s,e){try{s.container.addComponent(e)}catch(n){ts.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function eo(s){const e=s.name;if(ym.has(e))return ts.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,s);for(const n of ih.values())Iv(n,s);for(const n of H1.values())Iv(n,s);return!0}function Km(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Jn(s){return s==null?!1:s.settings!==void 0}const F1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new $l("app","Firebase",F1);class G1{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const co=B1;function cT(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:gm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw Qs.create("bad-app-name",{appName:String(l)});if(n||(n=sT()),!n)throw Qs.create("no-options");const c=ih.get(l);if(c){if(Fr(n,c.options)&&Fr(r,c.config))return c;throw Qs.create("duplicate-app",{appName:l})}const d=new Zb(l);for(const g of ym.values())d.addComponent(g);const p=new G1(n,r,d);return ih.set(l,p),p}function hT(s=gm){const e=ih.get(s);if(!e&&s===gm&&sT())return cT();if(!e)throw Qs.create("no-app",{appName:s});return e}function Ks(s,e,n){let r=q1[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ts.warn(d.join(" "));return}eo(new Gr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Q1="firebase-heartbeat-database",K1=1,zl="firebase-heartbeat-store";let sm=null;function fT(){return sm||(sm=c1(Q1,K1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(zl)}catch(n){console.warn(n)}}}}).catch(s=>{throw Qs.create("idb-open",{originalErrorMessage:s.message})})),sm}async function Y1(s){try{const n=(await fT()).transaction(zl),r=await n.objectStore(zl).get(dT(s));return await n.done,r}catch(e){if(e instanceof rs)ts.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e?.message});ts.warn(n.message)}}}async function Nv(s,e){try{const r=(await fT()).transaction(zl,"readwrite");await r.objectStore(zl).put(e,dT(s)),await r.done}catch(n){if(n instanceof rs)ts.warn(n.message);else{const r=Qs.create("idb-set",{originalErrorMessage:n?.message});ts.warn(r.message)}}}function dT(s){return`${s.name}!${s.options.appId}`}const X1=1024,$1=30;class Z1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>$1){const l=ew(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ts.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dv(),{heartbeatsToSend:n,unsentEntries:r}=J1(this._heartbeatsCache.heartbeats),l=nh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return ts.warn(e),""}}}function Dv(){return new Date().toISOString().substring(0,10)}function J1(s,e=X1){const n=[];let r=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Ov(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Ov(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class W1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zb()?jb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Y1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Nv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ov(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function ew(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function tw(s){eo(new Gr("platform-logger",e=>new d1(e),"PRIVATE")),eo(new Gr("heartbeat",e=>new Z1(e),"PRIVATE")),Ks(pm,Cv,s),Ks(pm,Cv,"esm2020"),Ks("fire-js","")}tw("");function mT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nw=mT,pT=new $l("auth","Firebase",mT());const sh=new Gm("@firebase/auth");function iw(s,...e){sh.logLevel<=Pe.WARN&&sh.warn(`Auth (${co}): ${s}`,...e)}function Qc(s,...e){sh.logLevel<=Pe.ERROR&&sh.error(`Auth (${co}): ${s}`,...e)}function ti(s,...e){throw Ym(s,...e)}function Ri(s,...e){return Ym(s,...e)}function gT(s,e,n){const r={...nw(),[e]:n};return new $l("auth","Firebase",r).create(e,{appName:s.name})}function Ys(s){return gT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ym(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return pT.create(s,...e)}function ye(s,e,...n){if(!s)throw Ym(e,...n)}function Ji(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Qc(e),new Error(e)}function ns(s,e){s||Ji(e)}function _m(){return typeof self<"u"&&self.location?.href||""}function sw(){return Vv()==="http:"||Vv()==="https:"}function Vv(){return typeof self<"u"&&self.location?.protocol||null}function rw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sw()||Pb()||"connection"in navigator)?navigator.onLine:!0}function aw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ns(n>e,"Short delay should be less than long delay!"),this.isMobile=Vb()||Ub()}get(){return rw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xm(s,e){ns(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class yT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ow={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uw=new Jl(3e4,6e4);function Xr(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function sr(s,e,n,r,l={}){return _T(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=Zl({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:g,...c};return xb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&uo(s.emulatorConfig.host)&&(_.credentials="include"),yT.fetch()(await vT(s,s.config.apiHost,n,p),_)})}async function _T(s,e,n){s._canInitEmulator=!1;const r={...ow,...e};try{const l=new hw(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw zc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,_]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw zc(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw zc(s,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw gT(s,T,_);ti(s,T)}}catch(l){if(l instanceof rs)throw l;ti(s,"network-request-failed",{message:String(l)})}}async function Sh(s,e,n,r,l={}){const c=await sr(s,e,n,r,l);return"mfaPendingCredential"in c&&ti(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function vT(s,e,n,r){const l=`${e}${n}?${r}`,c=s,d=c.config.emulator?Xm(s.config,l):`${s.config.apiScheme}://${l}`;return lw.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function cw(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),uw.get())})}}function zc(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Ri(s,e,r);return l.customData._tokenResponse=n,l}function Mv(s){return s!==void 0&&s.enterprise!==void 0}class fw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cw(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dw(s,e){return sr(s,"GET","/v2/recaptchaConfig",Xr(s,e))}async function mw(s,e){return sr(s,"POST","/v1/accounts:delete",e)}async function rh(s,e){return sr(s,"POST","/v1/accounts:lookup",e)}function xl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pw(s,e=!1){const n=Pt(s),r=await n.getIdToken(e),l=$m(r);ye(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:xl(rm(l.auth_time)),issuedAtTime:xl(rm(l.iat)),expirationTime:xl(rm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function rm(s){return Number(s)*1e3}function $m(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const l=nT(n);return l?JSON.parse(l):(Qc("Failed to decode base64 JWT payload"),null)}catch(l){return Qc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function xv(s){const e=$m(s);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function jl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rs&&gw(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function gw({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class yw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ah(s){const e=s.auth,n=await s.getIdToken(),r=await jl(s,rh(e,{idToken:n}));ye(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?ET(l.providerUserInfo):[],d=vw(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,_=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function _w(s){const e=Pt(s);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vw(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function ET(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Ew(s,e){const n=await _T(s,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await vT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&uo(s.emulatorConfig.host)&&(g.credentials="include"),yT.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Tw(s,e){return sr(s,"POST","/v2/accounts:revokeToken",Xr(s,e))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=xv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await Ew(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new Ya;return r&&(ye(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(ye(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(ye(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function zs(s,e){ye(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new yw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await jl(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return pw(this,e)}reload(){return _w(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await jl(this,mw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:q,providerData:W,stsTokenManager:ee}=n;ye(S&&ee,e,"internal-error");const te=Ya.fromJSON(this.name,ee);ye(typeof S=="string",e,"internal-error"),zs(r,e.name),zs(l,e.name),ye(typeof V=="boolean",e,"internal-error"),ye(typeof q=="boolean",e,"internal-error"),zs(c,e.name),zs(d,e.name),zs(p,e.name),zs(g,e.name),zs(_,e.name),zs(T,e.name);const fe=new Wn({uid:S,auth:e,email:l,emailVerified:V,displayName:r,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:te,createdAt:_,lastLoginAt:T});return W&&Array.isArray(W)&&(fe.providerData=W.map(pe=>({...pe}))),g&&(fe._redirectEventId=g),fe}static async _fromIdTokenResponse(e,n,r=!1){const l=new Ya;l.updateFromServerResponse(n);const c=new Wn({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await ah(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];ye(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?ET(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ya;p.updateFromIdToken(r);const g=new Wn({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,_),g}}const Pv=new Map;function Wi(s){ns(s instanceof Function,"Expected a class definition");let e=Pv.get(s);return e?(ns(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Pv.set(s,e),e)}class TT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TT.type="NONE";const Uv=TT;function Kc(s,e,n){return`firebase:${s}:${e}:${n}`}class Xa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Kc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Kc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rh(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xa(Wi(Uv),e,r);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Wi(Uv);const d=Kc(r,e.config.apiKey,e.name);let p=null;for(const _ of n)try{const T=await _._get(d);if(T){let S;if(typeof T=="string"){const V=await rh(e,{idToken:T}).catch(()=>{});if(!V)break;S=await Wn._fromGetAccountInfoResponse(e,V,T)}else S=Wn._fromJSON(e,T);_!==c&&(p=S),c=_;break}}catch{}const g=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Xa(c,e,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Xa(c,e,r))}}function Lv(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CT(e))return"Blackberry";if(IT(e))return"Webos";if(ST(e))return"Safari";if((e.includes("chrome/")||bT(e))&&!e.includes("edge/"))return"Chrome";if(RT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function AT(s=en()){return/firefox\//i.test(s)}function ST(s=en()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bT(s=en()){return/crios\//i.test(s)}function wT(s=en()){return/iemobile/i.test(s)}function RT(s=en()){return/android/i.test(s)}function CT(s=en()){return/blackberry/i.test(s)}function IT(s=en()){return/webos/i.test(s)}function Zm(s=en()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Aw(s=en()){return Zm(s)&&!!window.navigator?.standalone}function Sw(){return Lb()&&document.documentMode===10}function NT(s=en()){return Zm(s)||RT(s)||IT(s)||CT(s)||/windows phone/i.test(s)||wT(s)}function DT(s,e=[]){let n;switch(s){case"Browser":n=Lv(en());break;case"Worker":n=`${Lv(en())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${co}/${r}`}class bw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function ww(s,e={}){return sr(s,"GET","/v2/passwordPolicy",Xr(s,e))}const Rw=6;class Cw{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Rw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class Iw{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kv(this),this.idTokenSubscription=new kv(this),this.beforeStateQueue=new bw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rh(this,{idToken:e}),r=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Ys(this));const n=e?Pt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ww(this),n=new Cw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $l("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Tw(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&iw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ho(s){return Pt(s)}class kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Gb(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nw(s){bh=s}function OT(s){return bh.loadJS(s)}function Dw(){return bh.recaptchaEnterpriseScript}function Ow(){return bh.gapiScript}function Vw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Mw{constructor(){this.enterprise=new xw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class xw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Pw="recaptcha-enterprise",VT="NO_RECAPTCHA";class Uw{constructor(e){this.type=Pw,this.auth=ho(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{dw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new fw(g);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;Mv(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(_=>{d(_)}).catch(()=>{d(VT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Mw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!n&&Mv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=Dw();g.length!==0&&(g+=p),OT(g).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function zv(s,e,n,r=!1,l=!1){const c=new Uw(s);let d;if(l)d=VT;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function jv(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await zv(s,e,n,n==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await zv(s,e,n,n==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function Lw(s,e){const n=Km(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Fr(c,e??{}))return l;ti(l,"already-initialized")}return n.initialize({options:e})}function kw(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wi);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function zw(s,e,n){const r=ho(s);ye(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=MT(e),{host:d,port:p}=jw(e),g=p===null?"":`:${p}`,_={url:`${c}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){ye(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ye(Fr(_,r.config.emulator)&&Fr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,uo(d)?(aT(`${c}//${d}${g}`),oT("Auth",!0)):Bw()}function MT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function jw(s){const e=MT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Bv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Bv(d)}}}function Bv(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function Bw(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Jm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function qw(s,e){return sr(s,"POST","/v1/accounts:signUp",e)}async function Hw(s,e){return Sh(s,"POST","/v1/accounts:signInWithPassword",Xr(s,e))}async function Fw(s,e){return Sh(s,"POST","/v1/accounts:signInWithEmailLink",Xr(s,e))}async function Gw(s,e){return Sh(s,"POST","/v1/accounts:signInWithEmailLink",Xr(s,e))}class Bl extends Jm{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new Bl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jv(e,n,"signInWithPassword",Hw);case"emailLink":return Fw(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jv(e,r,"signUpPassword",qw);case"emailLink":return Gw(e,{idToken:n,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function $a(s,e){return Sh(s,"POST","/v1/accounts:signInWithIdp",Xr(s,e))}const Qw="http://localhost";class Qr extends Jm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new Qr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return $a(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$a(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$a(e,n)}buildRequest(){const e={requestUri:Qw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zl(n)}return e}}function Kw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yw(s){const e=Cl(Il(s)).link,n=e?Cl(Il(e)).deep_link_id:null,r=Cl(Il(s)).deep_link_id;return(r?Cl(Il(r)).link:null)||r||n||e||s}class Wm{constructor(e){const n=Cl(Il(e)),r=n.apiKey??null,l=n.oobCode??null,c=Kw(n.mode??null);ye(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Yw(e);try{return new Wm(n)}catch{return null}}}class fo{constructor(){this.providerId=fo.PROVIDER_ID}static credential(e,n){return Bl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Wm.parseLink(n);return ye(r,"argument-error"),Bl._fromEmailAndCode(e,r.code,r.tenantId)}}fo.PROVIDER_ID="password";fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wl extends xT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class js extends Wl{constructor(){super("facebook.com")}static credential(e){return Qr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";class Bs extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class qs extends Wl{constructor(){super("github.com")}static credential(e){return Qr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";class Hs extends Wl{constructor(){super("twitter.com")}static credential(e,n){return Qr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hs.credential(n,r)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await Wn._fromIdTokenResponse(e,r,l),d=qv(r);return new to({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=qv(r);return new to({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function qv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class oh extends rs{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new oh(e,n,r,l)}}function PT(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(s,c,e,r):c})}async function Xw(s,e,n=!1){const r=await jl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return to._forOperation(s,"link",r)}async function $w(s,e,n=!1){const{auth:r}=s;if(Jn(r.app))return Promise.reject(Ys(r));const l="reauthenticate";try{const c=await jl(s,PT(r,l,e,s),n);ye(c.idToken,r,"internal-error");const d=$m(c.idToken);ye(d,r,"internal-error");const{sub:p}=d;return ye(s.uid===p,r,"user-mismatch"),to._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ti(r,"user-mismatch"),c}}async function UT(s,e,n=!1){if(Jn(s.app))return Promise.reject(Ys(s));const r="signIn",l=await PT(s,r,e),c=await to._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}async function Zw(s,e){return UT(ho(s),e)}async function Jw(s){const e=ho(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Ww(s,e,n){return Jn(s.app)?Promise.reject(Ys(s)):Zw(Pt(s),fo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jw(s),r})}function eR(s,e,n,r){return Pt(s).onIdTokenChanged(e,n,r)}function tR(s,e,n){return Pt(s).beforeAuthStateChanged(e,n)}function nR(s,e,n,r){return Pt(s).onAuthStateChanged(e,n,r)}function iR(s){return Pt(s).signOut()}const lh="__sak";class LT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const sR=1e3,rR=10;class kT extends LT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);Sw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,rR):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kT.type="LOCAL";const aR=kT;class zT extends LT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zT.type="SESSION";const jT=zT;function oR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(n.origin,c)),g=await oR(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];function ep(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class lR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const _=ep("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(V.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function uR(s){Ci().location.href=s}function BT(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function cR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hR(){return navigator?.serviceWorker?.controller||null}function fR(){return BT()?self:null}const qT="firebaseLocalStorageDb",dR=1,uh="firebaseLocalStorage",HT="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(s,e){return s.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function mR(){const s=indexedDB.deleteDatabase(qT);return new eu(s).toPromise()}function Em(){const s=indexedDB.open(qT,dR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(uh,{keyPath:HT})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(uh)?e(r):(r.close(),await mR(),e(await Em()))})})}async function Hv(s,e,n){const r=Rh(s,!0).put({[HT]:e,value:n});return new eu(r).toPromise()}async function pR(s,e){const n=Rh(s,!1).get(e),r=await new eu(n).toPromise();return r===void 0?null:r.value}function Fv(s,e){const n=Rh(s,!0).delete(e);return new eu(n).toPromise()}const gR=800,yR=3;class FT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(fR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cR(),!this.activeServiceWorker)return;this.sender=new lR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await Hv(e,lh,"1"),await Fv(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Hv(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Rh(l,!1).getAll();return new eu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FT.type="LOCAL";const _R=FT;new Jl(3e4,6e4);function vR(s,e){return e?Wi(e):(ye(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class tp extends Jm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $a(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ER(s){return UT(s.auth,new tp(s),s.bypassAuthState)}function TR(s){const{auth:e,user:n}=s;return ye(n,e,"internal-error"),$w(n,new tp(s),s.bypassAuthState)}async function AR(s){const{auth:e,user:n}=s;return ye(n,e,"internal-error"),Xw(n,new tp(s),s.bypassAuthState)}class GT{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ER;case"linkViaPopup":case"linkViaRedirect":return AR;case"reauthViaPopup":case"reauthViaRedirect":return TR;default:ti(this.auth,"internal-error")}}resolve(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const SR=new Jl(2e3,1e4);class Ka extends GT{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const e=ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SR.get())};e()}}Ka.currentPopupAction=null;const bR="pendingRedirect",Yc=new Map;class wR extends GT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yc.get(this.auth._key());if(!e){try{const r=await RR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yc.set(this.auth._key(),e)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RR(s,e){const n=NR(e),r=IR(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function CR(s,e){Yc.set(s._key(),e)}function IR(s){return Wi(s._redirectPersistence)}function NR(s){return Kc(bR,s.config.apiKey,s.name)}async function DR(s,e,n=!1){if(Jn(s.app))return Promise.reject(Ys(s));const r=ho(s),l=vR(r,e),d=await new wR(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const OR=600*1e3;class VR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!QT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ri(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(e))}saveEventToCache(e){this.cachedEventUids.add(Gv(e)),this.lastProcessedEventTime=Date.now()}}function Gv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function QT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function MR(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(s);default:return!1}}async function xR(s,e={}){return sr(s,"GET","/v1/projects",e)}const PR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UR=/^https?/;async function LR(s){if(s.config.emulator)return;const{authorizedDomains:e}=await xR(s);for(const n of e)try{if(kR(n))return}catch{}ti(s,"unauthorized-domain")}function kR(s){const e=_m(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!UR.test(n))return!1;if(PR.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const zR=new Jl(3e4,6e4);function Qv(){const s=Ci().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function jR(s){return new Promise((e,n)=>{function r(){Qv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qv(),n(Ri(s,"network-request-failed"))},timeout:zR.get()})}if(Ci().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ci().gapi?.load)r();else{const l=Vw("iframefcb");return Ci()[l]=()=>{gapi.load?r():n(Ri(s,"network-request-failed"))},OT(`${Ow()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Xc=null,e})}let Xc=null;function BR(s){return Xc=Xc||jR(s),Xc}const qR=new Jl(5e3,15e3),HR="__/auth/iframe",FR="emulator/auth/iframe",GR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KR(s){const e=s.config;ye(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Xm(e,FR):`https://${s.config.authDomain}/${HR}`,r={apiKey:e.apiKey,appName:s.name,v:co},l=QR.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Zl(r).slice(1)}`}async function YR(s){const e=await BR(s),n=Ci().gapi;return ye(n,s,"internal-error"),e.open({where:document.body,url:KR(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GR,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ri(s,"network-request-failed"),p=Ci().setTimeout(()=>{c(d)},qR.get());function g(){Ci().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(d)})}))}const XR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$R=500,ZR=600,JR="_blank",WR="http://localhost";class Kv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eC(s,e,n,r=$R,l=ZR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...XR,width:r.toString(),height:l.toString(),top:c,left:d},_=en().toLowerCase();n&&(p=bT(_)?JR:n),AT(_)&&(e=e||WR,g.scrollbars="yes");const T=Object.entries(g).reduce((V,[q,W])=>`${V}${q}=${W},`,"");if(Aw(_)&&p!=="_self")return tC(e||"",p),new Kv(null);const S=window.open(e||"",p,T);ye(S,s,"popup-blocked");try{S.focus()}catch{}return new Kv(S)}function tC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const nC="__/auth/handler",iC="emulator/auth/handler",sC=encodeURIComponent("fac");async function Yv(s,e,n,r,l,c){ye(s.config.authDomain,s,"auth-domain-config-required"),ye(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:co,eventId:l};if(e instanceof xT){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",Fb(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof Wl){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),_=g?`#${sC}=${encodeURIComponent(g)}`:"";return`${rC(s)}?${Zl(p).slice(1)}${_}`}function rC({config:s}){return s.emulator?Xm(s,iC):`https://${s.authDomain}/${nC}`}const am="webStorageSupport";class aC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jT,this._completeRedirectFn=DR,this._overrideRedirectResult=CR}async _openPopup(e,n,r,l){ns(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Yv(e,n,r,_m(),l);return eC(e,c,ep())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await Yv(e,n,r,_m(),l);return uR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(ns(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YR(e),r=new VR(e);return n.register("authEvent",l=>(ye(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},l=>{const c=l?.[0]?.[am];c!==void 0&&n(!!c),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NT()||ST()||Zm()}}const oC=aC;var Xv="@firebase/auth",$v="1.11.1";class lC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cC(s){eo(new Gr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;ye(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(s)},_=new Iw(r,l,c,g);return kw(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),eo(new Gr("auth-internal",e=>{const n=ho(e.getProvider("auth").getImmediate());return(r=>new lC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(Xv,$v,uC(s)),Ks(Xv,$v,"esm2020")}const hC=300,fC=rT("authIdTokenMaxAge")||hC;let Zv=null;const dC=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fC)return;const l=n?.token;Zv!==l&&(Zv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function mC(s=hT()){const e=Km(s,"auth");if(e.isInitialized())return e.getImmediate();const n=Lw(s,{popupRedirectResolver:oC,persistence:[_R,aR,jT]}),r=rT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=dC(c.toString());tR(n,d,()=>d(n.currentUser)),eR(n,p=>d(p))}}const l=iT("auth");return l&&zw(n,`http://${l}`),n}function pC(){return document.getElementsByTagName("head")?.[0]??document}Nw({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Ri("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",pC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cC("Browser");var gC="firebase",yC="12.6.0";Ks(gC,yC,"app");var Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xs,KT;(function(){var s;function e(w,b){function R(){}R.prototype=b.prototype,w.F=b.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(I,D,P){for(var N=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)N[Ge-2]=arguments[Ge];return b.prototype[D].apply(I,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,b,R){R||(R=0);const I=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)I[D]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(D=0;D<16;++D)I[D]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=w.g[0],R=w.g[1],D=w.g[2];let P=w.g[3],N;N=b+(P^R&(D^P))+I[0]+3614090360&4294967295,b=R+(N<<7&4294967295|N>>>25),N=P+(D^b&(R^D))+I[1]+3905402710&4294967295,P=b+(N<<12&4294967295|N>>>20),N=D+(R^P&(b^R))+I[2]+606105819&4294967295,D=P+(N<<17&4294967295|N>>>15),N=R+(b^D&(P^b))+I[3]+3250441966&4294967295,R=D+(N<<22&4294967295|N>>>10),N=b+(P^R&(D^P))+I[4]+4118548399&4294967295,b=R+(N<<7&4294967295|N>>>25),N=P+(D^b&(R^D))+I[5]+1200080426&4294967295,P=b+(N<<12&4294967295|N>>>20),N=D+(R^P&(b^R))+I[6]+2821735955&4294967295,D=P+(N<<17&4294967295|N>>>15),N=R+(b^D&(P^b))+I[7]+4249261313&4294967295,R=D+(N<<22&4294967295|N>>>10),N=b+(P^R&(D^P))+I[8]+1770035416&4294967295,b=R+(N<<7&4294967295|N>>>25),N=P+(D^b&(R^D))+I[9]+2336552879&4294967295,P=b+(N<<12&4294967295|N>>>20),N=D+(R^P&(b^R))+I[10]+4294925233&4294967295,D=P+(N<<17&4294967295|N>>>15),N=R+(b^D&(P^b))+I[11]+2304563134&4294967295,R=D+(N<<22&4294967295|N>>>10),N=b+(P^R&(D^P))+I[12]+1804603682&4294967295,b=R+(N<<7&4294967295|N>>>25),N=P+(D^b&(R^D))+I[13]+4254626195&4294967295,P=b+(N<<12&4294967295|N>>>20),N=D+(R^P&(b^R))+I[14]+2792965006&4294967295,D=P+(N<<17&4294967295|N>>>15),N=R+(b^D&(P^b))+I[15]+1236535329&4294967295,R=D+(N<<22&4294967295|N>>>10),N=b+(D^P&(R^D))+I[1]+4129170786&4294967295,b=R+(N<<5&4294967295|N>>>27),N=P+(R^D&(b^R))+I[6]+3225465664&4294967295,P=b+(N<<9&4294967295|N>>>23),N=D+(b^R&(P^b))+I[11]+643717713&4294967295,D=P+(N<<14&4294967295|N>>>18),N=R+(P^b&(D^P))+I[0]+3921069994&4294967295,R=D+(N<<20&4294967295|N>>>12),N=b+(D^P&(R^D))+I[5]+3593408605&4294967295,b=R+(N<<5&4294967295|N>>>27),N=P+(R^D&(b^R))+I[10]+38016083&4294967295,P=b+(N<<9&4294967295|N>>>23),N=D+(b^R&(P^b))+I[15]+3634488961&4294967295,D=P+(N<<14&4294967295|N>>>18),N=R+(P^b&(D^P))+I[4]+3889429448&4294967295,R=D+(N<<20&4294967295|N>>>12),N=b+(D^P&(R^D))+I[9]+568446438&4294967295,b=R+(N<<5&4294967295|N>>>27),N=P+(R^D&(b^R))+I[14]+3275163606&4294967295,P=b+(N<<9&4294967295|N>>>23),N=D+(b^R&(P^b))+I[3]+4107603335&4294967295,D=P+(N<<14&4294967295|N>>>18),N=R+(P^b&(D^P))+I[8]+1163531501&4294967295,R=D+(N<<20&4294967295|N>>>12),N=b+(D^P&(R^D))+I[13]+2850285829&4294967295,b=R+(N<<5&4294967295|N>>>27),N=P+(R^D&(b^R))+I[2]+4243563512&4294967295,P=b+(N<<9&4294967295|N>>>23),N=D+(b^R&(P^b))+I[7]+1735328473&4294967295,D=P+(N<<14&4294967295|N>>>18),N=R+(P^b&(D^P))+I[12]+2368359562&4294967295,R=D+(N<<20&4294967295|N>>>12),N=b+(R^D^P)+I[5]+4294588738&4294967295,b=R+(N<<4&4294967295|N>>>28),N=P+(b^R^D)+I[8]+2272392833&4294967295,P=b+(N<<11&4294967295|N>>>21),N=D+(P^b^R)+I[11]+1839030562&4294967295,D=P+(N<<16&4294967295|N>>>16),N=R+(D^P^b)+I[14]+4259657740&4294967295,R=D+(N<<23&4294967295|N>>>9),N=b+(R^D^P)+I[1]+2763975236&4294967295,b=R+(N<<4&4294967295|N>>>28),N=P+(b^R^D)+I[4]+1272893353&4294967295,P=b+(N<<11&4294967295|N>>>21),N=D+(P^b^R)+I[7]+4139469664&4294967295,D=P+(N<<16&4294967295|N>>>16),N=R+(D^P^b)+I[10]+3200236656&4294967295,R=D+(N<<23&4294967295|N>>>9),N=b+(R^D^P)+I[13]+681279174&4294967295,b=R+(N<<4&4294967295|N>>>28),N=P+(b^R^D)+I[0]+3936430074&4294967295,P=b+(N<<11&4294967295|N>>>21),N=D+(P^b^R)+I[3]+3572445317&4294967295,D=P+(N<<16&4294967295|N>>>16),N=R+(D^P^b)+I[6]+76029189&4294967295,R=D+(N<<23&4294967295|N>>>9),N=b+(R^D^P)+I[9]+3654602809&4294967295,b=R+(N<<4&4294967295|N>>>28),N=P+(b^R^D)+I[12]+3873151461&4294967295,P=b+(N<<11&4294967295|N>>>21),N=D+(P^b^R)+I[15]+530742520&4294967295,D=P+(N<<16&4294967295|N>>>16),N=R+(D^P^b)+I[2]+3299628645&4294967295,R=D+(N<<23&4294967295|N>>>9),N=b+(D^(R|~P))+I[0]+4096336452&4294967295,b=R+(N<<6&4294967295|N>>>26),N=P+(R^(b|~D))+I[7]+1126891415&4294967295,P=b+(N<<10&4294967295|N>>>22),N=D+(b^(P|~R))+I[14]+2878612391&4294967295,D=P+(N<<15&4294967295|N>>>17),N=R+(P^(D|~b))+I[5]+4237533241&4294967295,R=D+(N<<21&4294967295|N>>>11),N=b+(D^(R|~P))+I[12]+1700485571&4294967295,b=R+(N<<6&4294967295|N>>>26),N=P+(R^(b|~D))+I[3]+2399980690&4294967295,P=b+(N<<10&4294967295|N>>>22),N=D+(b^(P|~R))+I[10]+4293915773&4294967295,D=P+(N<<15&4294967295|N>>>17),N=R+(P^(D|~b))+I[1]+2240044497&4294967295,R=D+(N<<21&4294967295|N>>>11),N=b+(D^(R|~P))+I[8]+1873313359&4294967295,b=R+(N<<6&4294967295|N>>>26),N=P+(R^(b|~D))+I[15]+4264355552&4294967295,P=b+(N<<10&4294967295|N>>>22),N=D+(b^(P|~R))+I[6]+2734768916&4294967295,D=P+(N<<15&4294967295|N>>>17),N=R+(P^(D|~b))+I[13]+1309151649&4294967295,R=D+(N<<21&4294967295|N>>>11),N=b+(D^(R|~P))+I[4]+4149444226&4294967295,b=R+(N<<6&4294967295|N>>>26),N=P+(R^(b|~D))+I[11]+3174756917&4294967295,P=b+(N<<10&4294967295|N>>>22),N=D+(b^(P|~R))+I[2]+718787259&4294967295,D=P+(N<<15&4294967295|N>>>17),N=R+(P^(D|~b))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+b&4294967295,w.g[1]=w.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+P&4294967295}r.prototype.v=function(w,b){b===void 0&&(b=w.length);const R=b-this.blockSize,I=this.C;let D=this.h,P=0;for(;P<b;){if(D==0)for(;P<=R;)l(this,w,P),P+=this.blockSize;if(typeof w=="string"){for(;P<b;)if(I[D++]=w.charCodeAt(P++),D==this.blockSize){l(this,I),D=0;break}}else for(;P<b;)if(I[D++]=w[P++],D==this.blockSize){l(this,I),D=0;break}}this.h=D,this.o+=b},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var b=1;b<w.length-8;++b)w[b]=0;b=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=b&255,b/=256;for(this.v(w),w=Array(16),b=0,R=0;R<4;++R)for(let I=0;I<32;I+=8)w[b++]=this.g[R]>>>I&255;return w};function c(w,b){var R=p;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=b(w)}function d(w,b){this.h=b;const R=[];let I=!0;for(let D=w.length-1;D>=0;D--){const P=w[D]|0;I&&P==b||(R[D]=P,I=!1)}this.g=R}var p={};function g(w){return-128<=w&&w<128?c(w,function(b){return new d([b|0],b<0?-1:0)}):new d([w|0],w<0?-1:0)}function _(w){if(isNaN(w)||!isFinite(w))return S;if(w<0)return te(_(-w));const b=[];let R=1;for(let I=0;w>=R;I++)b[I]=w/R|0,R*=4294967296;return new d(b,0)}function T(w,b){if(w.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(w.charAt(0)=="-")return te(T(w.substring(1),b));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(b,8));let I=S;for(let P=0;P<w.length;P+=8){var D=Math.min(8,w.length-P);const N=parseInt(w.substring(P,P+D),b);D<8?(D=_(Math.pow(b,D)),I=I.j(D).add(_(N))):(I=I.j(R),I=I.add(_(N)))}return I}var S=g(0),V=g(1),q=g(16777216);s=d.prototype,s.m=function(){if(ee(this))return-te(this).m();let w=0,b=1;for(let R=0;R<this.g.length;R++){const I=this.i(R);w+=(I>=0?I:4294967296+I)*b,b*=4294967296}return w},s.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(W(this))return"0";if(ee(this))return"-"+te(this).toString(w);const b=_(Math.pow(w,6));var R=this;let I="";for(;;){const D=Ne(R,b).g;R=fe(R,D.j(b));let P=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=D,W(R))return P+I;for(;P.length<6;)P="0"+P;I=P+I}},s.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function W(w){if(w.h!=0)return!1;for(let b=0;b<w.g.length;b++)if(w.g[b]!=0)return!1;return!0}function ee(w){return w.h==-1}s.l=function(w){return w=fe(this,w),ee(w)?-1:W(w)?0:1};function te(w){const b=w.g.length,R=[];for(let I=0;I<b;I++)R[I]=~w.g[I];return new d(R,~w.h).add(V)}s.abs=function(){return ee(this)?te(this):this},s.add=function(w){const b=Math.max(this.g.length,w.g.length),R=[];let I=0;for(let D=0;D<=b;D++){let P=I+(this.i(D)&65535)+(w.i(D)&65535),N=(P>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=N>>>16,P&=65535,N&=65535,R[D]=N<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function fe(w,b){return w.add(te(b))}s.j=function(w){if(W(this)||W(w))return S;if(ee(this))return ee(w)?te(this).j(te(w)):te(te(this).j(w));if(ee(w))return te(this.j(te(w)));if(this.l(q)<0&&w.l(q)<0)return _(this.m()*w.m());const b=this.g.length+w.g.length,R=[];for(var I=0;I<2*b;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(let D=0;D<w.g.length;D++){const P=this.i(I)>>>16,N=this.i(I)&65535,Ge=w.i(D)>>>16,ut=w.i(D)&65535;R[2*I+2*D]+=N*ut,pe(R,2*I+2*D),R[2*I+2*D+1]+=P*ut,pe(R,2*I+2*D+1),R[2*I+2*D+1]+=N*Ge,pe(R,2*I+2*D+1),R[2*I+2*D+2]+=P*Ge,pe(R,2*I+2*D+2)}for(w=0;w<b;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=b;w<2*b;w++)R[w]=0;return new d(R,0)};function pe(w,b){for(;(w[b]&65535)!=w[b];)w[b+1]+=w[b]>>>16,w[b]&=65535,b++}function ce(w,b){this.g=w,this.h=b}function Ne(w,b){if(W(b))throw Error("division by zero");if(W(w))return new ce(S,S);if(ee(w))return b=Ne(te(w),b),new ce(te(b.g),te(b.h));if(ee(b))return b=Ne(w,te(b)),new ce(te(b.g),b.h);if(w.g.length>30){if(ee(w)||ee(b))throw Error("slowDivide_ only works with positive integers.");for(var R=V,I=b;I.l(w)<=0;)R=z(R),I=z(I);var D=ne(R,1),P=ne(I,1);for(I=ne(I,2),R=ne(R,2);!W(I);){var N=P.add(I);N.l(w)<=0&&(D=D.add(R),P=N),I=ne(I,1),R=ne(R,1)}return b=fe(w,D.j(b)),new ce(D,b)}for(D=S;w.l(b)>=0;){for(R=Math.max(1,Math.floor(w.m()/b.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),P=_(R),N=P.j(b);ee(N)||N.l(w)>0;)R-=I,P=_(R),N=P.j(b);W(P)&&(P=V),D=D.add(P),w=fe(w,N)}return new ce(D,w)}s.B=function(w){return Ne(this,w).h},s.and=function(w){const b=Math.max(this.g.length,w.g.length),R=[];for(let I=0;I<b;I++)R[I]=this.i(I)&w.i(I);return new d(R,this.h&w.h)},s.or=function(w){const b=Math.max(this.g.length,w.g.length),R=[];for(let I=0;I<b;I++)R[I]=this.i(I)|w.i(I);return new d(R,this.h|w.h)},s.xor=function(w){const b=Math.max(this.g.length,w.g.length),R=[];for(let I=0;I<b;I++)R[I]=this.i(I)^w.i(I);return new d(R,this.h^w.h)};function z(w){const b=w.g.length+1,R=[];for(let I=0;I<b;I++)R[I]=w.i(I)<<1|w.i(I-1)>>>31;return new d(R,w.h)}function ne(w,b){const R=b>>5;b%=32;const I=w.g.length-R,D=[];for(let P=0;P<I;P++)D[P]=b>0?w.i(P+R)>>>b|w.i(P+R+1)<<32-b:w.i(P+R);return new d(D,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,KT=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Xs=d}).apply(typeof Jv<"u"?Jv:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var YT,Nl,XT,$c,Tm,$T,ZT,JT;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function l(u,m){if(m)e:{var v=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break e;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=g,_.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,H){for(var ie=Array(arguments.length-2),we=2;we<arguments.length;we++)ie[we-2]=arguments[we];return m.prototype[L].apply(A,ie)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function W(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const H=L.length||0;u.length=v+H;for(let ie=0;ie<H;ie++)u[v+ie]=L[ie]}else u.push(L)}}class ee{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){d.setTimeout(()=>{throw u},0)}function fe(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,v){const A=ce.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ce=new ee(()=>new Ne,u=>u.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let z,ne=!1,w=new pe,b=()=>{const u=Promise.resolve(void 0);z=()=>{u.then(R)}};function R(){for(var u;u=fe();){try{u.h.call(u.g)}catch(v){te(v)}var m=ce;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ne=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function Ge(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Ge,D),Ge.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),G=0;function se(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++G,this.da=this.fa=!1}function J(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Te(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ve(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let H=0;H<$.length;H++)v=$[H],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,v,A,L){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ie=Ce(u,m,A,L);return ie>-1?(m=u[ie],v||(m.fa=!1)):(m=new se(m,this.src,H,!!A,L),m.fa=v,u.push(m)),m};function ve(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(A,L,1),H&&(J(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ce(u,m,v,A){for(let L=0;L<u.length;++L){const H=u[L];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==A)return L}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Ot={};function rt(u,m,v,A,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)rt(u,m[H],v,A,L);return null}return v=So(v),u&&u[ut]?u.J(m,v,p(A)?!!A.capture:!1,L):lr(u,m,v,!1,A,L)}function lr(u,m,v,A,L,H){if(!m)throw Error("Invalid event type");const ie=p(L)?!!L.capture:!!L;let we=ur(u);if(we||(u[ze]=we=new le(u)),v=we.add(m,v,A,ie,H),v.proxy)return v;if(A=Wr(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)P||(L=ie),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(ii(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Wr(){function u(v){return m.call(u.src,u.listener,v)}const m=To;return u}function ea(u,m,v,A,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)ea(u,m[H],v,A,L);else A=p(A)?!!A.capture:!!A,v=So(v),u&&u[ut]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=Ce(m,v,A,L),v>-1&&(J(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=ur(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ce(m,v,A,L)),(v=u>-1?m[u]:null)&&ta(v))}function ta(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ut])ve(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ii(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ur(m))?(ve(v,u),v.h==0&&(v.src=null,m[ze]=null)):J(u)}}}function ii(u){return u in Ot?Ot[u]:Ot[u]="on"+u}function To(u,m){if(u.da)u=!0;else{m=new Ge(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ta(u),u=v.call(A,m)}return u}function ur(u){return u=u[ze],u instanceof le?u:null}var Ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function So(u){return typeof u=="function"?u:(u[Ao]||(u[Ao]=function(m){return u.handleEvent(m)}),u[Ao])}function vt(){I.call(this),this.i=new le(this),this.M=this,this.G=null}S(vt,I),vt.prototype[ut]=!0,vt.prototype.removeEventListener=function(u,m,v,A){ea(this,u,m,v,A)};function Vt(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(A,u),re(m,L)}L=!0;let H,ie;if(v)for(ie=v.length-1;ie>=0;ie--)H=m.g=v[ie],L=as(H,A,!0,m)&&L;if(H=m.g=u,L=as(H,A,!0,m)&&L,L=as(H,A,!1,m)&&L,v)for(ie=0;ie<v.length;ie++)H=m.g=v[ie],L=as(H,A,!1,m)&&L}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)J(v[A]);delete u.g[m],u.h--}}this.G=null},vt.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},vt.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function as(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const ie=m[H];if(ie&&!ie.da&&ie.capture==v){const we=ie.listener,mt=ie.ha||ie.src;ie.fa&&ve(u.i,ie),L=we.call(mt,A)!==!1&&L}}return L&&!A.defaultPrevented}function Xh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function cu(u){u.g=Xh(()=>{u.g=null,u.i&&(u.i=!1,cu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends I{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:cu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(u){I.call(this),this.h=u,this.g={}}S(cr,I);var bo=[];function wo(u){Te(u.g,function(m,v){this.g.hasOwnProperty(v)&&ta(m)},u),u.g={}}cr.prototype.N=function(){cr.Z.N.call(this),wo(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=d.JSON.stringify,$h=d.JSON.parse,hu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function fu(){}function du(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){D.call(this,"d")}S(jt,D);function bn(){D.call(this,"c")}S(bn,D);var dt={},mu=null;function na(){return mu=mu||new vt}dt.Ia="serverreachability";function pu(u){D.call(this,dt.Ia,u)}S(pu,D);function si(u){const m=na();Vt(m,new pu(m))}dt.STAT_EVENT="statevent";function hr(u,m){D.call(this,dt.STAT_EVENT,u),this.stat=m}S(hr,D);function Et(u){const m=na();Vt(m,new hr(m,u))}dt.Ja="timingevent";function ri(u,m){D.call(this,dt.Ja,u),this.size=m}S(ri,D);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Zh(u,m,v,A,L,H){u.info(function(){if(u.g)if(H){var ie="",we=H.split("&");for(let He=0;He<we.length;He++){var mt=we[He].split("=");if(mt.length>1){const at=mt[0];mt=mt[1];const In=at.split("_");ie=In.length>=2&&In[1]=="type"?ie+(at+"="+mt+"&"):ie+(at+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+ie})}function gu(u,m,v,A,L,H,ie){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+H+" "+ie})}function oi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jh(u,v)+(A?" "+A:"")})}function fr(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Jh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return os(H)}catch{return m}}var dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function mr(){}S(mr,fu),mr.prototype.g=function(){return new XMLHttpRequest},Co=new mr;function Mi(u){return encodeURIComponent(String(u))}function yu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function qn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new cr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hn}function Hn(){this.i=null,this.g="",this.h=!1}var Tt={},Ut={};function li(u,m,v){u.M=1,u.A=pr(St(m)),u.u=v,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),ui(u),u.B=St(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),oa(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Hn,u.g=Vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(bo[0]=L.toString()),L=bo);for(let H=0;H<L.length;H++){const ie=rt(v,L[H],A||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),Zh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)e:{const we=Qn(this.g),mt=this.g.ya(),He=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||we!=4||mt==7||(mt==8||He<=0?si(3):si(2)),ci(this);var m=this.g.ca();this.X=m;var v=Wh(this);if(this.o=m==200,gu(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var H=A;break t}}H=null}if(u=H)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,Et(12),mn(this),wn(this);break e}}if(this.R){u=!0;let at;for(;!this.K&&this.C<v.length;)if(at=vu(this,v),at==Ut){we==4&&(this.m=4,Et(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Tt){this.m=4,Et(15),oi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,at,null),hi(this,at);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(ie),ie.P=!0,Et(11))}}else oi(this.i,this.l,v,null),hi(this,v);we==4&&mn(this),this.o&&!this.K&&(we==4?Iu(this.j,this):(this.o=!1,ui(this)))}else Pi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),mn(this),wn(this)}}}catch{}finally{}};function Wh(u){if(!_u(u))return u.g.la();const m=Bt(u.g);if(m==="")return"";let v="";const A=m.length,L=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<A;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(L&&H==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function _u(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function vu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ut:(v=Number(m.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>m.length?Ut:(m=m.slice(A,A+v),u.C=A+v,m)))}qn.prototype.cancel=function(){this.K=!0,mn(this)};function ui(u){u.T=Date.now()+u.H,sa(u,u.H)}function sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(_(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fr(this.i,this.B),this.M!=2&&(si(),Et(17)),mn(this),this.m=2,wn(this)):sa(this,this.T-u)};function wn(u){u.j.I==0||u.K||Iu(u.j,u)}function mn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,wo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||di(v.h,u))){if(!u.L&&di(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fa(v),ps(v);else break e;Ar(v),Et(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(_(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((u.L||v.g==u)&&fa(v),!N(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let He=L[m];const at=He[0];if(!(at<=v.K))if(v.K=at,He=He[1],v.I==2)if(He[0]=="c"){v.M=He[1],v.ba=He[2];const In=He[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const Ei=He[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Kn=He[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(A=1.5*Kn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Yn=u.g;if(Yn){const Sr=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var H=A.h;H.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Do(H,H.h),H.h=null))}if(A.G){const da=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(A.wa=da,Ke(A.J,A.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ie=u;if(A.na=Ou(A,A.L?A.ba:null,A.W),ie.L){Oo(A.h,ie);var we=ie,mt=A.O;mt&&(we.H=mt),we.D&&(ci(we),ui(we)),A.g=ie}else Ru(A);v.i.length>0&&_i(v)}else He[0]!="stop"&&He[0]!="close"||vi(v,7);else v.I==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?vi(v,7):jo(v):He[0]!="noop"&&v.l&&v.l.qa(He),v.A=0)}}si(4)}catch{}}var At=class{constructor(u,m){this.g=u,this.map=m}};function Io(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Do(u,m){u.g?u.g.add(m):u.h=m}function Oo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Io.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var Eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,H=null;A>=0?(L=u[v].substring(0,A),H=u[v].substring(A+1)):L=u[v],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.u),this.h=u.h,Mo(this,bu(u.i)),this.m=u.m):u&&(m=String(u).match(Eu))?(this.l=!1,Lt(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),ls(this,m[4]),this.h=mi(m[5]||"",!0),Mo(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new cs(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gr(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gr(m,aa,!0),"@"),u.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gr(v,v.charAt(0)=="/"?xo:Tu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gr(v,Au)),u.join("")},pn.prototype.resolve=function(u){const m=St(this);let v=!!u.j;v?Lt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)ls(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let ie=0;ie<L.length;){const we=L[ie++];we=="."?A&&ie==L.length&&H.push(""):we==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&ie==L.length&&H.push("")):(H.push(we),A=!0)}A=H.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?Mo(m,bu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function St(u){return new pn(u)}function Lt(u,m,v){u.j=v?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Mo(u,m,v){m instanceof cs?(u.i=m,la(u.i,u.l)):(v||(m=gr(m,us)),u.i=new cs(m,u.l))}function Ke(u,m,v){u.i.set(m,v)}function pr(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,Tu=/[#\?:]/g,xo=/[#\?]/g,us=/[#\?@]/g,Au=/#/g;function cs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ra(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=cs.prototype,s.add=function(u,m){an(this),this.i=null,u=hs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Su(u,m){an(u),m=hs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Po(u,m){return an(u),m=hs(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Uo(u,m){an(u);let v=[];if(typeof m=="string")Po(u,m)&&(v=v.concat(u.g.get(hs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=hs(this,u),Po(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Uo(this,u),u.length>0?String(u[0]):m):m};function oa(u,m,v){Su(u,m),v.length>0&&(u.i=null,u.g.set(hs(u,m),q(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=Mi(v);v=Uo(this,v);for(let H=0;H<v.length;H++){let ie=L;v[H]!==""&&(ie+="="+Mi(v[H])),u.push(ie)}}return this.i=u.join("&")};function bu(u){const m=new cs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function hs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(Su(this,A),oa(this,L,v))},u)),u.j=m}function Fn(u,m){const v=new Bn;if(d.Image){const A=new Image;A.onload=T(Rn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Rn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Rn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Rn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Lo(u,m){const v=new Bn,A=new AbortController,L=setTimeout(()=>{A.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(L),H.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function fs(){this.g=new hu}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(pi,fu),pi.prototype.g=function(){return new yr(this.i,this.h)};function yr(u,m){vt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(yr,vt),s=yr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ds(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ds(this):Gn(this),this.readyState==3&&ua(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ds(this))},s.Na=function(u){this.g&&(this.response=u,ds(this))},s.ga=function(){this.g&&ds(this)};function ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return Te(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function _r(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Cn(v),typeof u=="string"?v!=null&&Mi(v):Ke(u,m,v))}function $e(u){vt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S($e,vt);var gi=/^https?$/i,ko=["POST","PUT"];s=$e.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){vr(this,H);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of v)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){vr(this,H)}};function vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,zo(u),xi(u)}function zo(u){u.A||(u.A=!0,Vt(u,"complete"),Vt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Vt(this,"complete"),Vt(this,"abort"),xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),$e.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Er(this):this.Xa())},s.Xa=function(){Er(this)};function Er(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Vt(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=H===0){let ie=String(u.D).match(Eu)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),A=!gi.test(ie?ie.toLowerCase():"")}v=A}if(v)Vt(u,"complete"),Vt(u,"success");else{u.o=6;try{var L=Qn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",zo(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Vt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),$h(m)}};function Bt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Pi(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(N(u[A]))continue;var v=yu(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[L]||[];m[L]=H,H.push(v)}Ve(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ms(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(u&&u.concurrentRequestLimit),this.Ba=new fs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ms.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){Et(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ou(this,null,this.W),_i(this)};function jo(u){if(ca(u),u.I==3){var m=u.V++,v=St(u.J);if(Ke(v,"SID",u.M),Ke(v,"RID",m),Ke(v,"TYPE","terminate"),Tr(u,v),m=new qn(u,u.j,m),m.M=2,m.A=pr(St(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}Du(u)}function ps(u){u.g&&(qo(u),u.g.cancel(),u.g=null)}function ca(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!No(u.h)&&!u.m){u.m=!0;var m=u.Ea;z||b(),ne||(z(),ne=!0),w.add(m,u),u.D=0}}function ha(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(_(u.Ea,u,m),Nu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new qn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=x(H),re(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=wu(this,L,m),v=St(this.J),Ke(v,"RID",u),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Tr(this,v),H&&(this.R?m="headers="+Mi(Cn(H))+"&"+m:this.u&&_r(v,this.u,H)),Do(this.h,L),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",m),Ke(v,"SID","null"),L.U=!0,li(L,v,null)):li(L,v,m),this.I=2}}else this.I==3&&(u?Bo(this,u):this.i.length==0||No(this.h)||Bo(this))};function Bo(u,m){var v;m?v=m.l:v=u.V++;const A=St(u.J);Ke(A,"SID",u.M),Ke(A,"RID",v),Ke(A,"AID",u.K),Tr(u,A),u.u&&u.o&&_r(A,u.u,u.o),v=new qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=wu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Do(u.h,v),li(v,A,m)}function Tr(u,m){u.H&&Te(u.H,function(v,A){Ke(m,A,v)}),u.l&&Te({},function(v,A){Ke(m,A,v)})}function wu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let we=-1;for(;;){const mt=["count="+v];we==-1?v>0?(we=L[0].g,mt.push("ofs="+we)):we=0:mt.push("ofs="+we);let He=!0;for(let at=0;at<v;at++){var H=L[at].g;const In=L[at].map;if(H-=we,H<0)we=Math.max(0,L[at].g-100),He=!1;else try{H="req"+H+"_"||"";try{var ie=In instanceof Map?In:Object.entries(In);for(const[Ei,Kn]of ie){let Yn=Kn;p(Kn)&&(Yn=os(Kn)),mt.push(H+Ei+"="+encodeURIComponent(Yn))}}catch(Ei){throw mt.push(H+"type="+encodeURIComponent("_badmap")),Ei}}catch{A&&A(In)}}if(He){ie=mt.join("&");break e}}ie=void 0}return u=u.i.splice(0,v),m.G=u,ie}function Ru(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;z||b(),ne||(z(),ne=!0),w.add(m,u),u.A=0}}function Ar(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(_(u.Da,u),Nu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Cu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),ps(this),Cu(this))};function qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Cu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=St(u.na);Ke(m,"RID","rpc"),Ke(m,"SID",u.M),Ke(m,"AID",u.K),Ke(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(m,"TO",u.ia),Ke(m,"TYPE","xmlhttp"),Tr(u,m),u.u&&u.o&&_r(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=pr(St(m)),v.u=null,v.R=!0,ia(v,u)}s.Va=function(){this.C!=null&&(this.C=null,ps(this),Ar(this),Et(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Iu(u,m){var v=null;if(u.g==m){fa(u),qo(u),u.g=null;var A=2}else if(di(u.h,m))v=m.G,Oo(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=na(),Vt(A,new ri(A,v)),_i(u)}else Ru(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&ha(u,m)||A==2&&Ar(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function Nu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const L=!A;A=new pn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Lt(A,"https"),pr(A),L?Fn(A.toString(),v):Lo(A.toString(),v)}else Et(2);u.I=0,u.l&&u.l.pa(m),Du(u),ca(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Du(u){if(u.I=0,u.ja=[],u.l){const m=Vo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Ou(u,m,v){var A=v instanceof pn?St(v):new pn(v);if(A.g!="")m&&(A.g=m+"."+A.g),ls(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new pn(null);A&&Lt(H,A),m&&(H.g=m),L&&ls(H,L),v&&(H.h=v),A=H}return v=u.G,m=u.wa,v&&m&&Ke(A,v,m),Ke(A,"VER",u.ka),Tr(u,A),A}function Vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $e(new pi({ab:v})):new $e(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mu(){}s=Mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){vt.call(this),this.g=new ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}S(nn,vt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){jo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=os(u),u=v);m.i.push(new At(m.Ya++,u)),m.I==3&&_i(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,nn.Z.N.call(this)};function xu(u){jt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(xu,jt);function Pu(){bn.call(this),this.status=1}S(Pu,bn);function Ui(u){this.g=u}S(Ui,Mu),Ui.prototype.ra=function(){Vt(this.g,"a")},Ui.prototype.qa=function(u){Vt(this.g,new xu(u))},Ui.prototype.pa=function(u){Vt(this.g,new Pu)},Ui.prototype.oa=function(){Vt(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,JT=function(){return new gs},ZT=function(){return na()},$T=dt,Tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,$c=dr,Ro.COMPLETE="complete",XT=Ro,du.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Nl=du,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,YT=$e}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const Wv="@firebase/firestore",eE="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let mo="12.3.0";const Kr=new Gm("@firebase/firestore");function Ha(){return Kr.logLevel}function oe(s,...e){if(Kr.logLevel<=Pe.DEBUG){const n=e.map(np);Kr.debug(`Firestore (${mo}): ${s}`,...n)}}function is(s,...e){if(Kr.logLevel<=Pe.ERROR){const n=e.map(np);Kr.error(`Firestore (${mo}): ${s}`,...n)}}function no(s,...e){if(Kr.logLevel<=Pe.WARN){const n=e.map(np);Kr.warn(`Firestore (${mo}): ${s}`,...n)}}function np(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function _e(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,WT(s,r,n)}function WT(s,e,n){let r=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw is(r),new Error(r)}function Qe(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||WT(e,l,r)}function be(s,e){return s}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class e0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _C{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class vC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class EC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new es;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new es,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new es)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string",31837,{l:r}),new e0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class TC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new TC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const r=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class ip{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=bC(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function Ue(s,e){return s<e?-1:s>e?1:0}function Am(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return om(l)===om(c)?Ue(l,c):om(l)?1:-1}return Ue(s.length,e.length)}const wC=55296,RC=57343;function om(s){const e=s.charCodeAt(0);return e>=wC&&e<=RC}function io(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const nE="__name__";class wi{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=wi.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Ue(e.length,n.length)}static compareSegments(e,n){const r=wi.isNumericId(e),l=wi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?wi.extractNumericId(e).compare(wi.extractNumericId(n)):Am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xs.fromString(e.substring(4,e.length-2))}}class tt extends wi{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const CC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends wi{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return CC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nE}static keyField(){return new Kt([nE])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ae(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ae(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ae(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}function t0(s,e,n){if(!n)throw new ae(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function IC(s,e,n,r){if(e===!0&&r===!0)throw new ae(Y.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function iE(s){if(!me.isDocumentKey(s))throw new ae(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function sE(s){if(me.isDocumentKey(s))throw new ae(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function n0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ch(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function kn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ch(s);throw new ae(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Dt(s,e){const n={typeString:s};return e&&(n.value=e),n}function tu(s,e){if(!n0(s))throw new ae(Y.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new ae(Y.INVALID_ARGUMENT,n);return!0}const rE=-62135596800,aE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*aE);return new st(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rE)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Dt("string",st._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new st(0,0))}static max(){return new Ae(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ql=-1;function NC(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Ae.fromTimestamp(r===1e9?new st(n+1,0):new st(n,r));return new Zs(l,me.empty(),e)}function DC(s){return new Zs(s.readTime,s.key,ql)}class Zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zs(Ae.min(),me.empty(),ql)}static max(){return new Zs(Ae.max(),me.empty(),ql)}}function OC(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}const VC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function po(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==VC)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,r)=>{n(e)}))}static reject(e){return new Z(((n,r)=>{r(e)}))}static waitFor(e){return new Z(((n,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(g=>r(g)))})),d=!0,c===l&&n()}))}static or(e){let n=Z.resolve(!1);for(const r of e)n=n.next((l=>l?Z.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new Z(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const _=g;n(e[_]).next((T=>{d[_]=T,++p,p===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new Z(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function xC(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(s){return s.name==="IndexedDbTransactionError"}class Ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ih.ce=-1;const sp=-1;function Nh(s){return s==null}function ch(s){return s===0&&1/s==-1/0}function PC(s){return typeof s=="number"&&Number.isInteger(s)&&!ch(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const i0="";function UC(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=oE(e)),e=LC(s.get(n),e);return oE(e)}function LC(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case i0:n+="";break;default:n+=c}}return n}function oE(s){return s+i0+""}function lE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function rr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function s0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class lt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=l??Qt.EMPTY,this.right=c??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new Qt(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Qt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uE(this.data.getIterator())}getIteratorFrom(e){return new uE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class uE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new xt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return io(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class r0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new r0("Invalid base64 string: "+c):c}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const kC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(s){if(Qe(!!s,39018),typeof s=="string"){let e=0;const n=kC.exec(s);if(Qe(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(s.seconds),nanos:yt(s.nanos)}}function yt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ws(s){return typeof s=="string"?Yt.fromBase64String(s):Yt.fromUint8Array(s)}const a0="server_timestamp",o0="__type__",l0="__previous_value__",u0="__local_write_time__";function rp(s){return(s?.mapValue?.fields||{})[o0]?.stringValue===a0}function Dh(s){const e=s.mapValue.fields[l0];return rp(e)?Dh(e):e}function Hl(s){const e=Js(s.mapValue.fields[u0].timestampValue);return new st(e.seconds,e.nanos)}class zC{constructor(e,n,r,l,c,d,p,g,_,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=_,this.isUsingEmulator=T}}const hh="(default)";class Fl{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}const c0="__type__",jC="__max__",qc={mapValue:{}},h0="__vector__",fh="value";function er(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?rp(s)?4:qC(s)?9007199254740991:BC(s)?10:11:_e(28295,{value:s})}function Vi(s,e){if(s===e)return!0;const n=er(s);if(n!==er(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Hl(s).isEqual(Hl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Js(l.timestampValue),p=Js(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Ws(l.bytesValue).isEqual(Ws(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return yt(l.geoPointValue.latitude)===yt(c.geoPointValue.latitude)&&yt(l.geoPointValue.longitude)===yt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return yt(l.integerValue)===yt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=yt(l.doubleValue),p=yt(c.doubleValue);return d===p?ch(d)===ch(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return io(s.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(lE(d)!==lE(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Vi(d[g],p[g])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Gl(s,e){return(s.values||[]).find((n=>Vi(n,e)))!==void 0}function so(s,e){if(s===e)return 0;const n=er(s),r=er(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=yt(c.integerValue||c.doubleValue),g=yt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return cE(s.timestampValue,e.timestampValue);case 4:return cE(Hl(s),Hl(e));case 5:return Am(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Ws(c),g=Ws(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let _=0;_<p.length&&_<g.length;_++){const T=Ue(p[_],g[_]);if(T!==0)return T}return Ue(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Ue(yt(c.latitude),yt(d.latitude));return p!==0?p:Ue(yt(c.longitude),yt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return hE(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},_=p[fh]?.arrayValue,T=g[fh]?.arrayValue,S=Ue(_?.values?.length||0,T?.values?.length||0);return S!==0?S:hE(_,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===qc.mapValue&&d===qc.mapValue)return 0;if(c===qc.mapValue)return 1;if(d===qc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),_=d.fields||{},T=Object.keys(_);g.sort(),T.sort();for(let S=0;S<g.length&&S<T.length;++S){const V=Am(g[S],T[S]);if(V!==0)return V;const q=so(p[g[S]],_[T[S]]);if(q!==0)return q}return Ue(g.length,T.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function cE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=Js(s),r=Js(e),l=Ue(n.seconds,r.seconds);return l!==0?l:Ue(n.nanos,r.nanos)}function hE(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=so(n[l],r[l]);if(c)return c}return Ue(n.length,r.length)}function ro(s){return Sm(s)}function Sm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Js(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Ws(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return me.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=Sm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Sm(n.fields[d])}`;return l+"}"})(s.mapValue):_e(61005,{value:s})}function Zc(s){switch(er(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(s);return e?16+Zc(e):16;case 5:return 2*s.stringValue.length;case 6:return Ws(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Zc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return rr(r.fields,((c,d)=>{l+=c.length+Zc(d)})),l})(s.mapValue);default:throw _e(13486,{value:s})}}function fE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function bm(s){return!!s&&"integerValue"in s}function ap(s){return!!s&&"arrayValue"in s}function dE(s){return!!s&&"nullValue"in s}function mE(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Jc(s){return!!s&&"mapValue"in s}function BC(s){return(s?.mapValue?.fields||{})[c0]?.stringValue===h0}function Pl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return rr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Pl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(s.arrayValue.values[n]);return e}return{...s}}function qC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===jC}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=Kt.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=Pl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());Jc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Jc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){rr(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new dn(Pl(this.value))}}function f0(s){const e=[];return rr(s.fields,((n,r)=>{const l=new Kt([n]);if(Jc(r)){const c=f0(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Sn(e)}class Wt{constructor(e,n,r,l,c,d,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),dn.empty(),0)}static newFoundDocument(e,n,r,l){return new Wt(e,1,n,Ae.min(),r,l,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ae.min(),Ae.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ae.min(),Ae.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dh{constructor(e,n){this.position=e,this.inclusive=n}}function pE(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=me.comparator(me.fromName(d.referenceValue),n.key):r=so(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function gE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Vi(s.position[n],e.position[n]))return!1;return!0}class Ql{constructor(e,n="asc"){this.field=e,this.dir=n}}function HC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class d0{}class Nt extends d0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new GC(e,n,r):n==="array-contains"?new YC(e,r):n==="in"?new XC(e,r):n==="not-in"?new $C(e,r):n==="array-contains-any"?new ZC(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QC(e,r):new KC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(so(n,this.value)):n!==null&&er(this.value)===er(n)&&this.matchesComparison(so(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends d0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ni(e,n)}matches(e){return m0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function m0(s){return s.op==="and"}function p0(s){return FC(s)&&m0(s)}function FC(s){for(const e of s.filters)if(e instanceof ni)return!1;return!0}function wm(s){if(s instanceof Nt)return s.field.canonicalString()+s.op.toString()+ro(s.value);if(p0(s))return s.filters.map((e=>wm(e))).join(",");{const e=s.filters.map((n=>wm(n))).join(",");return`${s.op}(${e})`}}function g0(s,e){return s instanceof Nt?(function(r,l){return l instanceof Nt&&r.op===l.op&&r.field.isEqual(l.field)&&Vi(r.value,l.value)})(s,e):s instanceof ni?(function(r,l){return l instanceof ni&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&g0(d,l.filters[p])),!0):!1})(s,e):void _e(19439)}function y0(s){return s instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`})(s):s instanceof ni?(function(n){return n.op.toString()+" {"+n.getFilters().map(y0).join(" ,")+"}"})(s):"Filter"}class GC extends Nt{constructor(e,n,r){super(e,n,r),this.key=me.fromName(r.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class QC extends Nt{constructor(e,n){super(e,"in",n),this.keys=_0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class KC extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=_0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _0(s,e){return(e.arrayValue?.values||[]).map((n=>me.fromName(n.referenceValue)))}class YC extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ap(n)&&Gl(n.arrayValue,this.value)}}class XC extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class $C extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gl(this.value.arrayValue,n)}}class ZC extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Gl(this.value.arrayValue,r)))}}class JC{constructor(e,n=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function yE(s,e=null,n=[],r=[],l=null,c=null,d=null){return new JC(s,e,n,r,l,c,d)}function op(s){const e=be(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>wm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Nh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>ro(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>ro(r))).join(",")),e.Te=n}return e.Te}function lp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!HC(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!g0(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!gE(s.startAt,e.startAt)&&gE(s.endAt,e.endAt)}function Rm(s){return me.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class yo{constructor(e,n=null,r=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WC(s,e,n,r,l,c,d,p){return new yo(s,e,n,r,l,c,d,p)}function Oh(s){return new yo(s)}function _E(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function v0(s){return s.collectionGroup!==null}function Ul(s){const e=be(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new xt(Kt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ql(c,r))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Ql(Kt.keyField(),r))}return e.Ie}function Ii(s){const e=be(s);return e.Ee||(e.Ee=eI(e,Ul(s))),e.Ee}function eI(s,e){if(s.limitType==="F")return yE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Ql(l.field,c)}));const n=s.endAt?new dh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new dh(s.startAt.position,s.startAt.inclusive):null;return yE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Cm(s,e){const n=s.filters.concat([e]);return new yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Im(s,e,n){return new yo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Vh(s,e){return lp(Ii(s),Ii(e))&&s.limitType===e.limitType}function E0(s){return`${op(Ii(s))}|lt:${s.limitType}`}function Fa(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>y0(l))).join(", ")}]`),Nh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>ro(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>ro(l))).join(",")),`Target(${r})`})(Ii(s))}; limitType=${s.limitType})`}function Mh(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):me.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of Ul(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const _=pE(d,p,g);return d.inclusive?_<=0:_<0})(r.startAt,Ul(r),l)||r.endAt&&!(function(d,p,g){const _=pE(d,p,g);return d.inclusive?_>=0:_>0})(r.endAt,Ul(r),l))})(s,e)}function tI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function T0(s){return(e,n)=>{let r=!1;for(const l of Ul(s)){const c=nI(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function nI(s,e,n){const r=s.field.isKeyField()?me.comparator(e.key,n.key):(function(c,d,p){const g=d.data.field(c),_=p.data.field(c);return g!==null&&_!==null?so(g,_):_e(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:s.dir})}}class $r{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){rr(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return s0(this.inner)}size(){return this.innerSize}}const iI=new lt(me.comparator);function ss(){return iI}const A0=new lt(me.comparator);function Dl(...s){let e=A0;for(const n of s)e=e.insert(n.key,n);return e}function S0(s){let e=A0;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function jr(){return Ll()}function b0(){return Ll()}function Ll(){return new $r((s=>s.toString()),((s,e)=>s.isEqual(e)))}const sI=new lt(me.comparator),rI=new xt(me.comparator);function Le(...s){let e=rI;for(const n of s)e=e.add(n);return e}const aI=new xt(Ue);function oI(){return aI}function up(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function w0(s){return{integerValue:""+s}}function lI(s,e){return PC(e)?w0(e):up(s,e)}class xh{constructor(){this._=void 0}}function uI(s,e,n){return s instanceof mh?(function(l,c){const d={fields:{[o0]:{stringValue:a0},[u0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&rp(c)&&(c=Dh(c)),c&&(d.fields[l0]=c),{mapValue:d}})(n,e):s instanceof Kl?C0(s,e):s instanceof Yl?I0(s,e):(function(l,c){const d=R0(l,c),p=vE(d)+vE(l.Ae);return bm(d)&&bm(l.Ae)?w0(p):up(l.serializer,p)})(s,e)}function cI(s,e,n){return s instanceof Kl?C0(s,e):s instanceof Yl?I0(s,e):n}function R0(s,e){return s instanceof ph?(function(r){return bm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class mh extends xh{}class Kl extends xh{constructor(e){super(),this.elements=e}}function C0(s,e){const n=N0(e);for(const r of s.elements)n.some((l=>Vi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class Yl extends xh{constructor(e){super(),this.elements=e}}function I0(s,e){let n=N0(e);for(const r of s.elements)n=n.filter((l=>!Vi(l,r)));return{arrayValue:{values:n}}}class ph extends xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vE(s){return yt(s.integerValue||s.doubleValue)}function N0(s){return ap(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function hI(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Kl&&l instanceof Kl||r instanceof Yl&&l instanceof Yl?io(r.elements,l.elements,Vi):r instanceof ph&&l instanceof ph?Vi(r.Ae,l.Ae):r instanceof mh&&l instanceof mh})(s.transform,e.transform)}class fI{constructor(e,n){this.version=e,this.transformResults=n}}class ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ph{}function D0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new cp(s.key,ei.none()):new nu(s.key,s.data,ei.none());{const n=s.data,r=dn.empty();let l=new xt(Kt.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new ar(s.key,r,new Sn(l.toArray()),ei.none())}}function dI(s,e,n){s instanceof nu?(function(l,c,d){const p=l.value.clone(),g=TE(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof ar?(function(l,c,d){if(!Wc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=TE(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(O0(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function kl(s,e,n,r){return s instanceof nu?(function(c,d,p,g){if(!Wc(c.precondition,d))return p;const _=c.value.clone(),T=AE(c.fieldTransforms,g,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,n,r):s instanceof ar?(function(c,d,p,g){if(!Wc(c.precondition,d))return p;const _=AE(c.fieldTransforms,g,d),T=d.data;return T.setAll(O0(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,n,r):(function(c,d,p){return Wc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function mI(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=R0(r.transform,l||null);c!=null&&(n===null&&(n=dn.empty()),n.set(r.field,c))}return n||null}function EE(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&io(r,l,((c,d)=>hI(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class nu extends Ph{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ar extends Ph{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function O0(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function TE(s,e,n){const r=new Map;Qe(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,cI(d,p,n[l]))}return r}function AE(s,e,n){const r=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);r.set(l.field,uI(c,d,e))}return r}class cp extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pI extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gI{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&dI(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=b0();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const g=D0(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Ae.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&io(this.mutations,e.mutations,((n,r)=>EE(n,r)))&&io(this.baseMutations,e.baseMutations,((n,r)=>EE(n,r)))}}class hp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){Qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return sI})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new hp(e,n,r,l)}}class yI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _I{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,je;function vI(s){switch(s){case Y.OK:return _e(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function V0(s){if(s===void 0)return is("GRPC error has no .code"),Y.UNKNOWN;switch(s){case It.OK:return Y.OK;case It.CANCELLED:return Y.CANCELLED;case It.UNKNOWN:return Y.UNKNOWN;case It.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case It.INTERNAL:return Y.INTERNAL;case It.UNAVAILABLE:return Y.UNAVAILABLE;case It.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case It.NOT_FOUND:return Y.NOT_FOUND;case It.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case It.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case It.ABORTED:return Y.ABORTED;case It.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case It.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case It.DATA_LOSS:return Y.DATA_LOSS;default:return _e(39323,{code:s})}}(je=It||(It={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function EI(){return new TextEncoder}const TI=new Xs([4294967295,4294967295],0);function SE(s){const e=EI().encode(s),n=new KT;return n.update(e),new Uint8Array(n.digest())}function bE(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Xs([n,r],0),new Xs([l,c],0)]}class fp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xs.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(Xs.fromNumber(r)));return l.compare(TI)===1&&(l=new Xs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=SE(e),[r,l]=bE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new fp(c,l,n);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=SE(e),[r,l]=bE(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Uh(Ae.min(),l,new lt(Ue),ss(),Le())}}class iu{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new iu(r,n,Le(),Le(),Le())}}class eh{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class M0{constructor(e,n){this.targetId=e,this.Ce=n}}class x0{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class wE{constructor(){this.ve=0,this.Fe=RE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),r=Le();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:_e(38017,{changeType:c})}})),new iu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=RE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.Je=Hc(),this.He=Hc(),this.Ye=new lt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Rm(c))if(r===0){const d=new me(c.path);this.et(n,d,Wt.newNoDocument(d,Ae.min()))}else Qe(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=Ws(r).toUint8Array()}catch(g){if(g instanceof r0)return no("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new fp(d,l,c)}catch(g){return no(g instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Rm(p.target)){const g=new me(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Wt.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let r=Le();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const _=this.ot(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Uh(e,n,this.Ye,this.je,r);return this.je=ss(),this.Je=Hc(),this.He=Hc(),this.Ye=new lt(Ue),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new wE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new xt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new xt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Hc(){return new lt(me.comparator)}function RE(){return new lt(me.comparator)}const SI={asc:"ASCENDING",desc:"DESCENDING"},bI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wI={and:"AND",or:"OR"};class RI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nm(s,e){return s.useProto3Json||Nh(e)?e:{value:e}}function gh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function CI(s,e){return gh(s,e.toTimestamp())}function Ni(s){return Qe(!!s,49232),Ae.fromTimestamp((function(n){const r=Js(n);return new st(r.seconds,r.nanos)})(s))}function dp(s,e){return Dm(s,e).canonicalString()}function Dm(s,e){const n=(function(l){return new tt(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function U0(s){const e=tt.fromString(s);return Qe(B0(e),10190,{key:e.toString()}),e}function Om(s,e){return dp(s.databaseId,e.path)}function lm(s,e){const n=U0(e);if(n.get(1)!==s.databaseId.projectId)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new ae(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new me(k0(n))}function L0(s,e){return dp(s.databaseId,e)}function II(s){const e=U0(s);return e.length===4?tt.emptyPath():k0(e)}function Vm(s){return new tt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function k0(s){return Qe(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function CE(s,e,n){return{name:Om(s,e),fields:n.value.mapValue.fields}}function NI(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(Qe(T===void 0||typeof T=="string",58123),Yt.fromBase64String(T||"")):(Qe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Yt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const T=_.code===void 0?Y.UNKNOWN:V0(_.code);return new ae(T,_.message||"")})(d);n=new x0(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=lm(s,r.document.name),c=Ni(r.document.updateTime),d=r.document.createTime?Ni(r.document.createTime):Ae.min(),p=new dn({mapValue:{fields:r.document.fields}}),g=Wt.newFoundDocument(l,c,d,p),_=r.targetIds||[],T=r.removedTargetIds||[];n=new eh(_,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=lm(s,r.document),c=r.readTime?Ni(r.readTime):Ae.min(),d=Wt.newNoDocument(l,c),p=r.removedTargetIds||[];n=new eh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=lm(s,r.document),c=r.removedTargetIds||[];n=new eh([],c,l,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new _I(l,c),p=r.targetId;n=new M0(p,d)}}return n}function DI(s,e){let n;if(e instanceof nu)n={update:CE(s,e.key,e.value)};else if(e instanceof cp)n={delete:Om(s,e.key)};else if(e instanceof ar)n={update:CE(s,e.key,e.data),updateMask:zI(e.fieldMask)};else{if(!(e instanceof pI))return _e(16599,{Vt:e.type});n={verify:Om(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof mh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Yl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ph)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _e(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:CI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),n}function OI(s,e){return s&&s.length>0?(Qe(e!==void 0,14353),s.map((n=>(function(l,c){let d=l.updateTime?Ni(l.updateTime):Ni(c);return d.isEqual(Ae.min())&&(d=Ni(c)),new fI(d,l.transformResults||[])})(n,e)))):[]}function VI(s,e){return{documents:[L0(s,e.path)]}}function MI(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L0(s,l);const c=(function(_){if(_.length!==0)return j0(ni.create(_,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((T=>(function(V){return{field:Ga(V.field),direction:UI(V.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Nm(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:l}}function xI(s){let e=II(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){Qe(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(S){const V=z0(S);return V instanceof ni&&p0(V)?V.getFilters():[V]})(n.where));let d=[];n.orderBy&&(d=(function(S){return S.map((V=>(function(W){return new Ql(Qa(W.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(V)))})(n.orderBy));let p=null;n.limit&&(p=(function(S){let V;return V=typeof S=="object"?S.value:S,Nh(V)?null:V})(n.limit));let g=null;n.startAt&&(g=(function(S){const V=!!S.before,q=S.values||[];return new dh(q,V)})(n.startAt));let _=null;return n.endAt&&(_=(function(S){const V=!S.before,q=S.values||[];return new dh(q,V)})(n.endAt)),WC(e,l,d,c,p,"F",g,_)}function PI(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function z0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qa(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(n.unaryFilter.field);return Nt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(n.unaryFilter.field);return Nt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(n.unaryFilter.field);return Nt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Nt.create(Qa(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return ni.create(n.compositeFilter.filters.map((r=>z0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(s):_e(30097,{filter:s})}function UI(s){return SI[s]}function LI(s){return bI[s]}function kI(s){return wI[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Qa(s){return Kt.fromServerFormat(s.fieldPath)}function j0(s){return s instanceof Nt?(function(n){if(n.op==="=="){if(mE(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(dE(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mE(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(dE(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:LI(n.op),value:n.value}}})(s):s instanceof ni?(function(n){const r=n.getFilters().map((l=>j0(l)));return r.length===1?r[0]:{compositeFilter:{op:kI(n.op),filters:r}}})(s):_e(54877,{filter:s})}function zI(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function B0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Fs{constructor(e,n,r,l,c=Ae.min(),d=Ae.min(),p=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class jI{constructor(e){this.yt=e}}function BI(s){const e=xI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Im(e,e.limit,"L"):e}class qI{constructor(){this.Cn=new HI}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Zs.min())}updateCollectionGroup(e,n,r){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class HI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new xt(tt.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new xt(tt.comparator)).toArray()}}const IE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q0=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(q0,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ao(0)}static cr(){return new ao(-1)}}const NE="LruGarbageCollector",FI=1048576;function DE([s,e],[n,r]){const l=Ue(s,n);return l===0?Ue(e,r):l}class GI{constructor(e){this.Ir=e,this.buffer=new xt(DE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();DE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QI{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(NE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?oe(NE,"Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.Vr(3e5)}))}}class KI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Ih.ce);const r=new GI(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(IE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,c,d,p,g,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(e,r,n)))).next((S=>(c=S,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((S=>(_=Date.now(),Ha()<=Pe.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function YI(s,e){return new KI(s,e)}class XI{constructor(){this.changes=new $r((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $I{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class ZI{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&kl(r.mutation,l,Sn.empty(),st.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Le()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Le()){const l=jr();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let d=Dl();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=jr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Le())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,r,l){let c=ss();const d=Ll(),p=(function(){return Ll()})();return n.forEach(((g,_)=>{const T=r.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof ar)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),kl(T.mutation,_,T.mutation.getFieldMask(),st.now())):d.set(_.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((_,T)=>d.set(_,T))),n.forEach(((_,T)=>p.set(_,new $I(T,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=Ll();let l=new lt(((d,p)=>d-p)),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const _=n.get(g);if(_===null)return;let T=r.get(g)||Sn.empty();T=p.applyToLocalView(_,T),r.set(g,T);const S=(l.get(p.batchId)||Le()).add(g);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),_=g.key,T=g.value,S=b0();T.forEach((V=>{if(!c.has(V)){const q=D0(n.get(V),r.get(V));q!==null&&S.set(V,q),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,S))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(d){return me.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):Z.resolve(jr());let p=ql,g=c;return d.next((_=>Z.forEach(_,((T,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((V=>{g=g.insert(T,V)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,g,_,Le()))).next((T=>({batchId:p,changes:S0(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next((r=>{let l=Dl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let d=Dl();return this.indexManager.getCollectionParents(e,c).next((p=>Z.forEach(p,(g=>{const _=(function(S,V){return new yo(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,l).next((T=>{T.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((d=>{c.forEach(((g,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Wt.newInvalidDocument(T)))}));let p=Dl();return d.forEach(((g,_)=>{const T=c.get(g);T!==void 0&&kl(T.mutation,_,Sn.empty(),st.now()),Mh(n,_)&&(p=p.insert(g,_))})),p}))}}class JI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Ni(l.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:BI(l.bundledQuery),readTime:Ni(l.readTime)}})(n)),Z.resolve()}}class WI{constructor(){this.overlays=new lt(me.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jr();return Z.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.St(e,n,c)})),Z.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,n,r){const l=jr(),c=n.length+1,d=new me(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new lt(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let T=c.get(_.largestBatchId);T===null&&(T=jr(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const p=jr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((_,T)=>p.set(_,T))),!(p.size()>=l)););return Z.resolve(p)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new yI(n,r));let c=this.qr.get(n);c===void 0&&(c=Le(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}class eN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}class mp{constructor(){this.Qr=new xt(zt.$r),this.Ur=new xt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new me(new tt([])),r=new zt(n,e),l=new zt(n,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new me(new tt([])),r=new zt(n,e),l=new zt(n,e+1);let c=Le();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new zt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return me.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||me.comparator(e.key,n.key)}}class tN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xt(zt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gI(c,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new zt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?sp:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),l=new zt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Ue);return n.forEach((l=>{const c=new zt(l,0),d=new zt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;me.isDocumentKey(c)||(c=c.child(""));const d=new zt(new me(c),0);let p=new xt(Ue);return this.Zr.forEachWhile((g=>{const _=g.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(g.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(n.mutations,(l=>{const c=new zt(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new zt(n,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class nN{constructor(e){this.ri=e,this.docs=(function(){return new lt(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Z.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=ss();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Wt.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=ss();const d=n.path,p=new me(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:_,value:{document:T}}=g.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||OC(DC(T),r)<=0||(l.has(T.key)||Mh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,n,r,l){_e(9500)}ii(e,n){return Z.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new iN(this)}getSize(e){return Z.resolve(this.size)}}class iN extends XI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class sN{constructor(e){this.persistence=e,this.si=new $r((n=>op(n)),lp),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new mp,this.targetCount=0,this.ai=ao.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ao(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return Z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),Z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return Z.resolve(r)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}class H0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ih(0),this.li=!1,this.li=!0,this.hi=new eN,this.referenceDelegate=e(this),this.Pi=new sN(this),this.indexManager=new qI,this.remoteDocumentCache=(function(l){return new nN(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new jI(n),this.Ii=new JI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new tN(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const l=new rN(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class rN extends MC{constructor(e){super(),this.currentSequenceNumber=e}}class pp{constructor(e){this.persistence=e,this.Ri=new mp,this.Vi=null}static mi(e){return new pp(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=me.fromPath(r);return this.gi(e,l).next((c=>{c||n.removeEntry(l,Ae.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.pi=new $r((r=>UC(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=YI(this,n)}static mi(e,n){return new yh(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?Z.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(r++,c.removeEntry(d,Ae.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}br(e,n,r){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gp{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Le(),l=Le();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new gp(e,n.fromCache,r,l)}}class aN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kb()?8:xC(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new aN;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(Ha()<=Pe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ha()<=Pe.DEBUG&&oe("QueryEngine","Query:",Fa(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ha()<=Pe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ii(n))):Z.resolve())}ys(e,n){if(_E(n))return Z.resolve(null);let r=Ii(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Im(n,null,"F"),r=Ii(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Le(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const _=this.Ds(n,p);return this.Cs(n,_,d,g.readTime)?this.ys(e,Im(n,null,"F")):this.vs(e,_,n,g)}))))})))))}ws(e,n,r,l){return _E(n)||l.isEqual(Ae.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,r,l)?Z.resolve(null):(Ha()<=Pe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(n)),this.vs(e,d,n,NC(l,ql)).next((p=>p)))}))}Ds(e,n){let r=new xt(T0(e));return n.forEach(((l,c)=>{Mh(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,r){return Ha()<=Pe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.ps.getDocumentsMatchingQuery(e,n,Zs.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const yp="LocalStore",lN=3e8;class uN{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new lt(Ue),this.xs=new $r((c=>op(c)),lp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function cN(s,e,n,r){return new uN(s,e,n,r)}async function F0(s,e){const n=be(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let g=Le();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}for(const _ of c){p.push(_.batchId);for(const T of _.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function hN(s,e){const n=be(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,_,T){const S=_.batch,V=S.keys();let q=Z.resolve();return V.forEach((W=>{q=q.next((()=>T.getEntry(g,W))).next((ee=>{const te=_.docVersions.get(W);Qe(te!==null,48541),ee.version.compareTo(te)<0&&(S.applyToRemoteDocument(ee,_),ee.isValidDocument()&&(ee.setReadTime(_.commitVersion),T.addEntry(ee)))}))})),q.next((()=>p.mutationQueue.removeMutationBatch(g,S)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Le();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(g=g.add(p.batch.mutations[_].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function G0(s){const e=be(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function fN(s,e){const n=be(s),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((T,S)=>{const V=l.get(S);if(!V)return;p.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,S).next((()=>n.Pi.addMatchingKeys(c,T.addedDocuments,S))));let q=V.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?q=q.withResumeToken(Yt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,r)),l=l.insert(S,q),(function(ee,te,fe){return ee.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=lN?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(V,q,T)&&p.push(n.Pi.updateTargetData(c,q))}));let g=ss(),_=Le();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(dN(c,d,e.documentUpdates).next((T=>{g=T.ks,_=T.qs}))),!r.isEqual(Ae.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next((S=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,_))).next((()=>g))})).then((c=>(n.Ms=l,c)))}function dN(s,e,n){let r=Le(),l=Le();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=ss();return n.forEach(((p,g)=>{const _=c.get(p);g.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(Ae.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):oe(yp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function mN(s,e){const n=be(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=sp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function pN(s,e){const n=be(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((c=>c?(l=c,Z.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new Fs(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Mm(s,e,n){const r=be(s),l=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!go(d))throw d;oe(yp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function OE(s,e,n){const r=be(s);let l=Ae.min(),c=Le();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,_,T){const S=be(g),V=S.xs.get(T);return V!==void 0?Z.resolve(S.Ms.get(V)):S.Pi.getTargetData(_,T)})(r,d,Ii(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,n?l:Ae.min(),n?c:Le()))).next((p=>(gN(r,tI(e),p),{documents:p,Qs:c})))))}function gN(s,e,n){let r=s.Os.get(e)||Ae.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class VE{constructor(){this.activeTargetIds=oI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yN{constructor(){this.Mo=new VE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new VE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _N{Oo(e){}shutdown(){}}const ME="ConnectivityMonitor";class xE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(ME,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(ME,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Fc=null;function xm(){return Fc===null?Fc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Fc++,"0x"+Fc.toString(16)}const um="RestConnection",vN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===hh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,c){const d=xm(),p=this.zo(e,n.toUriEncodedString());oe(um,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:_}=new URL(p),T=uo(_);return this.Jo(e,p,g,r,T).then((S=>(oe(um,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw no(um,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(e,n,r,l,c,d){return this.Go(e,n,r,l,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const r=vN[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class TN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Zt="WebChannelConnection";class AN extends EN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,c){const d=xm();return new Promise(((p,g)=>{const _=new YT;_.setWithCredentials(!0),_.listenOnce(XT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case $c.NO_ERROR:const S=_.getResponseJson();oe(Zt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case $c.TIMEOUT:oe(Zt,`RPC '${e}' ${d} timed out`),g(new ae(Y.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const V=_.getStatus();if(oe(Zt,`RPC '${e}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const W=q?.error;if(W&&W.status&&W.message){const ee=(function(fe){const pe=fe.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(pe)>=0?pe:Y.UNKNOWN})(W.status);g(new ae(ee,W.message))}else g(new ae(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ae(Y.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{oe(Zt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);oe(Zt,`RPC '${e}' ${d} sending request:`,l),_.send(n,"POST",T,r,15)}))}T_(e,n,r){const l=xm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=JT(),p=ZT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const T=c.join("");oe(Zt,`Creating RPC '${e}' stream ${l}: ${T}`,g);const S=d.createWebChannel(T,g);this.I_(S);let V=!1,q=!1;const W=new TN({Yo:te=>{q?oe(Zt,`Not sending because RPC '${e}' stream ${l} is closed:`,te):(V||(oe(Zt,`Opening RPC '${e}' stream ${l} transport.`),S.open(),V=!0),oe(Zt,`RPC '${e}' stream ${l} sending:`,te),S.send(te))},Zo:()=>S.close()}),ee=(te,fe,pe)=>{te.listen(fe,(ce=>{try{pe(ce)}catch(Ne){setTimeout((()=>{throw Ne}),0)}}))};return ee(S,Nl.EventType.OPEN,(()=>{q||(oe(Zt,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),ee(S,Nl.EventType.CLOSE,(()=>{q||(q=!0,oe(Zt,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(S))})),ee(S,Nl.EventType.ERROR,(te=>{q||(q=!0,no(Zt,`RPC '${e}' stream ${l} transport errored. Name:`,te.name,"Message:",te.message),W.a_(new ae(Y.UNAVAILABLE,"The operation could not be completed")))})),ee(S,Nl.EventType.MESSAGE,(te=>{if(!q){const fe=te.data[0];Qe(!!fe,16349);const pe=fe,ce=pe?.error||pe[0]?.error;if(ce){oe(Zt,`RPC '${e}' stream ${l} received error:`,ce);const Ne=ce.status;let z=(function(b){const R=It[b];if(R!==void 0)return V0(R)})(Ne),ne=ce.message;z===void 0&&(z=Y.INTERNAL,ne="Unknown error status: "+Ne+" with message "+ce.message),q=!0,W.a_(new ae(z,ne)),S.close()}else oe(Zt,`RPC '${e}' stream ${l} received:`,fe),W.u_(fe)}})),ee(p,$T.STAT_EVENT,(te=>{te.stat===Tm.PROXY?oe(Zt,`RPC '${e}' stream ${l} detected buffering proxy`):te.stat===Tm.NOPROXY&&oe(Zt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function cm(){return typeof document<"u"?document:null}function Lh(s){return new RI(s,!0)}class Q0{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const PE="PersistentStream";class K0{constructor(e,n,r,l,c,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new ae(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(PE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(PE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SN extends K0{constructor(e,n,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=NI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Ae.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ae.min():d.readTime?Ni(d.readTime):Ae.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Vm(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=Rm(g)?{documents:VI(c,g)}:{query:MI(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=P0(c,d.resumeToken);const _=Nm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ae.min())>0){p.readTime=gh(c,d.snapshotVersion.toTimestamp());const _=Nm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=PI(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Vm(this.serializer),n.removeTarget=e,this.q_(n)}}class bN extends K0{constructor(e,n,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OI(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Vm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>DI(this.serializer,r)))};this.q_(n)}}class wN{}class RN extends wN{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,Dm(n,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ae(Y.UNKNOWN,c.toString())}))}Ho(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Dm(n,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae(Y.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class CN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yr="RemoteStore";class IN{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Zr(this)&&(oe(Yr,"Restarting streams for network reachability change."),await(async function(g){const _=be(g);_.Ea.add(4),await su(_),_.Ra.set("Unknown"),_.Ea.delete(4),await kh(_)})(this))}))})),this.Ra=new CN(r,l)}}async function kh(s){if(Zr(s))for(const e of s.da)await e(!0)}async function su(s){for(const e of s.da)await e(!1)}function Y0(s,e){const n=be(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tp(n)?Ep(n):_o(n).O_()&&vp(n,e))}function _p(s,e){const n=be(s),r=_o(n);n.Ia.delete(e),r.O_()&&X0(n,e),n.Ia.size===0&&(r.O_()?r.L_():Zr(n)&&n.Ra.set("Unknown"))}function vp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(s).Y_(e)}function X0(s,e){s.Va.Ue(e),_o(s).Z_(e)}function Ep(s){s.Va=new AI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),_o(s).start(),s.Ra.ua()}function Tp(s){return Zr(s)&&!_o(s).x_()&&s.Ia.size>0}function Zr(s){return be(s).Ea.size===0}function $0(s){s.Va=void 0}async function NN(s){s.Ra.set("Online")}async function DN(s){s.Ia.forEach(((e,n)=>{vp(s,e)}))}async function ON(s,e){$0(s),Tp(s)?(s.Ra.ha(e),Ep(s)):s.Ra.set("Unknown")}async function VN(s,e,n){if(s.Ra.set("Online"),e instanceof x0&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){oe(Yr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _h(s,r)}else if(e instanceof eh?s.Va.Ze(e):e instanceof M0?s.Va.st(e):s.Va.tt(e),!n.isEqual(Ae.min()))try{const r=await G0(s.localStore);n.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,_)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(Yt.EMPTY_BYTE_STRING,T.snapshotVersion)),X0(c,g);const S=new Fs(T.target,g,_,T.sequenceNumber);vp(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){oe(Yr,"Failed to raise snapshot:",r),await _h(s,r)}}async function _h(s,e,n){if(!go(e))throw e;s.Ea.add(1),await su(s),s.Ra.set("Offline"),n||(n=()=>G0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(Yr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await kh(s)}))}function Z0(s,e){return e().catch((n=>_h(s,n,e)))}async function zh(s){const e=be(s),n=tr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sp;for(;MN(e);)try{const l=await mN(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,xN(e,l)}catch(l){await _h(e,l)}J0(e)&&W0(e)}function MN(s){return Zr(s)&&s.Ta.length<10}function xN(s,e){s.Ta.push(e);const n=tr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function J0(s){return Zr(s)&&!tr(s).x_()&&s.Ta.length>0}function W0(s){tr(s).start()}async function PN(s){tr(s).ra()}async function UN(s){const e=tr(s);for(const n of s.Ta)e.ea(n.mutations)}async function LN(s,e,n){const r=s.Ta.shift(),l=hp.from(r,e,n);await Z0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await zh(s)}async function kN(s,e){e&&tr(s).X_&&await(async function(r,l){if((function(d){return vI(d)&&d!==Y.ABORTED})(l.code)){const c=r.Ta.shift();tr(r).B_(),await Z0(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await zh(r)}})(s,e),J0(s)&&W0(s)}async function UE(s,e){const n=be(s);n.asyncQueue.verifyOperationInProgress(),oe(Yr,"RemoteStore received new credentials");const r=Zr(n);n.Ea.add(3),await su(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await kh(n)}async function zN(s,e){const n=be(s);e?(n.Ea.delete(2),await kh(n)):e||(n.Ea.add(2),await su(n),n.Ra.set("Unknown"))}function _o(s){return s.ma||(s.ma=(function(n,r,l){const c=be(n);return c.sa(),new SN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:NN.bind(null,s),t_:DN.bind(null,s),r_:ON.bind(null,s),H_:VN.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Tp(s)?Ep(s):s.Ra.set("Unknown")):(await s.ma.stop(),$0(s))}))),s.ma}function tr(s){return s.fa||(s.fa=(function(n,r,l){const c=be(n);return c.sa(),new bN(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:PN.bind(null,s),r_:kN.bind(null,s),ta:UN.bind(null,s),na:LN.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await zh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(Yr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Ap{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const d=Date.now()+r,p=new Ap(e,n,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(s,e){if(is("AsyncQueue",`${e}: ${s}`),go(s))return new ae(Y.UNAVAILABLE,`${e}: ${s}`);throw s}class Za{static emptySet(e){return new Za(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||me.comparator(n.key,r.key):(n,r)=>me.comparator(n.key,r.key),this.keyedMap=Dl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Za)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Za;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class LE{constructor(){this.ga=new lt(me.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class oo{constructor(e,n,r,l,c,d,p,g,_){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,r,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new oo(e,n,Za.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class jN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class BN{constructor(){this.queries=kE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=be(n),c=l.queries;l.queries=kE(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new ae(Y.ABORTED,"Firestore shutting down"))}}function kE(){return new $r((s=>E0(s)),Vh)}async function bp(s,e){const n=be(s);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new jN,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=Sp(d,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Rp(n)}async function wp(s,e){const n=be(s),r=e.query;let l=3;const c=n.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qN(s,e){const n=be(s);let r=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Rp(n)}function HN(s,e,n){const r=be(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(e)}function Rp(s){s.Ca.forEach((e=>{e.next()}))}var Pm,zE;(zE=Pm||(Pm={})).Ma="default",zE.Cache="cache";class Cp{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}class eA{constructor(e){this.key=e}}class tA{constructor(e){this.key=e}}class FN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=T0(e),this.tu=new Za(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new LE,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,S)=>{const V=l.get(T),q=Mh(this.query,S)?S:null,W=!!V&&this.mutatedKeys.has(V.key),ee=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let te=!1;V&&q?V.data.isEqual(q.data)?W!==ee&&(r.track({type:3,doc:q}),te=!0):this.su(V,q)||(r.track({type:2,doc:q}),te=!0,(g&&this.eu(q,g)>0||_&&this.eu(q,_)<0)&&(p=!0)):!V&&q?(r.track({type:0,doc:q}),te=!0):V&&!q&&(r.track({type:1,doc:V}),te=!0,(g||_)&&(p=!0)),te&&(q?(d=d.add(q),c=ee?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(q,W){const ee=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:te})}};return ee(q)-ee(W)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,_=g!==this.Za;return this.Za=g,d.length!==0||_?{snapshot:new oo(this.query,e.tu,c,d,e.mutatedKeys,g===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new tA(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new eA(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ip="SyncEngine";class GN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class QN{constructor(e){this.key=e,this.hu=!1}}class KN{constructor(e,n,r,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $r((p=>E0(p)),Vh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(me.comparator),this.Au=new Map,this.Ru=new mp,this.Vu={},this.mu=new Map,this.fu=ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YN(s,e,n=!0){const r=oA(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await nA(r,e,n,!0),l}async function XN(s,e){const n=oA(s);await nA(n,e,!0,!1)}async function nA(s,e,n,r){const l=await pN(s.localStore,Ii(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await $N(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&Y0(s.remoteStore,l),p}async function $N(s,e,n,r,l){s.pu=(S,V,q)=>(async function(ee,te,fe,pe){let ce=te.view.ru(fe);ce.Cs&&(ce=await OE(ee.localStore,te.query,!1).then((({documents:w})=>te.view.ru(w,ce))));const Ne=pe&&pe.targetChanges.get(te.targetId),z=pe&&pe.targetMismatches.get(te.targetId)!=null,ne=te.view.applyChanges(ce,ee.isPrimaryClient,Ne,z);return BE(ee,te.targetId,ne.au),ne.snapshot})(s,S,V,q);const c=await OE(s.localStore,e,!0),d=new FN(e,c.Qs),p=d.ru(c.documents),g=iu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,g);BE(s,n,_.au);const T=new GN(e,n,d);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),_.snapshot}async function ZN(s,e,n){const r=be(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Vh(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Mm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&_p(r.remoteStore,l.targetId),Um(r,l.targetId)})).catch(po)):(Um(r,l.targetId),await Mm(r.localStore,l.targetId,!0))}async function JN(s,e){const n=be(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_p(n.remoteStore,r.targetId))}async function WN(s,e,n){const r=a2(s);try{const l=await(function(d,p){const g=be(d),_=st.now(),T=p.reduce(((q,W)=>q.add(W.key)),Le());let S,V;return g.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let W=ss(),ee=Le();return g.Ns.getEntries(q,T).next((te=>{W=te,W.forEach(((fe,pe)=>{pe.isValidDocument()||(ee=ee.add(fe))}))})).next((()=>g.localDocuments.getOverlayedDocuments(q,W))).next((te=>{S=te;const fe=[];for(const pe of p){const ce=mI(pe,S.get(pe.key).overlayedDocument);ce!=null&&fe.push(new ar(pe.key,ce,f0(ce.value.mapValue),ei.exists(!0)))}return g.mutationQueue.addMutationBatch(q,_,fe,p)})).next((te=>{V=te;const fe=te.applyToLocalDocumentSet(S,ee);return g.documentOverlayCache.saveOverlays(q,te.batchId,fe)}))})).then((()=>({batchId:V.batchId,changes:S0(S)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let _=d.Vu[d.currentUser.toKey()];_||(_=new lt(Ue)),_=_.insert(p,g),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,n),await ru(r,l.changes),await zh(r.remoteStore)}catch(l){const c=Sp(l,"Failed to persist write");n.reject(c)}}async function iA(s,e){const n=be(s);try{const r=await fN(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&(Qe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qe(d.hu,14607):l.removedDocuments.size>0&&(Qe(d.hu,42227),d.hu=!1))})),await ru(n,r,e)}catch(r){await po(r)}}function jE(s,e,n){const r=be(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=be(d);g.onlineState=p;let _=!1;g.queries.forEach(((T,S)=>{for(const V of S.Sa)V.va(p)&&(_=!0)})),_&&Rp(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function e2(s,e,n){const r=be(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new lt(me.comparator);d=d.insert(c,Wt.newNoDocument(c,Ae.min()));const p=Le().add(c),g=new Uh(Ae.min(),new Map,new lt(Ue),d,p);await iA(r,g),r.du=r.du.remove(c),r.Au.delete(e),Np(r)}else await Mm(r.localStore,e,!1).then((()=>Um(r,e,n))).catch(po)}async function t2(s,e){const n=be(s),r=e.batch.batchId;try{const l=await hN(n.localStore,e);rA(n,r,null),sA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ru(n,l)}catch(l){await po(l)}}async function n2(s,e,n){const r=be(s);try{const l=await(function(d,p){const g=be(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return g.mutationQueue.lookupMutationBatch(_,p).next((S=>(Qe(S!==null,37113),T=S.keys(),g.mutationQueue.removeMutationBatch(_,S)))).next((()=>g.mutationQueue.performConsistencyCheck(_))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(_,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>g.localDocuments.getDocuments(_,T)))}))})(r.localStore,e);rA(r,e,n),sA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ru(r,l)}catch(l){await po(l)}}function sA(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function rA(s,e,n){const r=be(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Um(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||aA(s,r)}))}function aA(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(_p(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),Np(s))}function BE(s,e,n){for(const r of n)r instanceof eA?(s.Ru.addReference(r.key,e),i2(s,r)):r instanceof tA?(oe(Ip,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||aA(s,r.key)):_e(19791,{wu:r})}function i2(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(oe(Ip,"New document in limbo: "+n),s.Eu.add(r),Np(s))}function Np(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new me(tt.fromString(e)),r=s.fu.next();s.Au.set(r,new QN(n)),s.du=s.du.insert(n,r),Y0(s.remoteStore,new Fs(Ii(Oh(n.path)),r,"TargetPurposeLimboResolution",Ih.ce))}}async function ru(s,e,n){const r=be(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,n).then((_=>{if((_||n)&&r.isPrimaryClient){const T=_?!_.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(_){l.push(_);const T=gp.As(g.targetId,_);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,_){const T=be(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(V=>Z.forEach(V.Es,(q=>T.persistence.referenceDelegate.addReference(S,V.targetId,q))).next((()=>Z.forEach(V.ds,(q=>T.persistence.referenceDelegate.removeReference(S,V.targetId,q)))))))))}catch(S){if(!go(S))throw S;oe(yp,"Failed to update sequence numbers: "+S)}for(const S of _){const V=S.targetId;if(!S.fromCache){const q=T.Ms.get(V),W=q.snapshotVersion,ee=q.withLastLimboFreeSnapshotVersion(W);T.Ms=T.Ms.insert(V,ee)}}})(r.localStore,c))}async function s2(s,e){const n=be(s);if(!n.currentUser.isEqual(e)){oe(Ip,"User change. New user:",e.toKey());const r=await F0(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new ae(Y.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ru(n,r.Ls)}}function r2(s,e){const n=be(s),r=n.Au.get(e);if(r&&r.hu)return Le().add(r.key);{let l=Le();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function oA(s){const e=be(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=iA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e2.bind(null,e),e.Pu.H_=qN.bind(null,e.eventManager),e.Pu.yu=HN.bind(null,e.eventManager),e}function a2(s){const e=be(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n2.bind(null,e),e}class vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cN(this.persistence,new oN,e.initialUser,this.serializer)}Cu(e){return new H0(pp.mi,this.serializer)}Du(e){return new yN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vh.provider={build:()=>new vh};class o2 extends vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QI(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new H0((r=>yh.mi(r,n)),this.serializer)}}class Lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s2.bind(null,this.syncEngine),await zN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BN})()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),r=(function(c){return new AN(c)})(e.databaseInfo);return(function(c,d,p,g){return new RN(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,d,p){return new IN(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>jE(this.syncEngine,n,0)),(function(){return xE.v()?new xE:new _N})())}createSyncEngine(e,n){return(function(l,c,d,p,g,_,T){const S=new KN(l,c,d,p,g,_);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=be(n);oe(Yr,"RemoteStore shutting down."),r.Ea.add(5),await su(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Lm.provider={build:()=>new Lm};class Dp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const nr="FirestoreClient";class l2{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{oe(nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(oe(nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function hm(s,e){s.asyncQueue.verifyOperationInProgress(),oe(nr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await F0(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function qE(s,e){s.asyncQueue.verifyOperationInProgress();const n=await u2(s);oe(nr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>UE(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>UE(e.remoteStore,l))),s._onlineComponents=e}async function u2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(nr,"Using user provided OfflineComponentProvider");try{await hm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;no("Error using user provided cache. Falling back to memory cache: "+n),await hm(s,new vh)}}else oe(nr,"Using default OfflineComponentProvider"),await hm(s,new o2(void 0));return s._offlineComponents}async function lA(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(nr,"Using user provided OnlineComponentProvider"),await qE(s,s._uninitializedComponentsProvider._online)):(oe(nr,"Using default OnlineComponentProvider"),await qE(s,new Lm))),s._onlineComponents}function c2(s){return lA(s).then((e=>e.syncEngine))}async function Eh(s){const e=await lA(s),n=e.eventManager;return n.onListen=YN.bind(null,e.syncEngine),n.onUnlisten=ZN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JN.bind(null,e.syncEngine),n}function h2(s,e,n={}){const r=new es;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,_){const T=new Dp({next:V=>{T.Nu(),d.enqueueAndForget((()=>wp(c,S)));const q=V.docs.has(p);!q&&V.fromCache?_.reject(new ae(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&V.fromCache&&g&&g.source==="server"?_.reject(new ae(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),S=new Cp(Oh(p.path),T,{includeMetadataChanges:!0,qa:!0});return bp(c,S)})(await Eh(s),s.asyncQueue,e,n,r))),r.promise}function f2(s,e,n={}){const r=new es;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,_){const T=new Dp({next:V=>{T.Nu(),d.enqueueAndForget((()=>wp(c,S))),V.fromCache&&g.source==="server"?_.reject(new ae(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(V)},error:V=>_.reject(V)}),S=new Cp(p,T,{includeMetadataChanges:!0,qa:!0});return bp(c,S)})(await Eh(s),s.asyncQueue,e,n,r))),r.promise}function uA(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const HE=new Map;const cA="firestore.googleapis.com",FE=!0;class GE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cA,this.ssl=FE}else this.host=e.host,this.ssl=e.ssl??FE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FI)throw new ae(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new _C;switch(r.type){case"firstParty":return new AC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=HE.get(n);r&&(oe("ComponentProvider","Removing Datastore"),HE.delete(n),r.terminate())})(this),Promise.resolve()}}function d2(s,e,n,r={}){s=kn(s,jh);const l=uo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(aT(`https://${p}`),oT("Firestore",!0)),c.host!==cA&&c.host!==p&&no("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!Fr(g,d)&&(s._setSettings(g),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=Jt.MOCK_USER;else{_=Nb(r.mockUserToken,s._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new ae(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Jt(S)}s._authCredentials=new vC(new e0(_,T))}}class or{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new or(this.firestore,e,this._query)}}class _t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(tu(n,_t._jsonSchema))return new _t(e,r||null,new me(tt.fromString(n.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Dt("string",_t._jsonSchemaVersion),referencePath:Dt("string")};class $s extends or{constructor(e,n,r){super(e,n,Oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new me(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function Xt(s,e,...n){if(s=Pt(s),t0("collection","path",e),s instanceof jh){const r=tt.fromString(e,...n);return sE(r),new $s(s,null,r)}{if(!(s instanceof _t||s instanceof $s))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...n));return sE(r),new $s(s.firestore,null,r)}}function vo(s,e,...n){if(s=Pt(s),arguments.length===1&&(e=ip.newId()),t0("doc","path",e),s instanceof jh){const r=tt.fromString(e,...n);return iE(r),new _t(s,null,new me(r))}{if(!(s instanceof _t||s instanceof $s))throw new ae(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(tt.fromString(e,...n));return iE(r),new _t(s.firestore,s instanceof $s?s.converter:null,new me(r))}}const QE="AsyncQueue";class KE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q0(this,"async_queue_retry"),this._c=()=>{const r=cm();r&&oe(QE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!go(e))throw e;oe(QE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",YE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Ap.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_e(47125,{Pc:YE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function YE(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function XE(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ir extends jh{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new KE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KE(e),this._firestoreClient=void 0,await e}}}function m2(s,e){const n=typeof s=="object"?s:hT(),r=typeof s=="string"?s:hh,l=Km(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=Cb("firestore");c&&d2(l,...c)}return l}function Bh(s){if(s._terminated)throw new ae(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||p2(s),s._firestoreClient}function p2(s){const e=s._freezeSettings(),n=(function(l,c,d,p){return new zC(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,uA(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new l2(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Yt.fromBase64String(e))}catch(n){throw new ae(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Dt("string",Ln._jsonSchemaVersion),bytes:Dt("string")};class qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Op{constructor(e){this._methodName=e}}class Di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(e){if(tu(e,Di._jsonSchema))return new Di(e.latitude,e.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Dt("string",Di._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Oi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,Oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Oi(e.vectorValues);throw new ae(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Dt("string",Oi._jsonSchemaVersion),vectorValues:Dt("object")};const g2=/^__.*__$/;class y2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ar(e,this.data,this.fieldMask,n,this.fieldTransforms):new nu(e,this.data,n,this.fieldTransforms)}}class hA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ar(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fA(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:s})}}class Vp{constructor(e,n,r,l,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Vp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Th(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fA(this.Ac)&&g2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lh(e)}Cc(e,n,r,l=!1){return new Vp({Ac:e,methodName:n,Dc:r,path:Kt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mp(s){const e=s._freezeSettings(),n=Lh(s._databaseId);return new _2(s._databaseId,!!e.ignoreUndefinedProperties,n)}function v2(s,e,n,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,n,l);xp("Data must be an object, but it was:",d,r);const p=dA(r,d);let g,_;if(c.merge)g=new Sn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const V=km(e,S,n);if(!d.contains(V))throw new ae(Y.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);pA(T,V)||T.push(V)}g=new Sn(T),_=d.fieldTransforms.filter((S=>g.covers(S.field)))}else g=null,_=d.fieldTransforms;return new y2(new dn(p),g,_)}class Hh extends Op{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}function E2(s,e,n,r){const l=s.Cc(1,e,n);xp("Data must be an object, but it was:",l,r);const c=[],d=dn.empty();rr(r,((g,_)=>{const T=Pp(e,g,n);_=Pt(_);const S=l.yc(T);if(_ instanceof Hh)c.push(T);else{const V=au(_,S);V!=null&&(c.push(T),d.set(T,V))}}));const p=new Sn(c);return new hA(d,p,l.fieldTransforms)}function T2(s,e,n,r,l,c){const d=s.Cc(1,e,n),p=[km(e,r,n)],g=[l];if(c.length%2!=0)throw new ae(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)p.push(km(e,c[V])),g.push(c[V+1]);const _=[],T=dn.empty();for(let V=p.length-1;V>=0;--V)if(!pA(_,p[V])){const q=p[V];let W=g[V];W=Pt(W);const ee=d.yc(q);if(W instanceof Hh)_.push(q);else{const te=au(W,ee);te!=null&&(_.push(q),T.set(q,te))}}const S=new Sn(_);return new hA(T,S,d.fieldTransforms)}function A2(s,e,n,r=!1){return au(n,s.Cc(r?4:3,e))}function au(s,e){if(mA(s=Pt(s)))return xp("Unsupported field value:",e,s),dA(s,e);if(s instanceof Op)return(function(r,l){if(!fA(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let g=au(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lI(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=st.fromDate(r);return{timestampValue:gh(l.serializer,c)}}if(r instanceof st){const c=new st(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gh(l.serializer,c)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:P0(l.serializer,r._byteString)};if(r instanceof _t){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:dp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Oi)return(function(d,p){return{mapValue:{fields:{[c0]:{stringValue:h0},[fh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return up(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Ch(r)}`)})(s,e)}function dA(s,e){const n={};return s0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rr(s,((r,l)=>{const c=au(l,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function mA(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof st||s instanceof Di||s instanceof Ln||s instanceof _t||s instanceof Op||s instanceof Oi)}function xp(s,e,n){if(!mA(n)||!n0(n)){const r=Ch(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function km(s,e,n){if((e=Pt(e))instanceof qh)return e._internalPath;if(typeof e=="string")return Pp(s,e);throw Th("Field path arguments must be of type string or ",s,!1,void 0,n)}const S2=new RegExp("[~\\*/\\[\\]]");function Pp(s,e,n){if(e.search(S2)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new qh(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Th(s,e,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new ae(Y.INVALID_ARGUMENT,p+s+g)}function pA(s,e){return s.some((n=>n.isEqual(e)))}class gA{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b2 extends gA{data(){return super.data()}}function Fh(s,e){return typeof e=="string"?Pp(s,e):e instanceof qh?e._internalPath:e._delegate._internalPath}function yA(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Up{}class _A extends Up{}function zn(s,e,...n){let r=[];e instanceof Up&&r.push(e),r=r.concat(n),(function(c){const d=c.filter((g=>g instanceof kp)).length,p=c.filter((g=>g instanceof Gh)).length;if(d>1||d>0&&p>0)throw new ae(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Gh extends _A{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gh(e,n,r)}_apply(e){const n=this._parse(e);return vA(e._query,n),new or(e.firestore,e.converter,Cm(e._query,n))}_parse(e){const n=Mp(e.firestore);return(function(c,d,p,g,_,T,S){let V;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ae(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){ZE(S,T);const W=[];for(const ee of S)W.push($E(g,c,ee));V={arrayValue:{values:W}}}else V=$E(g,c,S)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||ZE(S,T),V=A2(p,d,S,T==="in"||T==="not-in");return Nt.create(_,T,V)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Lp(s,e,n){const r=e,l=Fh("where",s);return Gh._create(l,r,n)}class kp extends Up{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kp(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)vA(d,g),d=Cm(d,g)})(e._query,n),new or(e.firestore,e.converter,Cm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zp extends _A{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zp(e,n)}_apply(e){const n=(function(l,c,d){if(l.startAt!==null)throw new ae(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ae(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ql(c,d)})(e._query,this._field,this._direction);return new or(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new yo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function ou(s,e="asc"){const n=e,r=Fh("orderBy",s);return zp._create(r,n)}function $E(s,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new ae(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!v0(e)&&n.indexOf("/")!==-1)throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!me.isDocumentKey(r))throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fE(s,new me(r))}if(n instanceof _t)return fE(s,n._key);throw new ae(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(n)}.`)}function ZE(s,e){if(!Array.isArray(s)||s.length===0)throw new ae(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vA(s,e){const n=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ae(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class w2{convertValue(e,n="none"){switch(er(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return rr(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[fh].arrayValue?.values?.map((r=>yt(r.doubleValue)));return new Oi(n)}convertGeoPoint(e){return new Di(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Dh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const n=Js(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Qe(B0(r),9688,{name:e});const l=new Fl(r.get(1),r.get(3)),c=new me(r.popFirst(5));return l.isEqual(n)||is(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function R2(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Br extends gA{constructor(e,n,r,l,c,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Fh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Br._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Br._jsonSchemaVersion="firestore/documentSnapshot/1.0",Br._jsonSchema={type:Dt("string",Br._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class th extends Br{data(e={}){return super.data(e)}}class qr{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Vl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new th(this._firestore,this._userDataWriter,r.key,r,new Vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new th(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:C2(p.type),doc:g,oldIndex:_,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}function Xl(s){s=kn(s,_t);const e=kn(s.firestore,ir);return h2(Bh(e),s._key).then((n=>EA(e,s,n)))}qr._jsonSchemaVersion="firestore/querySnapshot/1.0",qr._jsonSchema={type:Dt("string",qr._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class jp extends w2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,n)}}function Jr(s){s=kn(s,or);const e=kn(s.firestore,ir),n=Bh(e),r=new jp(e);return yA(s._query),f2(n,s._query).then((l=>new qr(e,r,s,l)))}function Qh(s,e,n,...r){s=kn(s,_t);const l=kn(s.firestore,ir),c=Mp(l);let d;return d=typeof(e=Pt(e))=="string"||e instanceof qh?T2(c,"updateDoc",s._key,e,n,r):E2(c,"updateDoc",s._key,e),Bp(l,[d.toMutation(s._key,ei.exists(!0))])}function Eo(s){return Bp(kn(s.firestore,ir),[new cp(s._key,ei.none())])}function lu(s,e){const n=kn(s.firestore,ir),r=vo(s),l=R2(s.converter,e);return Bp(n,[v2(Mp(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ei.exists(!1))]).then((()=>r))}function uu(s,...e){s=Pt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||XE(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(XE(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof _t)d=kn(s.firestore,ir),p=Oh(s._key.path),c={next:g=>{e[r]&&e[r](EA(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=kn(s,or);d=kn(g.firestore,ir),p=g._query;const _=new jp(d);c={next:T=>{e[r]&&e[r](new qr(d,_,g,T))},error:e[r+1],complete:e[r+2]},yA(s._query)}return(function(_,T,S,V){const q=new Dp(V),W=new Cp(T,q,S);return _.asyncQueue.enqueueAndForget((async()=>bp(await Eh(_),W))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>wp(await Eh(_),W)))}})(Bh(d),p,l,c)}function Bp(s,e){return(function(r,l){const c=new es;return r.asyncQueue.enqueueAndForget((async()=>WN(await c2(r),l,c))),c.promise})(Bh(s),e)}function EA(s,e,n){const r=n.docs.get(e._key),l=new jp(s);return new Br(s,l,e._key,r,new Vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){mo=l})(co),eo(new Gr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new ir(new EC(r.getProvider("auth-internal")),new SC(d,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ae(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(_.options.projectId,T)})(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ks(Wv,eE,e),Ks(Wv,eE,"esm2020")})();const I2={apiKey:"AIzaSyBQqnCq_xLrn9KrBqANi0uSazy6hmf8FC4",authDomain:"avs-music-19154.firebaseapp.com",projectId:"avs-music-19154",storageBucket:"avs-music-19154.firebasestorage.app",messagingSenderId:"954608413700",appId:"1:954608413700:web:7ecdefa1931479071d5951"},TA=cT(I2),ft=m2(TA),zm=mC(TA),N2="modulepreload",D2=function(s){return"/"+s},JE={},Ja=function(e,n,r){let l=Promise.resolve();if(n&&n.length>0){let _=function(T){return Promise.all(T.map(S=>Promise.resolve(S).then(V=>({status:"fulfilled",value:V}),V=>({status:"rejected",reason:V}))))};var d=_;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");l=_(n.map(T=>{if(T=D2(T),T in JE)return;JE[T]=!0;const S=T.endsWith(".css"),V=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${V}`))return;const q=document.createElement("link");if(q.rel=S?"stylesheet":N2,S||(q.as="script"),q.crossOrigin="",q.href=T,g&&q.setAttribute("nonce",g),document.head.appendChild(q),S)return new Promise((W,ee)=>{q.addEventListener("load",W),q.addEventListener("error",()=>ee(new Error(`Unable to preload CSS for ${T}`)))})}))}function c(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return l.then(p=>{for(const g of p||[])g.status==="rejected"&&c(g.reason);return e().catch(c)})};function O2({seccionActiva:s,onCambiarSeccion:e,isDJ:n,onLogout:r}){const[l,c]=Ee.useState(!1),[d,p]=Ee.useState(!1),g=[{id:"biblioteca",nombre:" Biblioteca",icono:""},{id:"peticiones",nombre:" Peticiones",icono:""},{id:"reproduccion",nombre:" Reproduccin",icono:""}],_=n?[...g,{id:"codigos",nombre:" Cdigos",icono:""}]:g,T=async()=>{p(!0);try{const{limpiarTodo:S}=await Ja(async()=>{const{limpiarTodo:q}=await Promise.resolve().then(()=>Wa);return{limpiarTodo:q}},void 0),V=await S();V.success?(console.log(" Base de datos limpiada exitosamente"),c(!1)):(console.error(" Error al limpiar:",V.error),c(!1))}catch(S){console.error(" Error:",S),c(!1)}finally{p(!1)}};return C.jsxs("nav",{className:"navbar",children:[C.jsxs("div",{className:"navbar-container",children:[C.jsxs("div",{className:"navbar-brand",children:[C.jsx("h1",{children:" AVSMUSIC"}),C.jsx("span",{className:"navbar-subtitle",children:"DJ App"})]}),C.jsx("div",{className:"navbar-menu",children:_.map(S=>C.jsxs("button",{onClick:()=>e(S.id),className:`navbar-item ${s===S.id?"active":""}`,children:[C.jsx("span",{className:"navbar-icon",children:S.icono}),C.jsx("span",{className:"navbar-text",children:S.nombre})]},S.id))}),C.jsxs("div",{className:"navbar-status",children:[C.jsx("span",{className:`status-badge ${n?"dj":"cliente"}`,children:n?" DJ":" Cliente"}),n&&C.jsxs(C.Fragment,{children:[C.jsx("button",{onClick:()=>c(!0),className:"btn-clean-all",title:"Limpiar toda la base de datos",children:" Limpiar Todo"}),r&&C.jsx("button",{onClick:r,className:"btn-logout",title:"Cerrar sesin",children:" Salir"})]})]})]}),l&&C.jsx("div",{className:"modal-overlay-clean",onClick:()=>!d&&c(!1),children:C.jsxs("div",{className:"clean-popup",onClick:S=>S.stopPropagation(),children:[C.jsxs("div",{className:"clean-popup-header",children:[C.jsx("h3",{children:" Limpiar Base de Datos"}),C.jsx("button",{className:"close-btn",onClick:()=>c(!1),disabled:d,children:""})]}),C.jsxs("div",{className:"clean-popup-body",children:[C.jsxs("div",{className:"warning-box",children:[C.jsx("span",{className:"warning-icon",children:""}),C.jsx("p",{className:"warning-title",children:"ADVERTENCIA!"}),C.jsxs("p",{className:"warning-desc",children:["Esta accin eliminar ",C.jsx("strong",{children:"TODA"})," la informacin:"]})]}),C.jsxs("ul",{className:"items-to-delete",children:[C.jsx("li",{children:" Cola de reproduccin"}),C.jsx("li",{children:" Historial de reproduccin"}),C.jsx("li",{children:" Peticiones bsicas"}),C.jsx("li",{children:" Peticiones premium"})]}),C.jsxs("p",{className:"final-warning",children:["Esta accin ",C.jsx("strong",{children:"NO SE PUEDE DESHACER"}),"."]}),C.jsxs("div",{className:"clean-popup-actions",children:[C.jsx("button",{onClick:()=>c(!1),className:"btn-cancel-clean",disabled:d,children:"Cancelar"}),C.jsx("button",{onClick:T,className:"btn-confirm-clean",disabled:d,children:d?"Limpiando...":"S, Limpiar Todo"})]})]})]})})]})}function V2({onLoginSuccess:s}){const[e,n]=Ee.useState(""),[r,l]=Ee.useState(""),[c,d]=Ee.useState(""),[p,g]=Ee.useState(!1),_=async T=>{T.preventDefault(),d(""),g(!0);try{const S=await Ww(zm,e,r);console.log(" Login exitoso:",S.user),s(S.user)}catch(S){switch(console.error(" Error de login:",S),S.code){case"auth/invalid-email":d("El correo electrnico no es vlido");break;case"auth/user-not-found":d("No existe un usuario con este correo");break;case"auth/wrong-password":d("Contrasea incorrecta");break;case"auth/invalid-credential":d("Credenciales invlidas. Verifica tu correo y contrasea.");break;default:d("Error al iniciar sesin. Intenta nuevamente.")}}finally{g(!1)}};return C.jsx("div",{className:"login-container",children:C.jsxs("div",{className:"login-box",children:[C.jsxs("div",{className:"login-header",children:[C.jsx("h1",{children:" AVSMUSIC"}),C.jsx("h2",{children:"Panel de DJ"}),C.jsx("p",{children:"Ingresa con tu cuenta de DJ para acceder al panel de control"})]}),C.jsxs("form",{onSubmit:_,className:"login-form",children:[c&&C.jsxs("div",{className:"error-message",children:[" ",c]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"email",children:"Correo Electrnico"}),C.jsx("input",{id:"email",type:"email",value:e,onChange:T=>n(T.target.value),placeholder:"dj@avsmusic.com",required:!0,autoComplete:"email"})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"password",children:"Contrasea"}),C.jsx("input",{id:"password",type:"password",value:r,onChange:T=>l(T.target.value),placeholder:"",required:!0,autoComplete:"current-password"})]}),C.jsx("button",{type:"submit",className:"btn-login",disabled:p,children:p?" Iniciando sesin...":" Ingresar como DJ"})]}),C.jsxs("div",{className:"login-footer",children:[C.jsxs("p",{children:[" ",C.jsx("strong",{children:"Modo Cliente:"})," No necesitas iniciar sesin"]}),C.jsx("p",{children:"Simplemente busca y solicita canciones"})]})]})})}const M2="7bba248fc3f94fa5b8697de74a963b1a",x2="7a3c605357c74861b90e6ae5a9e62f49";let Gc=null,fm=null;async function P2(){if(Gc&&fm&&Date.now()<fm)return Gc;const e=await(await fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa(M2+":"+x2)},body:"grant_type=client_credentials"})).json();return Gc=e.access_token,fm=Date.now()+e.expires_in*1e3,Gc}async function U2(s){if(!s||s.trim()==="")return[];try{const e=await P2();return(await(await fetch(`https://api.spotify.com/v1/search?q=${encodeURIComponent(s)}&type=track&limit=20&market=US`,{headers:{Authorization:`Bearer ${e}`}})).json()).tracks.items.map(l=>({id:l.id,name:l.name,artist:l.artists.map(c=>c.name).join(", "),album:l.album.name,albumCover:l.album.images[1]?.url||l.album.images[0]?.url,previewUrl:l.preview_url,duration:l.duration_ms,spotifyUrl:l.external_urls.spotify}))}catch(e){return console.error("Error buscando canciones:",e),[]}}async function L2(s,e){try{const n=`${s} ${e}`,r=["https://api.codetabs.com/v1/proxy?quest=","https://cors-anywhere.herokuapp.com/"];try{const d=await fetch(`https://api.deezer.com/search?q=${encodeURIComponent(n)}&limit=1`,{mode:"cors"});if(d.ok){const p=await d.json();if(p.data&&p.data.length>0)return p.data[0].preview}}catch{}const c=await(await fetch(`https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(`https://api.deezer.com/search?q=${encodeURIComponent(n)}&limit=1`)}`)).json();return c.data&&c.data.length>0?c.data[0].preview:null}catch(n){return console.error("Error buscando preview en Deezer:",n),null}}function WE({onAddToList:s}){const[e,n]=Ee.useState(""),[r,l]=Ee.useState([]),[c,d]=Ee.useState(!1),[p,g]=Ee.useState(null),[_,T]=Ee.useState(!1),[S,V]=Ee.useState(null),[q,W]=Ee.useState(null),[ee,te]=Ee.useState(null),[fe,pe]=Ee.useState(!1),[ce,Ne]=Ee.useState(""),[z,ne]=Ee.useState(""),w=Ee.useRef(null),b=(J,Te="success")=>{te({message:J,type:Te}),setTimeout(()=>te(null),3e3)},R=async J=>{if(n(J),J.trim()===""){l([]);return}d(!0);const Te=await U2(J);l(Te),d(!1)},I=async J=>{if(p===J.id){w.current&&w.current.pause(),g(null);return}if(w.current&&w.current.pause(),J.previewUrl)w.current=new Audio(J.previewUrl),w.current.play(),g(J.id),w.current.onended=()=>{g(null)};else{W(J.id);const Te=await L2(J.name,J.artist);W(null),Te?(w.current=new Audio(Te),w.current.play(),g(J.id),w.current.onended=()=>{g(null)}):b(" No se encontr preview disponible para esta cancin","error")}},D=J=>{p&&w.current&&(w.current.pause(),g(null)),V(J),T(!0)},P=()=>{T(!1),V(null)},N=async()=>{if(P(),b(" Cancin aadida a la lista bsica exitosamente","success"),S&&s)try{s(S,"basica");const{addPeticionBasica:J}=await Ja(async()=>{const{addPeticionBasica:Te}=await Promise.resolve().then(()=>Wa);return{addPeticionBasica:Te}},void 0);await J(S)}catch(J){console.error("Error al guardar:",J),b(" Error al guardar. Pero tu peticin fue registrada.","error")}},Ge=async()=>{pe(!0)},ut=async()=>{if(!ce.trim()){ne(" Por favor ingresa un cdigo");return}try{const{validarCodigoPremium:J}=await Ja(async()=>{const{validarCodigoPremium:Ve}=await Promise.resolve().then(()=>Wa);return{validarCodigoPremium:Ve}},void 0);if(await J(ce)){if(pe(!1),Ne(""),ne(""),P(),b(" Cancin aadida a la lista premium exitosamente","success"),S&&s){s(S,"premium",ce);const{addPeticionPremium:Ve}=await Ja(async()=>{const{addPeticionPremium:x}=await Promise.resolve().then(()=>Wa);return{addPeticionPremium:x}},void 0);await Ve(S,ce)}}else ne(" Cdigo premium invlido")}catch(J){console.error("Error validando cdigo premium:",J),ne(" Error al validar cdigo")}},G=()=>{pe(!1),Ne(""),ne("")},se=J=>{const Te=Math.floor(J/6e4),Ve=(J%6e4/1e3).toFixed(0);return`${Te}:${Ve<10?"0":""}${Ve}`};return C.jsxs("div",{className:"biblioteca",children:[ee&&C.jsx("div",{className:`notification ${ee.type}`,children:ee.message}),C.jsx("h2",{children:" Biblioteca Musical"}),C.jsx("p",{className:"subtitle",children:"Millones de canciones con previews disponibles"}),C.jsxs("div",{className:"search-box",children:[C.jsx("input",{type:"text",placeholder:"Busca tu cancin favorita...",value:e,onChange:J=>R(J.target.value),className:"search-input"}),c&&C.jsx("span",{className:"loading",children:"Buscando..."})]}),C.jsxs("div",{className:"results",children:[r.length===0&&e&&!c&&C.jsx("p",{className:"no-results",children:"No se encontraron resultados"}),r.map(J=>C.jsxs("div",{className:"track-card",children:[C.jsx("img",{src:J.albumCover,alt:J.album,className:"album-cover"}),C.jsxs("div",{className:"track-info",children:[C.jsx("h3",{className:"track-name",children:J.name}),C.jsx("p",{className:"track-artist",children:J.artist}),C.jsx("p",{className:"track-album",children:J.album}),C.jsx("span",{className:"track-duration",children:se(J.duration)}),!J.previewUrl&&C.jsx("span",{className:"preview-source",children:" Buscar en fuentes alternativas"})]}),C.jsxs("div",{className:"track-actions",children:[C.jsx("button",{onClick:()=>I(J),className:`btn-preview ${p===J.id?"playing":""}`,disabled:q===J.id,children:q===J.id?" Buscando...":p===J.id?" Pausar":" Preview"}),C.jsx("button",{onClick:()=>D(J),className:"btn-add",children:" Aadir"})]})]},J.id))]}),_&&C.jsx("div",{className:"modal-overlay",onClick:P,children:C.jsxs("div",{className:"modal-content",onClick:J=>J.stopPropagation(),children:[C.jsx("h3",{children:"Dnde quieres aadir esta cancin?"}),C.jsxs("div",{className:"selected-track-preview",children:[C.jsx("img",{src:S?.albumCover,alt:""}),C.jsxs("div",{children:[C.jsx("p",{children:C.jsx("strong",{children:S?.name})}),C.jsx("p",{children:S?.artist})]})]}),C.jsxs("div",{className:"modal-buttons",children:[C.jsx("button",{onClick:N,className:"btn-basic",children:" Lista Bsica (Gratis)"}),C.jsx("button",{onClick:Ge,className:"btn-premium",children:" Lista Premium (Cdigo)"})]}),C.jsx("button",{onClick:P,className:"btn-cancel",children:"Cancelar"})]})}),fe&&C.jsx("div",{className:"modal-overlay",onClick:G,children:C.jsxs("div",{className:"code-popup",onClick:J=>J.stopPropagation(),children:[C.jsxs("div",{className:"code-popup-header",children:[C.jsx("h3",{children:" Cdigo Premium"}),C.jsx("button",{className:"close-btn",onClick:G,children:""})]}),C.jsxs("div",{className:"code-popup-body",children:[C.jsx("p",{children:"Ingresa tu cdigo premium para aadir esta cancin a la lista prioritaria:"}),C.jsx("input",{type:"text",className:"code-input",placeholder:"Ej: PREM123",value:ce,onChange:J=>{Ne(J.target.value.toUpperCase()),ne("")},onKeyPress:J=>{J.key==="Enter"&&ut()},autoFocus:!0}),z&&C.jsx("p",{className:"code-error-message",children:z}),C.jsxs("div",{className:"code-popup-actions",children:[C.jsx("button",{onClick:G,className:"btn-secondary",children:"Cancelar"}),C.jsx("button",{onClick:ut,className:"btn-premium",children:"Confirmar"})]})]})]})})]})}const Kh="peticiones_basicas",Yh="peticiones_premium",Hr="lista_reproduccion",lo="codigos_premium";async function k2(s){console.log(" Intentando guardar en Firebase:",s);try{const e=await lu(Xt(ft,Kh),{...s,timestamp:new Date,estado:"pendiente"});return console.log(" Guardado exitosamente con ID:",e.id),{success:!0,id:e.id}}catch(e){return console.error(" Error aadiendo peticin bsica:",e),{success:!1,error:e.message}}}function AA(s){const e=zn(Xt(ft,Kh),ou("timestamp","asc"));return uu(e,n=>{const r=[];n.forEach(l=>{r.push({firebaseId:l.id,...l.data()})}),s(r)})}async function jm(s,e){console.log(` Actualizando peticin ${s} a estado: ${e}`);try{const n=vo(ft,Kh,s);if(!(await Xl(n)).exists())return console.error(` El documento ${s} NO EXISTE en Firebase`),{success:!1,error:"Documento no existe"};console.log(" Documento encontrado, actualizando estado..."),await Qh(n,{estado:e}),console.log(` Estado actualizado exitosamente a: ${e}`);const l=await Xl(n);return console.log(" Verificacin - Estado actual en Firebase:",l.data().estado),{success:!0}}catch(n){return console.error(" Error actualizando estado:",n),{success:!1,error:n.message}}}async function z2(s,e){console.log(" Intentando guardar peticin premium en Firebase:",s,"Cdigo:",e);try{const n=await lu(Xt(ft,Yh),{...s,codigo:e,timestamp:new Date,estado:"pendiente"});return console.log(" Peticin premium guardada con ID:",n.id),await wA(e),{success:!0,id:n.id}}catch(n){return console.error(" Error aadiendo peticin premium:",n),{success:!1,error:n.message}}}function SA(s){const e=zn(Xt(ft,Yh),ou("timestamp","asc"));return uu(e,n=>{const r=[];n.forEach(l=>{r.push({firebaseId:l.id,...l.data()})}),s(r)})}async function Bm(s,e){console.log(` Actualizando peticin premium ${s} a estado: ${e}`);try{const n=vo(ft,Yh,s);if(!(await Xl(n)).exists())return console.error(` El documento premium ${s} NO EXISTE en Firebase`),{success:!1,error:"Documento no existe"};console.log(" Documento premium encontrado, actualizando estado..."),await Qh(n,{estado:e}),console.log(` Estado premium actualizado exitosamente a: ${e}`);const l=await Xl(n);return console.log(" Verificacin - Estado actual en Firebase:",l.data().estado),{success:!0}}catch(n){return console.error(" Error actualizando estado premium:",n),{success:!1,error:n.message}}}async function bA(s,e=0){try{const{firebaseId:n,...r}=s;return{success:!0,id:(await lu(Xt(ft,Hr),{...r,orden:e,timestamp:new Date,estado:"en_espera"})).id}}catch(n){return console.error("Error aadiendo a lista de reproduccin:",n),{success:!1,error:n.message}}}function qp(s){const e=zn(Xt(ft,Hr),ou("orden","asc"));return uu(e,n=>{const r=[];n.forEach(l=>{r.push({firebaseId:l.id,...l.data()})}),s(r)})}async function j2(s,e){try{const n=vo(ft,Hr,s);return(await Xl(n)).exists()?(await Qh(n,{orden:e}),{success:!0}):{success:!1,error:"Documento no existe"}}catch(n){return n.code!=="not-found"&&console.error("Error actualizando orden:",n),{success:!1,error:n.message}}}async function Hp(s){console.log(" Intentando eliminar de lista de reproduccin. ID recibido:",s);try{const e=vo(ft,Hr,s);return console.log(" Referencia del documento:",e.path),await Eo(e),console.log(" Documento eliminado exitosamente de la coleccin:",Hr),{success:!0}}catch(e){return console.error(" Error eliminando de lista:",e),console.error(" ID que se intent eliminar:",s),console.error(" Coleccin:",Hr),{success:!1,error:e.message}}}async function B2(s){try{console.log(" Validando cdigo:",s);const e=zn(Xt(ft,lo),Lp("codigo","==",s.toUpperCase())),n=await Jr(e);return n.empty?(console.log(" Cdigo no encontrado"),!1):n.docs[0].data().usado?(console.log(" Cdigo ya fue usado"),!1):(console.log(" Cdigo vlido"),!0)}catch(e){return console.error("Error validando cdigo:",e),!1}}async function wA(s){try{console.log(" Marcando cdigo como usado:",s);const e=zn(Xt(ft,lo),Lp("codigo","==",s.toUpperCase())),n=await Jr(e);if(n.empty)return{success:!1,error:"Cdigo no encontrado"};const r=n.docs[0];return await Qh(r.ref,{usado:!0,fechaUso:new Date}),console.log(" Cdigo marcado como usado"),{success:!0}}catch(e){return console.error("Error marcando cdigo como usado:",e),{success:!1,error:e.message}}}async function qm(s){try{if(s.length!==6)return{success:!1,error:"El cdigo debe tener exactamente 6 caracteres"};const e=zn(Xt(ft,lo),Lp("codigo","==",s.toUpperCase()));if(!(await Jr(e)).empty)return{success:!1,error:"Este cdigo ya existe"};const r=await lu(Xt(ft,lo),{codigo:s.toUpperCase(),usado:!1,fechaCreacion:new Date});return console.log(" Cdigo creado:",s.toUpperCase()),{success:!0,id:r.id}}catch(e){return console.error("Error creando cdigo:",e),{success:!1,error:e.message}}}function Hm(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let n=0;n<6;n++)e+=s.charAt(Math.floor(Math.random()*s.length));return e}function RA(s){const e=zn(Xt(ft,lo),ou("fechaCreacion","desc"));return uu(e,n=>{const r=[];n.forEach(l=>{r.push({firebaseId:l.id,...l.data()})}),s(r)})}async function CA(s){try{return await Eo(vo(ft,lo,s)),console.log(" Cdigo eliminado"),{success:!0}}catch(e){return console.error("Error eliminando cdigo:",e),{success:!1,error:e.message}}}const Fp="historial_reproduccion";async function q2(s){try{console.log(" Marcando como reproducida:",{firebaseId:s.firebaseId,spotifyId:s.id,name:s.name});const e=await lu(Xt(ft,Fp),{...s,reproducidaAt:new Date,tipoPeticion:s.tipoPeticion||"basica"});console.log(" Aadida al historial con ID:",e.id);const n=s.firebaseId;if(!n)throw console.error(" ERROR CRTICO: No hay firebaseId para eliminar!"),console.error("Cancin completa:",s),new Error("No se puede eliminar: falta firebaseId");console.log(" Eliminando de cola con firebaseId:",n);const r=await Hp(n);if(!r.success)throw console.error(" Error al eliminar de la cola:",r.error),new Error("No se pudo eliminar de la cola: "+r.error);return console.log(" Eliminada de la cola"),console.log(" Cancin movida a historial exitosamente"),{success:!0}}catch(e){return console.error(" Error marcando como reproducida:",e),{success:!1,error:e.message}}}function IA(s){const e=zn(Xt(ft,Fp),ou("reproducidaAt","desc"));return uu(e,n=>{const r=[];n.forEach(l=>{r.push({firebaseId:l.id,...l.data()})}),s(r)})}async function NA(){try{const s=zn(Xt(ft,Fp)),e=await Jr(s),n=[];return e.forEach(r=>{n.push(Eo(r.ref))}),await Promise.all(n),console.log(" Historial limpiado"),{success:!0}}catch(s){return console.error("Error limpiando historial:",s),{success:!1,error:s.message}}}async function DA(){try{const s=zn(Xt(ft,Hr)),e=await Jr(s),n=[];return e.forEach(r=>{n.push(Eo(r.ref))}),await Promise.all(n),console.log(" Cola de reproduccin limpiada"),{success:!0}}catch(s){return console.error("Error limpiando cola:",s),{success:!1,error:s.message}}}async function OA(){try{const s=zn(Xt(ft,Kh)),e=await Jr(s),n=[];return e.forEach(r=>{n.push(Eo(r.ref))}),await Promise.all(n),console.log(" Peticiones bsicas limpiadas"),{success:!0}}catch(s){return console.error("Error limpiando peticiones bsicas:",s),{success:!1,error:s.message}}}async function VA(){try{const s=zn(Xt(ft,Yh)),e=await Jr(s),n=[];return e.forEach(r=>{n.push(Eo(r.ref))}),await Promise.all(n),console.log(" Peticiones premium limpiadas"),{success:!0}}catch(s){return console.error("Error limpiando peticiones premium:",s),{success:!1,error:s.message}}}async function H2(){try{return console.log(" Limpiando TODA la base de datos..."),(await Promise.all([DA(),NA(),OA(),VA()])).every(n=>n.success)?(console.log(" Base de datos completamente limpiada"),{success:!0}):(console.error(" Algunas colecciones no se pudieron limpiar"),{success:!1,error:"Error parcial al limpiar"})}catch(s){return console.error(" Error limpiando todo:",s),{success:!1,error:s.message}}}const Wa=Object.freeze(Object.defineProperty({__proto__:null,addPeticionBasica:k2,addPeticionPremium:z2,addToListaReproduccion:bA,crearCodigoPremium:qm,deleteFromListaReproduccion:Hp,eliminarCodigo:CA,generarCodigoAleatorio:Hm,limpiarColaReproduccion:DA,limpiarHistorial:NA,limpiarPeticionesBasicas:OA,limpiarPeticionesPremium:VA,limpiarTodo:H2,marcarCodigoComoUsado:wA,marcarComoReproducida:q2,subscribeToCodigos:RA,subscribeToHistorialReproduccion:IA,subscribeToListaReproduccion:qp,subscribeToPeticionesBasicas:AA,subscribeToPeticionesPremium:SA,updateEstadoPeticionBasica:jm,updateEstadoPeticionPremium:Bm,updateOrdenCancion:j2,validarCodigoPremium:B2},Symbol.toStringTag,{value:"Module"}));function F2({isDJ:s=!1,estadosPeticiones:e={},setEstadosPeticiones:n}){const[r,l]=Ee.useState([]),[c,d]=Ee.useState([]),[p,g]=Ee.useState([]),[_,T]=Ee.useState(Date.now()),[S,V]=Ee.useState(new Set),[q,W]=Ee.useState({}),ee=n?e:q,te=n||W;Ee.useEffect(()=>{const z=AA(R=>{console.log(" Peticiones bsicas actualizadas:",R.map(I=>({name:I.name,estado:I.estado,id:I.id}))),l(R),R.forEach(I=>{(I.estado==="aprobada"||I.estado==="rechazada")&&te(D=>({...D,[I.id]:I.estado}))})}),ne=SA(R=>{console.log(" Peticiones premium actualizadas:",R.map(I=>({name:I.name,estado:I.estado,id:I.id}))),d(R),R.forEach(I=>{(I.estado==="aprobada"||I.estado==="rechazada")&&te(D=>({...D,[I.id]:I.estado}))})}),w=qp(R=>{g(R)}),b=setInterval(()=>{T(Date.now())},3e4);return()=>{z(),ne(),w(),clearInterval(b)}},[te]);const fe=async(z,ne)=>{if(console.log(" Aprobando:",z.name,"Firebase ID:",z.firebaseId,"Spotify ID:",z.id),ee[z.firebaseId]){console.log(" Ya est procesada");return}V(P=>new Set([...P,z.firebaseId])),te(P=>({...P,[z.firebaseId]:"aprobada"})),setTimeout(()=>{V(P=>{const N=new Set(P);return N.delete(z.firebaseId),N})},500),console.log(" Actualizando estado en Firebase PRIMERO...");const w=ne==="basica"?await jm(z.firebaseId,"aprobada"):await Bm(z.firebaseId,"aprobada");console.log(" Resultado actualizacin Firebase:",w),w.success||console.error(" No se pudo actualizar el estado en Firebase"),await new Promise(P=>setTimeout(P,500));const b=p.map(P=>P.orden||0),R=b.length>0?Math.max(...b)+1:0;console.log(" Aadiendo a reproduccin con orden:",R);const I={...z,tipoPeticion:ne},D=await bA(I,R);console.log(" Resultado aadir a reproduccin:",D),D.success?console.log(" Cancin aprobada exitosamente"):(alert(" Error al aprobar la cancin"),te(P=>{const N={...P};return delete N[z.firebaseId],N}))},pe=async(z,ne)=>{if(console.log(" Rechazando Firebase ID:",z),ee[z]){console.log(" Ya est procesada");return}V(b=>new Set([...b,z])),te(b=>({...b,[z]:"rechazada"})),setTimeout(()=>{V(b=>{const R=new Set(b);return R.delete(z),R})},600),console.log(" Actualizando estado rechazada en Firebase...");const w=ne==="basica"?await jm(z,"rechazada"):await Bm(z,"rechazada");console.log(" Resultado actualizacin Firebase:",w),w.success||console.error(" No se pudo actualizar el estado en Firebase"),console.log(" Rechazada y guardada en Firebase")},ce=z=>{const ne=Math.floor(z/6e4),w=(z%6e4/1e3).toFixed(0);return`${ne}:${w<10?"0":""}${w}`},Ne=z=>{if(!z)return"Justo ahora";try{const ne=z.toDate?z.toDate():new Date(z);let b=new Date-ne;if(b<5e3)return"Justo ahora";const R=Math.floor(b/1e3),I=Math.floor(R/60),D=Math.floor(I/60),P=Math.floor(D/24);return R<60?`Hace ${R} seg`:I<60?`Hace ${I} min`:D<24?`Hace ${D}h`:`Hace ${P}d`}catch(ne){return console.error("Error formateando tiempo:",ne),"Hace un momento"}};return C.jsxs("div",{className:"lista-peticiones",children:[C.jsx("h2",{children:" Peticiones de Canciones"}),C.jsxs("div",{className:"peticiones-container",children:[C.jsxs("div",{className:"lista-seccion basica",children:[C.jsxs("h3",{children:[C.jsx("span",{className:"badge-basica",children:"BSICA"}),"Lista Gratuita (",r.length,")"]}),C.jsx("div",{className:"peticiones-list",children:r.length===0?C.jsx("p",{className:"empty-message",children:"No hay peticiones bsicas"}):r.map(z=>{const ne=ee[z.firebaseId]||z.estado,w=`peticion-card ${ne==="aprobada"?"aprobada":""} ${ne==="rechazada"?"rechazada":""} ${S.has(z.firebaseId)?"animating":""}`.trim();return console.log(` Renderizando ${z.name}: firebaseId="${z.firebaseId}", spotifyId="${z.id}", estadoGlobal="${ee[z.firebaseId]}", estadoFB="${z.estado}", estadoFinal="${ne}"`),C.jsxs("div",{className:w,children:[C.jsx("img",{src:z.albumCover,alt:z.album,className:"peticion-cover"}),C.jsxs("div",{className:"peticion-info",children:[C.jsx("h4",{children:z.name}),C.jsx("p",{className:"artist",children:z.artist}),C.jsx("p",{className:"album",children:z.album}),C.jsxs("div",{className:"peticion-meta",children:[C.jsx("span",{className:"duration",children:ce(z.duration)}),C.jsxs("span",{className:"timestamp",children:[" ",Ne(z.timestamp)]})]})]}),s&&C.jsxs("div",{className:"peticion-actions",children:[C.jsx("button",{onClick:()=>fe(z,"basica"),className:"btn-aprobar",title:"Aprobar y aadir a lista de reproduccin",disabled:!!ee[z.firebaseId],children:""}),C.jsx("button",{onClick:()=>pe(z.firebaseId,"basica"),className:"btn-rechazar",title:"Rechazar peticin",disabled:!!ee[z.firebaseId],children:""})]})]},z.firebaseId)})})]}),C.jsxs("div",{className:"lista-seccion premium",children:[C.jsxs("h3",{children:[C.jsx("span",{className:"badge-premium",children:" PREMIUM"}),"Lista Prioritaria (",c.length,")"]}),C.jsx("div",{className:"peticiones-list",children:c.length===0?C.jsx("p",{className:"empty-message",children:"No hay peticiones premium"}):c.map(z=>{const ne=ee[z.firebaseId]||z.estado,w=`peticion-card premium-card ${ne==="aprobada"?"aprobada":""} ${ne==="rechazada"?"rechazada":""} ${S.has(z.firebaseId)?"animating":""}`.trim();return C.jsxs("div",{className:w,children:[C.jsx("img",{src:z.albumCover,alt:z.album,className:"peticion-cover"}),C.jsxs("div",{className:"peticion-info",children:[C.jsx("h4",{children:z.name}),C.jsx("p",{className:"artist",children:z.artist}),C.jsx("p",{className:"album",children:z.album}),C.jsxs("div",{className:"peticion-meta",children:[C.jsx("span",{className:"duration",children:ce(z.duration)}),C.jsxs("span",{className:"timestamp",children:[" ",Ne(z.timestamp)]})]}),s&&C.jsxs("span",{className:"codigo-badge",children:["Cdigo: ",z.codigo]})]}),s&&C.jsxs("div",{className:"peticion-actions",children:[C.jsx("button",{onClick:()=>fe(z,"premium"),className:"btn-aprobar",title:"Aprobar y aadir a lista de reproduccin",disabled:!!ee[z.firebaseId],children:""}),C.jsx("button",{onClick:()=>pe(z.firebaseId,"premium"),className:"btn-rechazar",title:"Rechazar peticin",disabled:!!ee[z.firebaseId],children:""})]})]},z.firebaseId)})})]})]})]})}function G2({isDJ:s=!1}){const[e,n]=Ee.useState([]),[r,l]=Ee.useState([]),[c,d]=Ee.useState(null),[p,g]=Ee.useState(!1),[_,T]=Ee.useState(null);Ee.useEffect(()=>{const z=qp(w=>{console.log(" Canciones recibidas de Firebase:",w.map(R=>({firebaseId:R.firebaseId,spotifyId:R.id,name:R.name})));const b=w.sort((R,I)=>(R.orden||0)-(I.orden||0));n(b)}),ne=IA(w=>{console.log(" Historial recibido de Firebase:",w.length,"canciones");const b=w.sort((R,I)=>{const D=R.reproducidaAt?.toMillis()||0;return(I.reproducidaAt?.toMillis()||0)-D});l(b)});return()=>{z(),ne()}},[]);const S=async z=>{if(s){console.log(" Intentando marcar como reproducida:",{firebaseId:z.firebaseId,spotifyId:z.id,name:z.name,cancionCompleta:z});try{const{marcarComoReproducida:ne}=await Ja(async()=>{const{marcarComoReproducida:b}=await Promise.resolve().then(()=>Wa);return{marcarComoReproducida:b}},void 0),w=await ne(z);console.log(" Resultado:",w),w.success?console.log(" Cancin marcada como reproducida exitosamente"):(console.error(" Error:",w.error),alert("Error al marcar la cancin: "+w.error))}catch(ne){console.error(" Error al marcar como reproducida:",ne),alert("Error al marcar la cancin. Intenta de nuevo.")}}},V=z=>{s&&(T(z),g(!0))},q=async()=>{if(_)try{await Hp(_.firebaseId||_.id),console.log(" Cancin eliminada"),g(!1),T(null)}catch(z){console.error("Error al eliminar:",z),alert("Error al eliminar la cancin. Intenta de nuevo.")}},W=()=>{g(!1),T(null)},ee=(z,ne)=>{s&&(d(ne),z.dataTransfer.effectAllowed="move",z.currentTarget.style.opacity="0.5")},te=z=>{z.currentTarget.style.opacity="1",d(null)},fe=z=>{s&&(z.preventDefault(),z.dataTransfer.dropEffect="move")},pe=async(z,ne)=>{if(!(!s||c===null||c===ne)){z.preventDefault();try{const w=[...e],[b]=w.splice(c,1);w.splice(ne,0,b),n(w);const{updateOrdenCancion:R}=await Ja(async()=>{const{updateOrdenCancion:D}=await Promise.resolve().then(()=>Wa);return{updateOrdenCancion:D}},void 0),I=w.map((D,P)=>R(D.firebaseId,P));await Promise.all(I),console.log(" Orden actualizado en Firebase")}catch(w){console.error("Error reordenando:",w),alert("Error al reordenar. Intenta de nuevo.")}}},ce=z=>{const ne=Math.floor(z/6e4),w=(z%6e4/1e3).toFixed(0);return`${ne}:${w<10?"0":""}${w}`},Ne=z=>{if(!z)return"";try{const ne=z.toDate?z.toDate():new Date(z),b=Math.floor((new Date-ne)/6e4);if(b<1)return"Hace un momento";if(b<60)return`Hace ${b} min`;const R=Math.floor(b/60);return R<24?`Hace ${R}h`:ne.toLocaleDateString()}catch{return""}};return C.jsxs("div",{className:"reproduccion-actual",children:[C.jsx("h2",{children:" Lista de Reproduccin"}),C.jsxs("div",{className:"seccion-cola",children:[C.jsxs("div",{className:"seccion-header",children:[C.jsx("h3",{children:" Cola de Reproduccin"}),C.jsxs("span",{className:"contador",children:[e.length," canciones"]})]}),e.length===0?C.jsxs("div",{className:"empty-state",children:[C.jsx("p",{children:" No hay canciones en la cola"}),C.jsx("small",{children:"Las canciones aprobadas aparecern aqu"})]}):C.jsx("div",{className:"lista-canciones",children:e.map((z,ne)=>C.jsxs("div",{className:`cancion-card ${c===ne?"dragging":""}`,draggable:s,onDragStart:w=>ee(w,ne),onDragEnd:te,onDragOver:fe,onDrop:w=>pe(w,ne),children:[C.jsxs("div",{className:"orden-numero",children:[s&&C.jsx("span",{className:"drag-handle",children:""}),ne+1]}),C.jsx("img",{src:z.albumCover,alt:z.album,className:"cancion-cover"}),C.jsxs("div",{className:"cancion-info",children:[C.jsx("h4",{children:z.name}),C.jsx("p",{className:"artist",children:z.artist}),C.jsx("p",{className:"album",children:z.album}),C.jsxs("div",{className:"cancion-meta",children:[C.jsx("span",{className:"duration",children:ce(z.duration)}),z.tipoPeticion&&C.jsx("span",{className:`badge-tipo ${z.tipoPeticion}`,children:z.tipoPeticion==="premium"?" Premium":" Bsica"})]})]}),s&&C.jsxs("div",{className:"cancion-acciones",children:[C.jsx("button",{onClick:()=>S(z),className:"btn-reproducida",title:"Marcar como reproducida",children:" Reproducida"}),C.jsx("button",{onClick:()=>V(z),className:"btn-eliminar",title:"Eliminar de la cola",children:""})]})]},z.firebaseId||z.id))})]}),C.jsxs("div",{className:"seccion-historial",children:[C.jsxs("div",{className:"seccion-header",children:[C.jsx("h3",{children:" Historial de Reproduccin"}),C.jsxs("span",{className:"contador",children:[r.length," reproducidas"]})]}),r.length===0?C.jsxs("div",{className:"empty-state",children:[C.jsx("p",{children:" No hay canciones en el historial"}),C.jsx("small",{children:"Las canciones reproducidas aparecern aqu"})]}):C.jsx("div",{className:"lista-canciones historial",children:r.map(z=>C.jsxs("div",{className:"cancion-card historial-card",children:[C.jsx("img",{src:z.albumCover,alt:z.album,className:"cancion-cover"}),C.jsxs("div",{className:"cancion-info",children:[C.jsx("h4",{children:z.name}),C.jsx("p",{className:"artist",children:z.artist}),C.jsx("p",{className:"album",children:z.album}),C.jsxs("div",{className:"cancion-meta",children:[C.jsx("span",{className:"duration",children:ce(z.duration)}),z.tipoPeticion&&C.jsx("span",{className:`badge-tipo ${z.tipoPeticion}`,children:z.tipoPeticion==="premium"?" Premium":" Bsica"}),z.reproducidaAt&&C.jsxs("span",{className:"timestamp",children:[" ",Ne(z.reproducidaAt)]})]})]}),C.jsx("div",{className:"badge-reproducida",children:" Reproducida"})]},z.firebaseId||z.id))})]}),p&&_&&C.jsx("div",{className:"modal-overlay",onClick:W,children:C.jsxs("div",{className:"delete-popup",onClick:z=>z.stopPropagation(),children:[C.jsxs("div",{className:"delete-popup-header",children:[C.jsx("h3",{children:" Eliminar Cancin"}),C.jsx("button",{className:"close-btn",onClick:W,children:""})]}),C.jsxs("div",{className:"delete-popup-body",children:[C.jsxs("div",{className:"cancion-preview",children:[C.jsx("img",{src:_.albumCover,alt:_.album,className:"preview-cover"}),C.jsxs("div",{className:"preview-info",children:[C.jsx("h4",{children:_.name}),C.jsx("p",{children:_.artist})]})]}),C.jsx("p",{className:"warning-text",children:"Ests seguro de eliminar esta cancin de la cola de reproduccin?"}),C.jsxs("div",{className:"delete-popup-actions",children:[C.jsx("button",{onClick:W,className:"btn-cancel",children:"Cancelar"}),C.jsx("button",{onClick:q,className:"btn-delete-confirm",children:"Eliminar"})]})]})]})})]})}function Q2(){const[s,e]=Ee.useState([]),[n,r]=Ee.useState(""),[l,c]=Ee.useState(""),[d,p]=Ee.useState(""),[g,_]=Ee.useState(null),[T,S]=Ee.useState(!1),[V,q]=Ee.useState(!1);Ee.useEffect(()=>{const I=RA(D=>{e(D)});return()=>I()},[]);const W=()=>{const I=Hm();r(I)},ee=async()=>{if(!n.trim()){c("Ingresa un cdigo");return}if(n.length!==6){c("El cdigo debe tener exactamente 6 caracteres");return}const I=await qm(n);I.success?(p(` Cdigo ${n.toUpperCase()} creado exitosamente`),r(""),c(""),setTimeout(()=>p(""),3e3)):c(I.error)},te=async()=>{c(""),p("");const I=[];try{for(let D=0;D<10;D++){const P=Hm();(await qm(P)).success&&I.push(P)}I.length>0?(p(` Se generaron ${I.length} cdigos automticamente`),setTimeout(()=>p(""),3500)):c(" No se pudo crear ningn cdigo")}catch{c(" Error al crear los cdigos. Intenta de nuevo.")}},fe=()=>{if(b.length===0){alert("No hay cdigos disponibles para descargar.");return}const I=b.map(D=>D.codigo).join(`
`);ce(I,"codigos-disponibles")},pe=()=>{if(R.length===0){alert("No hay cdigos usados para descargar.");return}const I=R.map(D=>`${D.codigo} - Usado: ${w(D.fechaUso)}`).join(`
`);ce(I,"codigos-usados")},ce=(I,D)=>{const P=new Blob([I],{type:"text/plain"}),N=URL.createObjectURL(P),Ge=document.createElement("a");Ge.href=N,Ge.download=`${D}-${Date.now()}.txt`,Ge.click(),URL.revokeObjectURL(N)},Ne=I=>{_(I),S(!0),c("")},z=async()=>{if(!g)return;q(!0),(await CA(g.firebaseId)).success||c("Error al eliminar el cdigo"),q(!1),S(!1),_(null)},ne=()=>{V||(S(!1),_(null))},w=I=>{if(!I)return"N/A";try{return(I.toDate?I.toDate():new Date(I)).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"N/A"}},b=s.filter(I=>!I.usado),R=s.filter(I=>I.usado);return C.jsxs("div",{className:"gestion-codigos",children:[C.jsx("h2",{children:" Gestin de Cdigos Premium"}),C.jsxs("div",{className:"crear-codigo-section",children:[C.jsx("h3",{children:"Crear Nuevo Cdigo"}),C.jsxs("div",{className:"crear-codigo-form",children:[C.jsx("input",{type:"text",className:"input-codigo",placeholder:"Ej: ABC123",value:n,onChange:I=>r(I.target.value.toUpperCase()),maxLength:6}),C.jsx("button",{onClick:W,className:"btn-generar",children:" Generar Aleatorio"}),C.jsx("button",{onClick:ee,className:"btn-crear",children:" Crear Cdigo"}),C.jsx("button",{onClick:te,className:"btn-crear",children:" Crear 10 Automticos"})]}),l&&C.jsx("p",{className:"mensaje-error",children:l}),d&&C.jsx("p",{className:"mensaje-exito",children:d})]}),C.jsxs("div",{className:"codigos-section disponibles",children:[C.jsxs("h3",{children:[" Cdigos Disponibles (",b.length,")"]}),b.length>0&&C.jsx("button",{onClick:fe,className:"btn-crear",style:{marginBottom:15},children:" Descargar Cdigos Disponibles"}),b.length===0?C.jsx("p",{className:"empty-message",children:"No hay cdigos disponibles"}):C.jsx("div",{className:"codigos-grid",children:b.map(I=>C.jsxs("div",{className:"codigo-card disponible",children:[C.jsxs("div",{className:"codigo-header",children:[C.jsx("span",{className:"codigo-text",children:I.codigo}),C.jsx("span",{className:"badge-disponible",children:"Disponible"})]}),C.jsxs("div",{className:"codigo-footer",children:[C.jsxs("span",{className:"fecha-creacion",children:[" ",w(I.fechaCreacion)]}),C.jsx("button",{onClick:()=>Ne(I),className:"btn-eliminar-codigo",children:""})]})]},I.firebaseId))})]}),C.jsxs("div",{className:"codigos-section usados",children:[C.jsxs("h3",{children:[" Cdigos Usados (",R.length,")"]}),R.length>0&&C.jsx("button",{onClick:pe,className:"btn-crear",style:{marginBottom:15},children:" Descargar Cdigos Usados"}),R.length===0?C.jsx("p",{className:"empty-message",children:"No hay cdigos usados"}):C.jsx("div",{className:"codigos-grid",children:R.map(I=>C.jsxs("div",{className:"codigo-card usado",children:[C.jsxs("div",{className:"codigo-header",children:[C.jsx("span",{className:"codigo-text",children:I.codigo}),C.jsx("span",{className:"badge-usado",children:"Usado"})]}),C.jsxs("div",{className:"codigo-footer",children:[C.jsxs("div",{className:"codigo-fechas",children:[C.jsxs("span",{className:"fecha-small",children:["Creado: ",w(I.fechaCreacion)]}),C.jsxs("span",{className:"fecha-small",children:["Usado: ",w(I.fechaUso)]})]}),C.jsx("button",{onClick:()=>Ne(I),className:"btn-eliminar-codigo",children:""})]})]},I.firebaseId))})]}),T&&g&&C.jsx("div",{className:"modal-overlay",onClick:ne,children:C.jsxs("div",{className:"delete-popup",onClick:I=>I.stopPropagation(),children:[C.jsxs("div",{className:"delete-popup-header",children:[C.jsx("h3",{children:"Eliminar cdigo"}),C.jsx("button",{className:"close-btn",onClick:ne,disabled:V,children:""})]}),C.jsxs("div",{className:"delete-popup-body",children:[C.jsx("div",{className:"cancion-preview",children:C.jsxs("div",{className:"preview-info",children:[C.jsxs("h4",{children:["Cdigo: ",g.codigo]}),C.jsxs("p",{children:["Creado: ",w(g.fechaCreacion)]})]})}),C.jsxs("p",{className:"warning-text",children:["Seguro que deseas eliminar este cdigo? ",C.jsx("br",{}),"Esta accin ",C.jsx("strong",{children:"no se puede deshacer"}),"."]}),C.jsxs("div",{className:"delete-popup-actions",children:[C.jsx("button",{className:"btn-cancel",onClick:ne,disabled:V,children:"Cancelar"}),C.jsx("button",{className:"btn-delete-confirm",onClick:z,disabled:V,children:V?"Eliminando...":"Eliminar Cdigo"})]})]})]})})]})}function K2(){const[s,e]=Ee.useState("biblioteca"),[n,r]=Ee.useState(null),[l,c]=Ee.useState(!0),[d,p]=Ee.useState(!1),[g,_]=Ee.useState({});Ee.useEffect(()=>{const W=nR(zm,ee=>{r(ee),c(!1),console.log("Usuario actual:",ee?.email||"No autenticado")});return()=>W()},[]);const T=W=>{r(W),p(!1)},S=async()=>{if(confirm("Cerrar sesin como DJ?"))try{await iR(zm),r(null),alert(" Sesin cerrada correctamente")}catch(ee){console.error("Error al cerrar sesin:",ee),alert(" Error al cerrar sesin")}},V=(W,ee,te=null)=>{console.log("Cancin aadida:",W),console.log("Tipo de lista:",ee),te&&console.log("Cdigo usado:",te)},q=()=>{switch(s){case"biblioteca":return C.jsx(WE,{onAddToList:V});case"peticiones":return C.jsx(F2,{isDJ:!!n,estadosPeticiones:g,setEstadosPeticiones:_});case"reproduccion":return C.jsx(G2,{isDJ:!!n});case"codigos":return C.jsx(Q2,{});default:return C.jsx(WE,{onAddToList:V})}};return l?C.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontSize:"1.5rem",color:"#1db954"},children:" Cargando..."}):d?C.jsx(V2,{onLoginSuccess:T}):C.jsxs("div",{className:"app",children:[C.jsx(O2,{seccionActiva:s,onCambiarSeccion:e,isDJ:!!n,onLogout:n?S:null}),C.jsx("main",{children:q()}),!n&&C.jsx("button",{onClick:()=>p(!0),className:"toggle-dj-btn",title:"Iniciar sesin como DJ",children:" Acceso DJ"})]})}_b.createRoot(document.getElementById("root")).render(C.jsx(Ee.StrictMode,{children:C.jsx(K2,{})}));
